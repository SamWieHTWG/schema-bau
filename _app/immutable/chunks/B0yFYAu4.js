import"./CWj6FrbW.js";import"./Cawd6btV.js";import{m as ue,I as de,K as le,L as ie,T as ee,x as t,J as Le,aE as Pe,M as S,g as qe,N as B,e as p,o as ce,w as F,f as L,v as R,V as Re,O as oe,G as xt,t as Te,ah as A,R as Qe,Q as gt,al as _t}from"./CaxDi-Zx.js";import{s as W,e as I,r as ht,c as pt,w as Tt,o as wt,d as yt}from"./BbhxjQi6.js";import{l as me,p as m,i as G,a as ze,s as Fe}from"./DDlkXUGl.js";import{a as Ce,b as Ie,h as Xe,d as V,c as et,s as X,f as De,r as St,t as Z,e as tt,i as at}from"./TuLgb3IM.js";import{b as rt}from"./D3J3fwp7.js";import{b as Ve}from"./iYMKbDFE.js";import{b as N,W as nt,c as Bt,S as Ae,a as pe,d as Ct}from"./DmRjIq0I.js";import{E as Et,t as ae,v as Rt,w as Mt,x as Lt,y as Pt,a as zt,I as Ft,d as It,e as At,z as lt,n as kt,o as Gt,p as Ot,q as Dt,D as qt,G as Vt,H as Nt,J as Wt,K as Ht,u as Zt,L as $t,M as jt,O as Ut,s as Yt,B as Jt,P as je}from"./yYUuOib1.js";import"./D_Xd3K8B.js";import{G as it,T as Kt,k as Ue,l as Qt,w as Xt,x as ea,y as ta,M as Me,h as aa,s as ra,c as na}from"./XEAAqoRX.js";var la=Pe("<title> </title>"),ia=Pe('<svg><!><path d="M16,2A14,14,0,1,0,30,16,14,14,0,0,0,16,2ZM14,21.5908l-5-5L10.5906,15,14,18.4092,21.41,11l1.5957,1.5859Z"></path><path fill="none" d="M14 21.591L9 16.591 10.591 15 14 18.409 21.41 11 23.005 12.585 14 21.591z" data-icon-path="inner-path"></path></svg>');function Ua(T,e){const x=me(e,["children","$$slots","$$events","$$legacy"]),C=me(x,["size","title"]);ue(e,!1);const w=ie(),s=ie();let c=m(e,"size",8,16),f=m(e,"title",8,void 0);de(()=>(ee(x),ee(f())),()=>{le(w,x["aria-label"]||x["aria-labelledby"]||f())}),de(()=>(t(w),ee(x)),()=>{le(s,{"aria-hidden":t(w)?void 0:!0,role:t(w)?"img":void 0,focusable:Number(x.tabindex)===0?!0:void 0})}),Le(),Ce();var d=ia();Ie(d,()=>({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:c(),height:c(),...t(s),...C}));var l=S(d);{var n=g=>{var v=la(),o=S(v,!0);B(v),F(()=>W(o,f())),p(g,v)};G(l,g=>{f()&&g(n)})}qe(2),B(d),p(T,d),ce()}var sa=Pe("<title> </title>"),oa=Pe('<svg><!><path fill="none" d="M14.9 7.2H17.1V24.799H14.9z" data-icon-path="inner-path" transform="rotate(-45 16 16)"></path><path d="M16,2A13.914,13.914,0,0,0,2,16,13.914,13.914,0,0,0,16,30,13.914,13.914,0,0,0,30,16,13.914,13.914,0,0,0,16,2Zm5.4449,21L9,10.5557,10.5557,9,23,21.4448Z"></path></svg>');function Ya(T,e){const x=me(e,["children","$$slots","$$events","$$legacy"]),C=me(x,["size","title"]);ue(e,!1);const w=ie(),s=ie();let c=m(e,"size",8,16),f=m(e,"title",8,void 0);de(()=>(ee(x),ee(f())),()=>{le(w,x["aria-label"]||x["aria-labelledby"]||f())}),de(()=>(t(w),ee(x)),()=>{le(s,{"aria-hidden":t(w)?void 0:!0,role:t(w)?"img":void 0,focusable:Number(x.tabindex)===0?!0:void 0})}),Le(),Ce();var d=oa();Ie(d,()=>({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:c(),height:c(),...t(s),...C}));var l=S(d);{var n=g=>{var v=sa(),o=S(v,!0);B(v),F(()=>W(o,f())),p(g,v)};G(l,g=>{f()&&g(n)})}qe(2),B(d),p(T,d),ce()}var da=L("<div> </div>"),ua=L("<div><label><!></label> <!></div>"),ca=L("<div> </div>"),va=L("<div> </div>"),fa=L("<div><!> <div><!> <textarea></textarea></div> <!> <!></div>");function Ja(T,e){const x=Xe(e),C=me(e,["children","$$slots","$$events","$$legacy"]),w=me(C,["value","placeholder","cols","rows","maxCount","light","disabled","readonly","helperText","labelText","hideLabel","invalid","invalidText","id","name","ref"]);ue(e,!1);const s=ie();let c=m(e,"value",12,""),f=m(e,"placeholder",8,""),d=m(e,"cols",8,50),l=m(e,"rows",8,4),n=m(e,"maxCount",8,void 0),g=m(e,"light",8,!1),v=m(e,"disabled",8,!1),o=m(e,"readonly",8,!1),u=m(e,"helperText",8,""),b=m(e,"labelText",8,""),_=m(e,"hideLabel",8,!1),h=m(e,"invalid",8,!1),O=m(e,"invalidText",8,""),E=m(e,"id",24,()=>"ccs-"+Math.random().toString(36)),K=m(e,"name",8,void 0),H=m(e,"ref",12,null);de(()=>ee(E()),()=>{le(s,`error-${E()}`)}),Le(),Ce();var D=fa();V(D,1,"",null,{},{"bx--form-item":!0});var U=S(D);{var ve=r=>{var M=ua();V(M,1,"",null,{},{"bx--text-area__label-wrapper":!0});var J=S(M);let ge;var _e=S(J);De(_e,e,"labelText",{},re=>{var Y=Re();F(()=>W(Y,b())),p(re,Y)}),B(J);var ke=R(J,2);{var we=re=>{var Y=da();let ye;var Ee=S(Y);B(Y),F(Ge=>{ye=V(Y,1,"",null,ye,Ge),W(Ee,`${(c()??"").length??""}/${n()??""}`)},[()=>({"bx--label":!0,"bx--label--disabled":v()})],oe),p(re,Y)};G(ke,re=>{n()&&re(we)})}B(M),F(re=>{X(J,"for",E()),ge=V(J,1,"",null,ge,re)},[()=>({"bx--label":!0,"bx--visually-hidden":_(),"bx--label--disabled":v()})],oe),p(r,M)};G(U,r=>{(b()||x.labelText)&&r(ve)})}var P=R(U,2);V(P,1,"",null,{},{"bx--text-area__wrapper":!0});var y=S(P);{var $=r=>{nt(r,{class:"bx--text-area__invalid-icon"})};G(y,r=>{h()&&r($)})}var z=R(y,2);ht(z),Ie(z,r=>({"aria-invalid":h()||void 0,"aria-describedby":h()?t(s):void 0,disabled:v(),id:E(),name:K(),cols:d(),rows:l(),placeholder:f(),readonly:o(),maxlength:n()??void 0,...w,[et]:r}),[()=>({"bx--text-area":!0,"bx--text-area--light":g(),"bx--text-area--invalid":h()})]),Ve(z,r=>H(r),()=>H()),B(P);var te=R(P,2);{var fe=r=>{var M=ca();let J;var ge=S(M,!0);B(M),F(_e=>{J=V(M,1,"",null,J,_e),W(ge,u())},[()=>({"bx--form__helper-text":!0,"bx--form__helper-text--disabled":v()})],oe),p(r,M)};G(te,r=>{!h()&&u()&&r(fe)})}var be=R(te,2);{var q=r=>{var M=va();V(M,1,"",null,{},{"bx--form-requirement":!0});var J=S(M,!0);B(M),F(()=>{X(M,"id",t(s)),W(J,O())}),p(r,M)};G(be,r=>{h()&&r(q)})}B(D),F(()=>X(P,"data-invalid",h()||void 0)),rt(z,c),I("change",z,function(r){N.call(this,e,r)}),I("input",z,function(r){N.call(this,e,r)}),I("keydown",z,function(r){N.call(this,e,r)}),I("keyup",z,function(r){N.call(this,e,r)}),I("focus",z,function(r){N.call(this,e,r)}),I("blur",z,function(r){N.call(this,e,r)}),I("paste",z,function(r){N.call(this,e,r)}),I("click",D,function(r){N.call(this,e,r)}),I("mouseover",D,function(r){N.call(this,e,r)}),I("mouseenter",D,function(r){N.call(this,e,r)}),I("mouseleave",D,function(r){N.call(this,e,r)}),p(T,D),ce()}var ba=L("<label><!></label>"),ma=L("<div> </div>"),xa=L("<div><!> <!></div>"),ga=L("<label><!></label>"),_a=L("<!> <!>",1),ha=L("<hr/>"),pa=L("<div> </div>"),Ta=L("<div> </div>"),wa=L("<div> </div>"),ya=L("<div> </div>"),Sa=L("<div> </div>"),Ba=L("<div><!> <!> <div><div><!> <input/> <!> <!> <!></div> <!> <!> <!></div></div>");function Ka(T,e){const x=Xe(e),C=me(e,["children","$$slots","$$events","$$legacy"]),w=me(C,["size","value","placeholder","light","disabled","helperText","id","name","labelText","hideLabel","invalid","invalidText","warn","warnText","ref","required","inline","readonly"]);ue(e,!1);const s=ie(),c=ie(),f=ie(),d=ie();let l=m(e,"size",8,void 0),n=m(e,"value",12,""),g=m(e,"placeholder",8,""),v=m(e,"light",8,!1),o=m(e,"disabled",8,!1),u=m(e,"helperText",8,""),b=m(e,"id",24,()=>"ccs-"+Math.random().toString(36)),_=m(e,"name",8,void 0),h=m(e,"labelText",8,""),O=m(e,"hideLabel",8,!1),E=m(e,"invalid",8,!1),K=m(e,"invalidText",8,""),H=m(e,"warn",8,!1),D=m(e,"warnText",8,""),U=m(e,"ref",12,null),ve=m(e,"required",8,!1),P=m(e,"inline",8,!1),y=m(e,"readonly",8,!1);const $=xt("Form"),z=pt();function te(a){return w.type!=="number"?a:a!=""?Number(a):null}const fe=a=>{n(te(a.target.value)),z("input",n())},be=a=>{z("change",te(a.target.value))},q=!!$&&$.isFluid;de(()=>(ee(E()),ee(y())),()=>{le(s,E()&&!y())}),de(()=>ee(b()),()=>{le(c,`helper-${b()}`)}),de(()=>ee(b()),()=>{le(f,`error-${b()}`)}),de(()=>ee(b()),()=>{le(d,`warn-${b()}`)}),Le(),Ce();var r=Ba();let M;var J=S(r);{var ge=a=>{var i=xa();V(i,1,"",null,{},{"bx--text-input__label-helper-wrapper":!0});var k=S(i);{var xe=j=>{var ne=ba();let Se;var Oe=S(ne);De(Oe,e,"labelText",{},Be=>{var $e=Re();F(()=>W($e,h())),p(Be,$e)}),B(ne),F(Be=>{X(ne,"for",b()),Se=V(ne,1,"",null,Se,Be)},[()=>({"bx--label":!0,"bx--visually-hidden":O(),"bx--label--disabled":o(),"bx--label--inline":P(),"bx--label--inline--sm":l()==="sm","bx--label--inline--xl":l()==="xl"})],oe),p(j,ne)};G(k,j=>{h()&&j(xe)})}var se=R(k,2);{var he=j=>{var ne=ma();let Se;var Oe=S(ne,!0);B(ne),F(Be=>{Se=V(ne,1,"",null,Se,Be),W(Oe,u())},[()=>({"bx--form__helper-text":!0,"bx--form__helper-text--disabled":o(),"bx--form__helper-text--inline":P()})],oe),p(j,ne)};G(se,j=>{!q&&u()&&j(he)})}B(i),p(a,i)};G(J,a=>{P()&&a(ge)})}var _e=R(J,2);{var ke=a=>{var i=ga();let k;var xe=S(i);De(xe,e,"labelText",{},se=>{var he=Re();F(()=>W(he,h())),p(se,he)}),B(i),F(se=>{X(i,"for",b()),k=V(i,1,"",null,k,se)},[()=>({"bx--label":!0,"bx--visually-hidden":O(),"bx--label--disabled":o(),"bx--label--inline":P(),"bx--label--inline-sm":P()&&l()==="sm","bx--label--inline-xl":P()&&l()==="xl"})],oe),p(a,i)};G(_e,a=>{!P()&&(h()||x.labelText)&&a(ke)})}var we=R(_e,2);let re;var Y=S(we);let ye;var Ee=S(Y);{var Ge=a=>{Et(a,{class:"bx--text-input__readonly-icon"})},st=a=>{var i=_a(),k=Te(i);{var xe=j=>{nt(j,{class:"bx--text-input__invalid-icon"})};G(k,j=>{E()&&j(xe)})}var se=R(k,2);{var he=j=>{Bt(j,{class:`bx--text-input__invalid-icon
            bx--text-input__invalid-icon--warning`})};G(se,j=>{!E()&&H()&&j(he)})}p(a,i)};G(Ee,a=>{y()?a(Ge):a(st,!1)})}var Q=R(Ee,2);St(Q),Ie(Q,a=>({"data-invalid":t(s)||void 0,"aria-invalid":t(s)||void 0,"data-warn":H()||void 0,"aria-describedby":t(s)?t(f):H()?t(d):u()?t(c):void 0,disabled:o(),id:b(),name:_(),placeholder:g(),required:ve(),readonly:y(),...w,[et]:a}),[()=>({"bx--text-input":!0,"bx--text-input--light":v(),"bx--text-input--invalid":t(s),"bx--text-input--warning":H(),"bx--text-input--sm":l()==="sm","bx--text-input--xl":l()==="xl"})]),Ve(Q,a=>U(a),()=>U());var Ne=R(Q,2);{var ot=a=>{var i=ha();V(i,1,"",null,{},{"bx--text-input__divider":!0}),p(a,i)};G(Ne,a=>{q&&a(ot)})}var We=R(Ne,2);{var dt=a=>{var i=pa();V(i,1,"",null,{},{"bx--form-requirement":!0});var k=S(i,!0);B(i),F(()=>{X(i,"id",t(f)),W(k,K())}),p(a,i)};G(We,a=>{q&&!P()&&E()&&a(dt)})}var ut=R(We,2);{var ct=a=>{var i=Ta();V(i,1,"",null,{},{"bx--form-requirement":!0});var k=S(i,!0);B(i),F(()=>{X(i,"id",t(d)),W(k,D())}),p(a,i)};G(ut,a=>{q&&!P()&&H()&&a(ct)})}B(Y);var He=R(Y,2);{var vt=a=>{var i=wa();let k;var xe=S(i,!0);B(i),F(se=>{X(i,"id",t(c)),k=V(i,1,"",null,k,se),W(xe,u())},[()=>({"bx--form__helper-text":!0,"bx--form__helper-text--disabled":o(),"bx--form__helper-text--inline":P()})],oe),p(a,i)};G(He,a=>{!E()&&!H()&&!q&&!P()&&u()&&a(vt)})}var Ze=R(He,2);{var ft=a=>{var i=ya();V(i,1,"",null,{},{"bx--form-requirement":!0});var k=S(i,!0);B(i),F(()=>{X(i,"id",t(f)),W(k,K())}),p(a,i)};G(Ze,a=>{!q&&E()&&a(ft)})}var bt=R(Ze,2);{var mt=a=>{var i=Sa();V(i,1,"",null,{},{"bx--form-requirement":!0});var k=S(i,!0);B(i),F(()=>{X(i,"id",t(d)),W(k,D())}),p(a,i)};G(bt,a=>{!q&&!E()&&H()&&a(mt)})}B(we),B(r),F((a,i,k)=>{M=V(r,1,"",null,M,a),re=V(we,1,"",null,re,i),X(Y,"data-invalid",t(s)||void 0),X(Y,"data-warn",H()||void 0),ye=V(Y,1,"",null,ye,k)},[()=>({"bx--form-item":!0,"bx--text-input-wrapper":!0,"bx--text-input-wrapper--inline":P(),"bx--text-input-wrapper--light":v(),"bx--text-input-wrapper--readonly":y()}),()=>({"bx--text-input__field-outer-wrapper":!0,"bx--text-input__field-outer-wrapper--inline":P()}),()=>({"bx--text-input__field-wrapper":!0,"bx--text-input__field-wrapper--warning":!E()&&H()})],oe),rt(Q,n),I("change",Q,be),I("input",Q,fe),I("keydown",Q,function(a){N.call(this,e,a)}),I("keyup",Q,function(a){N.call(this,e,a)}),I("focus",Q,function(a){N.call(this,e,a)}),I("blur",Q,function(a){N.call(this,e,a)}),I("paste",Q,function(a){N.call(this,e,a)}),I("click",r,function(a){N.call(this,e,a)}),I("mouseover",r,function(a){N.call(this,e,a)}),I("mouseenter",r,function(a){N.call(this,e,a)}),I("mouseleave",r,function(a){N.call(this,e,a)}),p(T,r),ce()}var Ca=L("<!> <!>",1);function Qa(T,e){ue(e,!0);const[x,C]=ze();let s=A(()=>Fe(ae,"$parameterStore",x));function c(l){var v;const g=(l.detail||((v=l.target)==null?void 0:v.value))==="rund";ae.updateField("isRound",g)}const f=A(()=>Z("bridgeBearing.bearingShape")),d=A(()=>t(s).isRound?"rund":"rechteckig");Ae(T,{get labelText(){return t(f)},get selected(){return t(d)},light:!0,$$events:{change:c},children:(l,n)=>{var g=Ca(),v=Te(g);const o=A(()=>Z("bridgeBearing.rectangular"));pe(v,{value:"rechteckig",get text(){return t(o)}});var u=R(v,2);const b=A(()=>Z("bridgeBearing.round"));pe(u,{value:"rund",get text(){return t(b)}}),p(l,g)},$$slots:{default:!0}}),ce(),C()}function Xa(T,e){ue(e,!0);const[x,C]=ze();let s=A(()=>Fe(ae,"$parameterStore",x)),c=A(Mt),f=A(()=>Rt.map(o=>o.diameter)),d=A(()=>t(s).isRound?t(f).findIndex(o=>o===t(s).d):t(c).findIndex(o=>o.length===t(s).a&&o.width===t(s).b)),l=A(()=>t(s).isRound?t(f).map((o,u)=>({value:u,label:`${o} mm`})):t(c).map((o,u)=>({value:u,label:`${o.length} mm x ${o.width} mm`})));function n(o){var b;const u=parseInt(((b=o.target)==null?void 0:b.value)||o.detail);if(t(s).isRound){const _=t(f)[u];_&&ae.updateField("d",_)}else{const _=t(c)[u];_&&(ae.updateField("a",_.length),ae.updateField("b",_.width))}}const g=A(()=>t(s).isRound?Z("bridgeBearing.dimensionsDiameter"):Z("bridgeBearing.dimensionsLengthWidth")),v=A(()=>t(d).toString());Ae(T,{get labelText(){return t(g)},get selected(){return t(v)},light:!0,$$events:{change:n},children:(o,u)=>{var b=Qe(),_=Te(b);tt(_,17,()=>t(l),at,(h,O)=>{const E=A(()=>t(O).value.toString());pe(h,{get value(){return t(E)},get text(){return t(O).label}})}),p(o,b)},$$slots:{default:!0}}),ce(),C()}function er(T,e){ue(e,!0);const[x,C]=ze();let s=A(()=>Fe(ae,"$parameterStore",x)),c=A(()=>t(s).isRound?Lt(t(s).d).map(n=>({value:`${n.n}-${n.t_1}`,label:`${Z("bridgeBearing.layerCount")} ${n.n}, ${Z("bridgeBearing.layerHeight")} ${n.t_1}mm`,n:n.n,t_1:n.t_1})):Pt(t(s).a,t(s).b).map(n=>({value:`${n.n}-${n.t_1}`,label:`${Z("bridgeBearing.layerCount")} ${n.n}, ${Z("bridgeBearing.layerHeight")} ${n.t_1}mm`,n:n.n,t_1:n.t_1})));gt(()=>{const n=`${t(s).n}-${t(s).t_1}`;if(!t(c).some(v=>v.value===n)&&t(c).length>0){const v=t(c)[0];ae.update(o=>({...o,n:v.n,t_1:v.t_1}))}});function f(n){var _;const g=((_=n.target)==null?void 0:_.value)||n.detail,[v,o]=g.split("-"),u=parseInt(v),b=parseFloat(o);ae.update(h=>({...h,n:u,t_1:b}))}const d=A(()=>Z("bridgeBearing.elastomerLayers")),l=A(()=>`${t(s).n}-${t(s).t_1}`);Ae(T,{get labelText(){return t(d)},get selected(){return t(l)},light:!0,$$events:{change:f},children:(n,g)=>{var v=Qe(),o=Te(v);tt(o,17,()=>t(c),at,(u,b)=>{const _=A(()=>t(b).value.toString());pe(u,{get value(){return t(_)},get text(){return t(b).label}})}),p(n,v)},$$slots:{default:!0}}),ce(),C()}var Ea=L('<span slot="tooltipText"> <br/> <br/> <br/> <br/> <br/> <br/> </span>'),Ra=L("<!> <!>",1),Ma=L('<div class="select-with-tooltip svelte-17kum7t"><div class="label-container svelte-17kum7t"><span class="label-text svelte-17kum7t"> </span> <!></div> <div style="margin-top: calc(-1 * var(--cds-spacing-03));"></div> <!></div>');function tr(T,e){ue(e,!0);const[x,C]=ze();let s=A(()=>Fe(ae,"$parameterStore",x));function c(u){var h;const _=(u.detail||((h=u.target)==null?void 0:h.value))==="Typ C"?"C":"B";ae.updateField("l_typ",_)}var f=Ma(),d=S(f),l=S(d),n=S(l,!0);B(l);var g=R(l,2);zt(g,{get icon(){return Ft},$$slots:{tooltipText:(u,b)=>{var _=Ea(),h=S(_,!0),O=R(h,4),E=R(O,4),K=R(E,4);B(_),F((H,D,U,ve)=>{W(h,H),W(O,` ${D??""}`),W(E,` ${U??""}`),W(K,` ${ve??""}`)},[()=>Z("bridgeBearing.typeBTooltip"),()=>Z("bridgeBearing.typeCTooltip"),()=>Z("bridgeBearing.typeCRequired"),()=>Z("bridgeBearing.typeB_DBRestriction")]),p(u,_)}}}),B(d);var v=R(d,4);const o=A(()=>t(s).l_typ==="C"?"Typ C":"Typ B");Ae(v,{labelText:"",get selected(){return t(o)},light:!0,$$events:{change:c},children:(u,b)=>{var _=Ra(),h=Te(_);const O=A(()=>Z("bridgeBearing.typeB"));pe(h,{value:"Typ B",get text(){return t(O)}});var E=R(h,2);const K=A(()=>Z("bridgeBearing.typeC"));pe(E,{value:"Typ C",get text(){return t(K)}}),p(u,_)},$$slots:{default:!0}}),B(f),F(u=>W(n,u),[()=>Z("bridgeBearing.bearingType")]),p(T,f),ce(),C()}function La(T,e=14211288){const x=new it,w=new Kt().load("/texture/concrete1.jpg");w.wrapS=Ue,w.wrapT=Ue,w.repeat.set(1,1),w.colorSpace=Qt;const s=new Xt({map:w,color:e,metalness:.1,roughness:.8}),d=(T.isRound?T.diameter||400:T.breiteElastomer)/1e3*2+.5,l=d,n=2,g=d,v=.05,o=16,u=new ea;u.moveTo(0,0),u.lineTo(l,0),u.lineTo(l,n),u.lineTo(v*2,n),u.absarc(v,n,v,0,Math.PI,!0),u.lineTo(0,0);const b={depth:g,bevelEnabled:!1,curveSegments:o},_=new ta(u,b),h=new Me(_,s);h.position.set(.3-l/2,-.4-n/2,-g/2),x.add(h);const O=.3,E=2.5,K=g,H=new aa(O,E,K),D=new Me(H,s),U=.3-l/2-O/2;return D.position.set(U,-.15,0),x.add(D),x}function Pa(T){It(T,-20)}function za(T){At(T,{x:0,y:500,z:0})}let Ye=[];function Je(T){Ye.forEach(e=>{T.remove(e),e.geometry.dispose(),e.material instanceof ra&&e.material.dispose()}),Ye=[]}function Fa(){const{subscribe:T,set:e,update:x}=Tt({renderer:null,camera:null,controls:null,scene:null,reloadTrigger:0});return{subscribe:T,setScene:C=>{x(w=>({...w,...C}))},reset:()=>{x(C=>({renderer:null,camera:null,controls:null,scene:null,reloadTrigger:C.reloadTrigger}))},reload:()=>{x(C=>({...C,reloadTrigger:C.reloadTrigger+1}))},captureScreenshot:async(C=!1)=>new Promise((w,s)=>{const c={renderer:null,camera:null,controls:null,scene:null,reloadTrigger:0};if(T(l=>{c.renderer=l.renderer,c.camera=l.camera,c.controls=l.controls,c.scene=l.scene,c.reloadTrigger=l.reloadTrigger})(),!c.renderer||!c.camera||!c.scene){s(new Error("Scene not initialized"));return}const d=()=>{if(!c.renderer||!c.camera||!c.scene){s(new Error("Scene not initialized"));return}c.renderer.render(c.scene,c.camera);const l=c.renderer.domElement.toDataURL("image/png");w(l)};C?(lt(),setTimeout(d,1200)):d()})}}const Ke=Fa();var Ia=L('<!> <div class="top-view-button-container svelte-51mmbc"><!></div>',1),Aa=L('<div id="container" class="svelte-51mmbc"><!></div>');function ar(T,e){ue(e,!1);let x=m(e,"parameters",8,void 0),C=m(e,"autoRotate",8,!1),w=m(e,"showTooltip",8,!0);const s=[.3,.6,0],c=new na(3.033053660420776,2.3737696385820284,-.9540866817375618);let f=ie(),d,l,n,g,v,o,u,b,_,h,O,E;function K(){return jt(Ut)}function H(y){b&&(d.remove(b),b.traverse($=>{$ instanceof Me&&($.geometry.dispose(),Array.isArray($.material)?$.material.forEach(z=>z.dispose()):$.material.dispose())}),b=void 0),b=La({breiteElastomer:y.breiteElastomer,isRound:y.isRound,diameter:y.diameter}),d.add(b)}function D(y){if(!v||!o){console.warn("CreateElastomer or elastomerGroup not initialized");return}o.clear(),v.updateElastomer(y,s).forEach(z=>{o.add(z)}),Je(d),H(y)}wt(async()=>{d=kt(),n=Gt(t(f)),Pa(d),za(d),l=Ot(35),l.position.copy(c),g=Dt(l,n,s),Ke.setScene({renderer:n,camera:l,controls:g,scene:d}),_=qt(n,l,g),h=Vt(t(f),g,C()),O=Nt(t(f)),v=new Wt(d,l),o=new it,d.add(o);const y=x()||K();v.createElastomer(y,s).forEach(q=>{o.add(q)}),H(y);const te=1e3/30;let fe=0;const be=q=>{E=requestAnimationFrame(be);const r=q-fe;r<te||(fe=q-r%te,Ht(q,l,g),Zt(g),n.render(d,l))};if(be(0),je(D),await _t(),t(f)&&t(f)instanceof Element){let q=!1;u=new ResizeObserver(()=>{t(f)&&n&&l&&!q&&(q=!0,requestAnimationFrame(()=>{if(t(f)&&n&&l){const r=t(f).clientWidth,M=t(f).clientHeight;n.setSize(r,M),l.aspect=r/M,l.updateProjectionMatrix()}q=!1}))}),u.observe(t(f))}}),yt(()=>{Ke.reset(),E!==void 0&&cancelAnimationFrame(E),n&&$t(n),_==null||_(),h==null||h(),O==null||O(),Je(d),b&&(d.remove(b),b.traverse(y=>{y instanceof Me&&(y.geometry.dispose(),Array.isArray(y.material)?y.material.forEach($=>$.dispose()):y.material.dispose())}),b=void 0),n==null||n.dispose(),je(()=>{}),u==null||u.disconnect()}),Ce();var U=Aa(),ve=S(U);{var P=y=>{var $=Ia(),z=Te($);Yt(z,{});var te=R(z,2),fe=S(te);Jt(fe,{size:"small",kind:"secondary",$$events:{click:()=>lt()},children:(be,q)=>{qe();var r=Re();F(M=>W(r,M),[()=>Z("bridgeBearing.scene.topView")],oe),p(be,r)},$$slots:{default:!0}}),B(te),p(y,$)};G(ve,y=>{w()&&y(P)})}return B(U),Ve(U,y=>le(f,y),()=>t(f)),p(T,U),Ct(e,"updateElastomer",D),ce({updateElastomer:D})}export{Qa as B,Ua as C,Ya as E,ar as T,Xa as a,er as b,tr as c,Ka as d,Ja as e,Ke as s};
