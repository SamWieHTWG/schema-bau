import"./CWj6FrbW.js";import"./BAx6UVK2.js";import{p as Q,o as Z,c as W,m as j,r as $,e as b,q as oe,aN as ve,v as k,n as Le,x as H,a as T,k as ee,y as Y,f as D,w as q,ae as ce,l as Me,j as Fe,ac as Ee}from"./CYgxmeMi.js";import{b as ae}from"./DOKbeAJd.js";import{l as Pe,w as Ae,s as J,e as B,o as be,k as Te}from"./BOWCT1g0.js";import{l as V,p as w,i as de,c as ze,b as se}from"./DcM8k2Qn.js";import{b as U,s as He,a as X,d as Oe,c as Re,G as ke,R as Ne,C as le}from"./Dz4uGRLw.js";import{i as te,a as K,C as ne,s as ue,b as _e}from"./BI3pxalM.js";import{s as Ie,a as Be}from"./BqXIx1a6.js";import{C as we,e as $e,i as De,L as Ge,F as Ue,B as fe,c as xe,S as Ve,d as ie,V as re,f as he,g as We,h as je,j as Ye,M as ye,P as qe,k as Se,H as Xe,D as Ze,l as Je,m as Ke,n as Qe,o as et,s as tt,p as at,q as nt,G as rt,r as ot,t as st,u as lt,b as it,v as ct,w as dt,x as me}from"./CUNVNg9S.js";function ut(i,e){Pe(window,["resize"],()=>Ae(()=>e(window[i])))}var ft=ve("<title> </title>"),ht=ve('<svg><!><path d="M4 6H28V8H4zM4 24H28V26H4zM4 12H28V14H4zM4 18H28V20H4z"></path></svg>');function Ce(i,e){const u=V(e,["children","$$slots","$$events","$$legacy"]),_=V(u,["size","title"]);Q(e,!1);const l=j(),m=j();let o=w(e,"size",8,16),f=w(e,"title",8,void 0);Z(()=>($(u),$(f())),()=>{W(l,u["aria-label"]||u["aria-labelledby"]||f())}),Z(()=>(b(l),$(u)),()=>{W(m,{"aria-hidden":b(l)?void 0:!0,role:b(l)?"img":void 0,focusable:Number(u.tabindex)===0?!0:void 0})}),oe(),te();var d=ht();K(d,()=>({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:o(),height:o(),...b(m),..._}));var a=k(d);{var t=r=>{var h=ft(),s=k(h,!0);H(h),Y(()=>J(s,f())),T(r,h)};de(a,r=>{f()&&r(t)})}Le(),H(d),T(i,d),ee()}var mt=D("<button><!></button>");function gt(i,e){const u=V(e,["children","$$slots","$$events","$$legacy"]),_=V(u,["ariaLabel","isOpen","iconMenu","iconClose","ref"]);let l=w(e,"ariaLabel",8,void 0),m=w(e,"isOpen",12,!1),o=w(e,"iconMenu",8,Ce),f=w(e,"iconClose",8,we),d=w(e,"ref",12,null);var a=mt();K(a,()=>({type:"button",title:l(),"aria-label":l(),..._,[ne]:{"bx--header__action":!0,"bx--header__menu-trigger":!0,"bx--header__menu-toggle":!0}}));var t=k(a);ze(t,()=>m()?f():o(),(r,h)=>{h(r,{size:20})}),H(a),se(a,r=>d(r),()=>d()),B("click",a,function(r){U.call(this,e,r)}),B("click",a,()=>m(!m())),T(i,a)}var pt=D("<span><!></span>"),vt=D("<header><!> <!> <a><!> <!></a> <!></header>");function bt(i,e){const u=He(e),_=V(e,["children","$$slots","$$events","$$legacy"]),l=V(_,["expandedByDefault","isSideNavOpen","uiShellAriaLabel","href","company","platformName","persistentHamburgerMenu","expansionBreakpoint","ref","iconMenu","iconClose"]);Q(e,!1);const[m,o]=Ie(),f=()=>Be(Oe,"$shouldRenderHamburgerMenu",m),d=j();let a=w(e,"expandedByDefault",8,!0),t=w(e,"isSideNavOpen",12,!1),r=w(e,"uiShellAriaLabel",8,void 0),h=w(e,"href",8,void 0),s=w(e,"company",8,void 0),p=w(e,"platformName",8,""),g=w(e,"persistentHamburgerMenu",8,!1),n=w(e,"expansionBreakpoint",8,1056),E=w(e,"ref",12,null),S=w(e,"iconMenu",8,Ce),z=w(e,"iconClose",8,we),M=j(void 0);Z(()=>($(a()),b(M),$(n()),$(g())),()=>{t(a()&&b(M)>=n()&&!g())}),Z(()=>($(s()),$(r()),$(_),$(p())),()=>{W(d,s()?`${s()} `:""+(r()||_["aria-label"]||p()))}),oe(),te();var x=vt();ue(x,1,"",null,{},{"bx--header":!0});var y=k(x);X(y,e,"skip-to-content",{},null);var O=q(y,2);{var N=v=>{gt(v,{get iconClose(){return z()},get iconMenu(){return S()},get isOpen(){return t()},set isOpen(P){t(P)},$$legacy:!0})};de(O,v=>{(f()&&b(M)<n()||g())&&v(N)})}var L=q(O,2);K(L,()=>({href:h(),...l,[ne]:{"bx--header__name":!0}}));var I=k(L);{var c=v=>{var P=pt();ue(P,1,"",null,{},{"bx--header__name--prefix":!0});var A=k(P);X(A,e,"company",{},R=>{var F=ce();Y(()=>J(F,`${s()??""} `)),T(R,F)}),H(P),T(v,P)};de(I,v=>{(s()||u.company)&&v(c)})}var C=q(I,2);X(C,e,"platform",{},v=>{var P=ce();Y(()=>J(P,p())),T(v,P)}),H(L),se(L,v=>E(v),()=>E());var G=q(L,2);X(G,e,"default",{},null),H(x),Y(()=>_e(x,"aria-label",b(d))),ut("innerWidth",v=>W(M,v)),B("click",L,function(v){U.call(this,e,v)}),T(i,x),ee(),o()}var _t=D("<nav><ul><!></ul></nav>");function wt(i,e){const u=V(e,["children","$$slots","$$events","$$legacy"]),_=V(u,[]);Q(e,!1);const l=j();Z(()=>$(u),()=>{W(l,{"aria-label":u["aria-label"],"aria-labelledby":u["aria-labelledby"]})}),oe(),te();var m=_t();K(m,()=>({...b(l),..._,[ne]:{"bx--header__nav":!0}}));var o=k(m);K(o,()=>({...b(l),role:"menubar",[ne]:{"bx--header__menu-bar":!0}}));var f=k(o);X(f,e,"default",{},null),H(o),H(m),T(i,m),ee()}var xt=D('<li role="none"><a><span><!></span></a></li>');function yt(i,e){const u=V(e,["children","$$slots","$$events","$$legacy"]),_=V(u,["href","text","isSelected","ref"]);Q(e,!1);let l=w(e,"href",8,void 0),m=w(e,"text",8,void 0),o=w(e,"isSelected",8,!1),f=w(e,"ref",12,null);const d="ccs-"+Math.random().toString(36),a=Me("HeaderNavMenu");let t=j([]);const r=a==null?void 0:a.selectedItems.subscribe(n=>{W(t,Object.keys(n))});be(()=>()=>{r&&r()}),Z(()=>$(o()),()=>{a==null||a.updateSelectedItems({id:d,isSelected:o()})}),oe(),te();var h=xt(),s=k(h);K(s,()=>({role:"menuitem",tabindex:"0",href:l(),rel:_.target==="_blank"?"noopener noreferrer":void 0,"aria-current":o()?"page":void 0,..._,[ne]:{"bx--header__menu-item":!0}}));var p=k(s);ue(p,1,"",null,{},{"bx--text-truncate--end":!0});var g=k(p);X(g,e,"default",{},n=>{var E=ce();Y(()=>J(E,m())),T(n,E)}),H(p),H(s),se(s,n=>f(n),()=>f()),H(h),B("click",s,function(n){U.call(this,e,n)}),B("mouseover",s,function(n){U.call(this,e,n)}),B("mouseenter",s,function(n){U.call(this,e,n)}),B("mouseleave",s,function(n){U.call(this,e,n)}),B("keyup",s,function(n){U.call(this,e,n)}),B("keydown",s,function(n){U.call(this,e,n)}),B("focus",s,function(n){U.call(this,e,n)}),B("blur",s,function(n){U.call(this,e,n)}),B("blur",s,()=>{b(t).indexOf(d)===b(t).length-1&&(a==null||a.closeMenu())}),T(i,h),ee()}function qt(i){let e=j(!1);bt(i,{company:"ElastoTool",platformName:"",get href(){return`${ae??""}/`},get isSideNavOpen(){return b(e)},set isSideNavOpen(u){W(e,u)},children:(u,_)=>{wt(u,{children:(l,m)=>{yt(l,{href:"#contact",text:"Contact"})},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})}var St=D('<p class="footer__brand svelte-1p8yer0">ElastoTool</p>'),Ct=D('<a class="footer__link svelte-1p8yer0"> </a>'),Lt=D('<nav class="footer__nav svelte-1p8yer0"></nav>'),Mt=D('<p class="footer__copyright svelte-1p8yer0"> </p>'),Ft=D("<!> <!> <!>",1),Et=D('<footer class="footer svelte-1p8yer0"><!></footer>');function Xt(i,e){Q(e,!1);const u=new Date().getFullYear(),_=[{href:"/about",label:"About"},{href:"/contact",label:"Contact"},{href:"/privacy",label:"Privacy"}];te();var l=Et(),m=k(l);Re(m,{children:(o,f)=>{ke(o,{noGutter:!0,padding:!0,children:(d,a)=>{Ne(d,{children:(t,r)=>{var h=Ft(),s=Fe(h);le(s,{sm:16,md:16,lg:4,children:(n,E)=>{var S=St();T(n,S)},$$slots:{default:!0}});var p=q(s,2);le(p,{sm:16,md:16,lg:8,children:(n,E)=>{var S=Lt();$e(S,5,()=>_,De,(z,M)=>{var x=Ct(),y=k(x,!0);H(x),Y(()=>{_e(x,"href",b(M).href),J(y,b(M).label)}),T(z,x)}),H(S),T(n,S)},$$slots:{default:!0}});var g=q(p,2);le(g,{sm:16,md:16,lg:4,children:(n,E)=>{var S=Mt(),z=k(S);H(S),Y(()=>J(z,`© ${u??""} ElastoTool`)),T(n,S)},$$slots:{default:!0}}),T(t,h)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),H(l),T(i,l),ee()}class Pt extends Ge{constructor(e){super(e)}load(e,u,_,l){const m=this,o=new Ue(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(f){try{u(m.parse(f))}catch(d){l?l(d):console.error(d),m.manager.itemError(e)}},_,l)}parse(e){function u(a){const t=new DataView(a),r=32/8*3+32/8*3*3+16/8,h=t.getUint32(80,!0);if(80+32/8+h*r===t.byteLength)return!0;const p=[115,111,108,105,100];for(let g=0;g<5;g++)if(_(p,t,g))return!1;return!0}function _(a,t,r){for(let h=0,s=a.length;h<s;h++)if(a[h]!==t.getUint8(r+h))return!1;return!0}function l(a){const t=new DataView(a),r=t.getUint32(80,!0);let h,s,p,g=!1,n,E,S,z,M;for(let c=0;c<70;c++)t.getUint32(c,!1)==1129270351&&t.getUint8(c+4)==82&&t.getUint8(c+5)==61&&(g=!0,n=new Float32Array(r*3*3),E=t.getUint8(c+6)/255,S=t.getUint8(c+7)/255,z=t.getUint8(c+8)/255,M=t.getUint8(c+9)/255);const x=84,y=12*4+2,O=new fe,N=new Float32Array(r*3*3),L=new Float32Array(r*3*3),I=new xe;for(let c=0;c<r;c++){const C=x+c*y,G=t.getFloat32(C,!0),v=t.getFloat32(C+4,!0),P=t.getFloat32(C+8,!0);if(g){const A=t.getUint16(C+48,!0);(A&32768)===0?(h=(A&31)/31,s=(A>>5&31)/31,p=(A>>10&31)/31):(h=E,s=S,p=z)}for(let A=1;A<=3;A++){const R=C+A*12,F=c*3*3+(A-1)*3;N[F]=t.getFloat32(R,!0),N[F+1]=t.getFloat32(R+4,!0),N[F+2]=t.getFloat32(R+8,!0),L[F]=G,L[F+1]=v,L[F+2]=P,g&&(I.setRGB(h,s,p,Ve),n[F]=I.r,n[F+1]=I.g,n[F+2]=I.b)}}return O.setAttribute("position",new ie(N,3)),O.setAttribute("normal",new ie(L,3)),g&&(O.setAttribute("color",new ie(n,3)),O.hasColors=!0,O.alpha=M),O}function m(a){const t=new fe,r=/solid([\s\S]*?)endsolid/g,h=/facet([\s\S]*?)endfacet/g,s=/solid\s(.+)/;let p=0;const g=/[\s]+([+-]?(?:\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?)/.source,n=new RegExp("vertex"+g+g+g,"g"),E=new RegExp("normal"+g+g+g,"g"),S=[],z=[],M=[],x=new re;let y,O=0,N=0,L=0;for(;(y=r.exec(a))!==null;){N=L;const I=y[0],c=(y=s.exec(I))!==null?y[1]:"";for(M.push(c);(y=h.exec(I))!==null;){let v=0,P=0;const A=y[0];for(;(y=E.exec(A))!==null;)x.x=parseFloat(y[1]),x.y=parseFloat(y[2]),x.z=parseFloat(y[3]),P++;for(;(y=n.exec(A))!==null;)S.push(parseFloat(y[1]),parseFloat(y[2]),parseFloat(y[3])),z.push(x.x,x.y,x.z),v++,L++;P!==1&&console.error("THREE.STLLoader: Something isn't right with the normal of face number "+p),v!==3&&console.error("THREE.STLLoader: Something isn't right with the vertices of face number "+p),p++}const C=N,G=L-N;t.userData.groupNames=M,t.addGroup(C,G,O),O++}return t.setAttribute("position",new he(S,3)),t.setAttribute("normal",new he(z,3)),t}function o(a){return typeof a!="string"?new TextDecoder().decode(a):a}function f(a){if(typeof a=="string"){const t=new Uint8Array(a.length);for(let r=0;r<a.length;r++)t[r]=a.charCodeAt(r)&255;return t.buffer||t}else return a}const d=f(e);return u(d)?l(d):m(o(e))}}function At(){const i=new We;return i.background=new xe(7496795),i}function Tt(i){const e=new je({antialias:!0});return e.setPixelRatio(window.devicePixelRatio),e.shadowMap.enabled=!0,e.shadowMap.type=Ye,i.appendChild(e.domElement),e}function zt(i){const e=new ye(new qe(2e4,2e4),new Se({color:13355979,specular:4671303}));e.rotation.x=-Math.PI/2,e.position.y=-5,e.receiveShadow=!0,i.add(e)}function Ht(i){i.add(new Xe(9272444,4802918,3)),Ot(i,0,500,0,16777215,2)}function Ot(i,e,u,_,l,m){const o=new Ze(l,m);o.position.set(e,u,_),o.castShadow=!0;const f=1e3;o.shadow.camera.left=-1e3,o.shadow.camera.right=f,o.shadow.camera.top=f,o.shadow.camera.bottom=-1e3,o.shadow.camera.near=1,o.shadow.camera.far=2e3,o.shadow.mapSize.width=4096,o.shadow.mapSize.height=4096,o.shadow.radius=1,o.shadow.bias=-5e-4,i.add(o)}function Rt(i,e="/Widerlager_klein.stl",u,_,l,m=0){new Pt().load(e,f=>{const d=new Se({color:10526880,specular:2236962,shininess:100,transparent:!1,opacity:.5}),a=new ye(f,d);f.computeBoundingBox();const t=new re,r=new re;f.boundingBox.getCenter(t),f.boundingBox.getSize(r),console.log("STL mesh bounding box size:",{width:r.x,height:r.y,depth:r.z,center:{x:t.x,y:t.y,z:t.z}}),f.translate(-t.x,-t.y,-t.z),a.scale.setScalar(1),a.position.set(0,m,0),a.rotation.x=-Math.PI/2,a.castShadow=!0,a.receiveShadow=!0,i.add(a),console.log("STL model loaded successfully"),u&&u(a)},f=>{console.log("Loading progress:",f.loaded/f.total*100+"%")},f=>{console.error("Error loading STL file:",f)})}function kt(i){i.setAnimationLoop(null)}let ge=[];function pe(i){ge.forEach(e=>{i.remove(e),e.geometry.dispose(),e.material instanceof Je&&e.material.dispose()}),ge=[]}var Nt=D('<div id="container" class="svelte-66rdh0"></div>');function Zt(i,e){Q(e,!1);let u=w(e,"parameters",8,void 0),_=w(e,"autoRotate",8,!1);const l=[.3,.6,0],m=[l[0]-.4,l[1]+.01,l[2]-.95],o=new re(3.033053660420776,2.3737696385820284,-.9540866817375618),f=-.15;let d=j(),a,t,r,h,s,p,g,n,E,S,z,M,x;function y(){return ct(dt)}function O(c){return c.isRound?c.diameter>350?`${ae}/Widerlager_groß.stl`:`${ae}/Widerlager_klein.stl`:c.breiteElastomer>300?`${ae}/Widerlager_groß.stl`:`${ae}/Widerlager_klein.stl`}function N(c){const C=O(c);if(C===E){console.log("STL model unchanged, skipping reload");return}console.log(`Switching STL model from ${E||"none"} to ${C}`),n&&(a.remove(n),n.geometry.dispose(),Array.isArray(n.material)?n.material.forEach(v=>v.dispose()):n.material.dispose(),n=void 0),E=C;const G=C.includes("klein")?f:0;Rt(a,C,v=>{n=v,console.log(`STL model loaded: ${C} with y-offset: ${G}`)},void 0,void 0,G)}function L(c){if(!s||!p){console.warn("CreateElastomer or elastomerGroup not initialized");return}p.clear(),console.log("tt_e in updateElastomer:",c.selectedHeight),s.updateElastomer(c,l).forEach(G=>{p.add(G)}),pe(a),N(c),console.log("Elastomer updated with new parameters:",c)}be(async()=>{a=At(),r=Tt(b(d)),zt(a),Ht(a),Ke(a,new re(m[0],m[1],m[2])),t=Qe(35),t.position.copy(o),h=et(t,r,l),h.addEventListener("change",()=>{}),S=tt(r,t,h),z=at(b(d),h,_()),M=nt(b(d)),s=new ot(a,t),p=new rt,a.add(p);const c=u()||y(),C=s.createElastomer(c,l);C.forEach(R=>{p.add(R)}),console.log(C[0]),N(c);const v=1e3/30;let P=0;const A=R=>{x=requestAnimationFrame(A);const F=R-P;F<v||(P=R-F%v,st(R,t,h),lt(h),r.render(a,t))};A(0),me(L),await Ee(),b(d)&&b(d)instanceof Element&&(g=new ResizeObserver(()=>{if(b(d)&&r&&t){const R=b(d).clientWidth,F=b(d).clientHeight;r.setSize(R,F),t.aspect=R/F,t.updateProjectionMatrix()}}),g.observe(b(d)))}),Te(()=>{x!==void 0&&cancelAnimationFrame(x),r&&kt(r),S==null||S(),z==null||z(),M==null||M(),pe(a),n&&(a.remove(n),n.geometry.dispose(),Array.isArray(n.material)?n.material.forEach(c=>c.dispose()):n.material.dispose(),n=void 0),r==null||r.dispose(),me(()=>{}),g==null||g.disconnect()}),te();var I=Nt();return se(I,c=>W(d,c),()=>b(d)),T(i,I),it(e,"updateElastomer",L),ee({updateElastomer:L})}export{Xt as F,qt as H,Zt as T};
