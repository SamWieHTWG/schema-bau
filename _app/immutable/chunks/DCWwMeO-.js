import"./CWj6FrbW.js";import"./Cawd6btV.js";import{o as Qe,w as Oe,g as We,c as Xe,a as Ye,e as u,s as A}from"./BbhxjQi6.js";import{m as Ze,I as F,J as $e,f as T,M as x,w as m,e as d,o as et,v as C,O as ne,x as n,L as O,T as B,K as h,V as H,N as y,g as oe,R as tt,t as at}from"./CaxDi-Zx.js";import{l as Be,p as l,i as M,a as lt,b as nt}from"./DDlkXUGl.js";import{a as ot,b as it,c as rt,d as g,f as ie,s as c,e as st,i as dt}from"./TuLgb3IM.js";import{b as j}from"./iYMKbDFE.js";import{b as q,C as pe}from"./DmRjIq0I.js";import{B as re}from"./yYUuOib1.js";const se=new Set,Me=Oe(0),Ce=()=>Me.set([...se].filter(f=>We(f)).length),ct=f=>Qe(()=>{se.add(f);const a=f.subscribe(Ce);return()=>{a(),se.delete(f),Ce()}});Me.subscribe(f=>{typeof document<"u"&&document.body.classList.toggle("bx--body--with-modal-open",f>0)});var ut=T('<button type="button"><!></button>'),bt=T("<h2><!></h2>"),mt=T('<button type="button"><!></button>'),ft=T("<div></div>"),vt=T("<div><!> <!></div>"),_t=T('<div><div tabindex="-1" aria-modal="true"><div><!> <!> <h3><!></h3> <!></div> <div><!></div> <!> <!></div></div>');function Lt(f,a){const J=Be(a,["children","$$slots","$$events","$$legacy"]),Le=Be(J,["size","open","danger","alert","passiveModal","modalHeading","modalLabel","modalAriaLabel","iconDescription","hasForm","hasScrollingContent","primaryButtonText","primaryButtonDisabled","primaryButtonIcon","shouldSubmitOnEnter","secondaryButtonText","secondaryButtons","selectorPrimaryFocus","preventCloseOnClickOutside","id","ref"]);Ze(a,!1);const[xt,Se]=lt(),U=O(),V=O(),G=O(),Q=O();let W=l(a,"size",8,void 0),s=l(a,"open",12,!1),de=l(a,"danger",8,!1),ce=l(a,"alert",8,!1),L=l(a,"passiveModal",8,!1),X=l(a,"modalHeading",8,void 0),w=l(a,"modalLabel",8,void 0),ue=l(a,"modalAriaLabel",8,void 0),be=l(a,"iconDescription",8,"Close the modal"),Te=l(a,"hasForm",8,!1),D=l(a,"hasScrollingContent",8,!1),we=l(a,"primaryButtonText",8,""),me=l(a,"primaryButtonDisabled",8,!1),De=l(a,"primaryButtonIcon",8,void 0),Ie=l(a,"shouldSubmitOnEnter",8,!0),Y=l(a,"secondaryButtonText",8,""),Z=l(a,"secondaryButtons",24,()=>[]),Ee=l(a,"selectorPrimaryFocus",8,"[data-modal-primary-focus]"),Pe=l(a,"preventCloseOnClickOutside",8,!1),p=l(a,"id",24,()=>"ccs-"+Math.random().toString(36)),$=l(a,"ref",12,null);const v=Xe();let I=O(null),ee=O(null),te=!1,ae=O(!1);function ze(e){(n(ee).querySelector(Ee())||n(I)).focus()}const fe=Oe(s());ct(fe),Ye(()=>{te?s()||(te=!1,v("close")):s()&&(te=!0,ze(),v("open"))}),F(()=>B(s()),()=>{nt(fe,s())}),F(()=>B(p()),()=>{h(U,`bx--modal-header__label--modal-${p()}`)}),F(()=>B(p()),()=>{h(V,`bx--modal-header__heading--modal-${p()}`)}),F(()=>B(p()),()=>{h(G,`bx--modal-body--${p()}`)}),F(()=>(B(w()),B(J),B(ue()),B(X())),()=>{h(Q,w()||J["aria-label"]||ue()||X())}),$e(),ot();var i=_t();it(i,e=>({role:"presentation",id:p(),...Le,[rt]:e}),[()=>({"bx--modal":!0,"bx--modal-tall":!L(),"is-visible":s(),"bx--modal--danger":de()})]);var k=x(i);let ve;var K=x(k);g(K,1,"",null,{},{"bx--modal-header":!0});var _e=x(K);{var Ae=e=>{var t=ut();g(t,1,"",null,{},{"bx--modal-close":!0});var r=x(t);pe(r,{size:20,class:"bx--modal-close__icon","aria-hidden":"true"}),y(t),j(t,o=>h(I,o),()=>n(I)),m(()=>c(t,"aria-label",be())),u("click",t,()=>{s(!1)}),d(e,t)};M(_e,e=>{L()&&e(Ae)})}var xe=C(_e,2);{var Fe=e=>{var t=bt();g(t,1,"",null,{},{"bx--modal-header__label":!0});var r=x(t);ie(r,a,"label",{},o=>{var N=H();m(()=>A(N,w())),d(o,N)}),y(t),m(()=>c(t,"id",n(U))),d(e,t)};M(xe,e=>{w()&&e(Fe)})}var E=C(xe,2);g(E,1,"",null,{},{"bx--modal-header__heading":!0});var He=x(E);ie(He,a,"heading",{},e=>{var t=H();m(()=>A(t,X())),d(e,t)}),y(E);var qe=C(E,2);{var Ke=e=>{var t=mt();g(t,1,"",null,{},{"bx--modal-close":!0});var r=x(t);pe(r,{size:20,class:"bx--modal-close__icon","aria-hidden":"true"}),y(t),j(t,o=>h(I,o),()=>n(I)),m(()=>c(t,"aria-label",be())),u("click",t,()=>{s(!1)}),d(e,t)};M(qe,e=>{L()||e(Ke)})}y(K);var _=C(K,2);let he;var Ne=x(_);ie(Ne,a,"default",{},null),y(_);var ye=C(_,2);{var Re=e=>{var t=ft();g(t,1,"",null,{},{"bx--modal-content--overflow-indicator":!0}),d(e,t)};M(ye,e=>{D()&&e(Re)})}var je=C(ye,2);{var Je=e=>{var t=vt();let r;var o=x(t);{var N=b=>{var P=tt(),S=at(P);st(S,1,Z,dt,(z,R)=>{re(z,{kind:"secondary",$$events:{click:()=>{v("click:button--secondary",{text:n(R).text})}},children:(ge,le)=>{oe();var ke=H();m(()=>A(ke,n(R).text)),d(ge,ke)},$$slots:{default:!0}})}),d(b,P)},Ue=(b,P)=>{{var S=z=>{re(z,{kind:"secondary",$$events:{click:()=>{v("click:button--secondary",{text:Y()})}},children:(R,ge)=>{oe();var le=H();m(()=>A(le,Y())),d(R,le)},$$slots:{default:!0}})};M(b,z=>{Y()&&z(S)},P)}};M(o,b=>{Z().length>0?b(N):b(Ue,!1)})}var Ve=C(o,2);const Ge=ne(()=>de()?"danger":"primary");re(Ve,{get kind(){return n(Ge)},get disabled(){return me()},get icon(){return De()},$$events:{click:()=>{v("submit"),v("click:button--primary")}},children:(b,P)=>{oe();var S=H();m(()=>A(S,we())),d(b,S)},$$slots:{default:!0}}),y(t),m(b=>r=g(t,1,"",null,r,b),[()=>({"bx--modal-footer":!0,"bx--modal-footer--three-button":Z().length===2})],ne),d(e,t)};M(je,e=>{L()||e(Je)})}y(k),j(k,e=>h(ee,e),()=>n(ee)),y(i),j(i,e=>$(e),()=>$()),m((e,t)=>{c(k,"role",ce()?L()?"alert":"alertdialog":"dialog"),c(k,"aria-describedby",ce()&&!L()?n(G):void 0),c(k,"aria-label",n(Q)),ve=g(k,1,"",null,ve,e),c(E,"id",n(V)),c(_,"id",n(G)),c(_,"tabindex",D()?"0":void 0),c(_,"role",D()?"region":void 0),c(_,"aria-label",D()?n(Q):void 0),c(_,"aria-labelledby",w()?n(U):n(V)),he=g(_,1,"",null,he,t)},[()=>({"bx--modal-container":!0,"bx--modal-container--xs":W()==="xs","bx--modal-container--sm":W()==="sm","bx--modal-container--lg":W()==="lg"}),()=>({"bx--modal-content":!0,"bx--modal-content--with-form":Te(),"bx--modal-scroll-content":D()})],ne),u("click",k,()=>{h(ae,!0)}),u("keydown",i,function(e){q.call(this,a,e)}),u("keydown",i,e=>{if(s())if(e.key==="Escape")s(!1);else if(e.key==="Tab"){const r=Array.from($().querySelectorAll(`
  a[href], area[href], input:not([disabled]):not([tabindex='-1']),
  button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']),
  textarea:not([disabled]):not([tabindex='-1']),
  iframe, object, embed, *[tabindex]:not([tabindex='-1']):not([disabled]), *[contenteditable=true]
`));let o=r.indexOf(document.activeElement);o===-1&&e.shiftKey&&(o=0),o+=r.length+(e.shiftKey?-1:1),o%=r.length,r[o].focus(),e.preventDefault()}else Ie()&&e.key==="Enter"&&!me()&&(v("submit"),v("click:button--primary"))}),u("click",i,function(e){q.call(this,a,e)}),u("click",i,()=>{!n(ae)&&!Pe()&&s(!1),h(ae,!1)}),u("mouseover",i,function(e){q.call(this,a,e)}),u("mouseenter",i,function(e){q.call(this,a,e)}),u("mouseleave",i,function(e){q.call(this,a,e)}),u("transitionend",i,e=>{e.propertyName==="transform"&&v("transitionend",{open:s()})}),d(f,i),et(),Se()}export{Lt as M};
