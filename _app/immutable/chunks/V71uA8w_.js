import{ah as Y,p as K,e as u,m as U,ae as Q,f as J,c as $,a as j,k as ee}from"./C69tEHJk.js";import"./CWj6FrbW.js";import"./D7Zt9-mt.js";import{o as te,k as ne}from"./Bc6qAA64.js";import{b as oe}from"./UDEmTE9c.js";import{i as ae}from"./CVmhh3EK.js";import{p as re}from"./Dym1x2uu.js";import{S as se,a as ie,W as ce,B as de,M as f,P as _e,b as O,H as le,D as fe,G,c as V,d as he,e as ue,f as we,V as q,g as be,h as ge,i as me,j as Se,k as pe,u as ve}from"./DdSDC1Nt.js";const k={nachw_vert:0,nachw_rotb:0,nachw_schub:0,querz_x:0,querz_y:0};function Me(){const{subscribe:e,set:t,update:o}=Y(k);return{subscribe:e,set:t,update:o,reset:()=>t(k)}}const ye=Me();function Re(e){const t=e.a*e.b;let o,a;e.n_b===0||e.is_wirksamgeschlossen===1?(o=t,a=Math.round(t/(2*e.t*(e.a+e.b))*1e3)/1e3):(o=Math.round(t-e.n_b*Math.PI*Math.pow(e.d_b/2,2)),a=Math.round((t-.25*Math.PI*e.n_b*Math.pow(e.t,2))/(2*e.t*(e.a+e.b)+e.t*Math.PI*e.n_b*e.d_b)*1e3)/1e3);const r=e.is_ortbeton===0?10:10/2,n=Math.round(.625/e.a*1e3*10)/10+r,i=e.alpha_a,_=e.alpha_b+n,c=Math.sqrt(Math.pow(i,2)+Math.pow(_,2)),l=Math.min(450*e.t/e.a,48),b=48,w=Math.round(_/l*1e3)/1e3,p=Math.round(c/b*1e3)/1e3,g=Math.round(1e3*e.ff_zd/o*10)/10;let h;a<2.33?h=Math.round((5.3805*a-.6536)*10)/10:h=Math.round((10.635*a-12.89)*10)/10;const T=Math.round(g/h*1e3)/1e3,d=Math.round((e.v_a/e.t+e.ff_x*1e3/(e.gg*o))*100)/100,A=Math.round((e.v_b/e.t+e.ff_y*1e3/(e.gg*o))*100)/100,v=Math.sqrt(Math.pow(d,2)+Math.pow(A,2)),L=Math.round(v/(.6*(e.t-2)/e.t)*1e3)/1e3,E=5,H=5,x=e.c_nom+10;return{aa:t,a_eff:o,s:a,alpha_b_zus:n,alpha_b_ges:_,alpha_a_ges:i,alpha_ges:c,alpha_bmax:l,alpha_resmax:b,nachw_rotb:w,nachw_rotres:p,sigma_ed:g,sigma_rd:h,nachw_vert:T,tan_gamx:d,tan_gamy:A,tan_gamxy:v,nachw_schub:L,querz_x:E,querz_y:H,c_rand:x}}function Te(e){const t={is_streifen:e.is_streifen,a:e.a,b:e.b,t:e.t,c_nom:e.c_nom,is_dorn:e.is_dorn,d_b:e.d_b,d_d:e.d_d,n_b:e.n_b,ff_zd:e.ff_zd,v_a:e.v_a,v_b:e.v_b,alpha_a:e.alpha_a,alpha_b:e.alpha_b,gg:e.gg,ff_x:e.ff_x,ff_y:e.ff_y,is_ortbeton:e.is_ortbeton,is_wirksamgeschlossen:e.is_wirksamgeschlossen},o=Re(t);ye.set({nachw_vert:o.nachw_vert,nachw_rotb:o.nachw_rotb,nachw_schub:o.nachw_schub,querz_x:o.querz_x,querz_y:o.querz_y})}const P={is_streifen:0,a:200,b:200,t:10,c_nom:25,is_dorn:1,d_b:50,d_d:20,n_b:1,ff_zd:800,v_a:0,alpha_b:2,gg:.9,v_b:0,alpha_a:0,ff_x:15,ff_y:0,is_ortbeton:0,is_wirksamgeschlossen:0};function Ae(){const{subscribe:e,set:t,update:o}=Y(P),a={subscribe:e,set:r=>{t(r),Z(r)},update:r=>{o(s=>{const n=r(s);return Z(n),n})},reset:()=>{t(P),Z(P)},updateField:(r,s)=>{a.update(n=>({...n,[r]:s}))}};return a}const Je=Ae();function Z(e){Te(e)}function Ee(){const e=new se;return e.background=new ie(16777215),e}function He(e){const t=new ce({antialias:!0});return t.setPixelRatio(window.devicePixelRatio),t.shadowMap.enabled=!0,t.shadowMap.type=de,e.appendChild(t.domElement),t}function xe(e){const t=new f(new _e(200,200),new O({color:13355979,specular:4671303}));t.rotation.x=-Math.PI/2,t.position.y=-10,t.receiveShadow=!0}function Ie(e){return e.add(new le(9272444,4802918,3)),Oe(e,0,500,500,16777215,2)}function Oe(e,t,o,a,r,s){const n=new fe(r,s);n.position.set(t,o,a),n.castShadow=!0;const i=1e3;return n.shadow.camera.left=-1e3,n.shadow.camera.right=i,n.shadow.camera.top=i,n.shadow.camera.bottom=-1e3,n.shadow.camera.near=1,n.shadow.camera.far=2e3,n.shadow.mapSize.width=4096,n.shadow.mapSize.height=4096,n.shadow.radius=1,n.shadow.bias=-5e-4,e.add(n),e.add(n.target),n}const z=-.8,B=1,ze=1,C=2,M=z,W=.55,y=z-W,Pe=.5,Ze=Pe/2,Ce=-.5/2,R=C/2,X=.6,I=.3,F=z-W*.45;function Ge(e){const t=new G,o=new O({color:12895428,shininess:100,flatShading:!0}),a=z+B/2,r=C/2,s=0,n=new f(new V(B,C,ze),o);n.position.set(a,r,s),n.castShadow=!0,n.receiveShadow=!0,t.add(n);const i=new Float32Array([M,R,-.25,y,R,-.25,y,R,.25,M,R,.25,F,I,.25,M,I,.25,y,X,.25,y,X,-.25,F,I,-.25,M,I,-.25]),_=[0,1,2,0,2,3,7,6,2,7,2,1,0,9,8,0,8,7,0,7,1,3,2,6,3,6,4,4,5,3,0,3,5,0,5,9,1,7,6,1,6,2,5,4,8,5,8,9,4,6,7,4,7,8],c=new he;c.setAttribute("position",new ue(i,3)),c.setIndex(_),c.computeVertexNormals();const l=new f(c,o);return l.castShadow=!0,l.receiveShadow=!0,t.add(l),e.add(t),t}function D(){return{centerX:(M+y)/2,centerY:R,centerZ:(Ze+Ce)/2}}function De(e,t){t&&(t.traverse(o=>{o instanceof f&&(o.geometry.dispose(),Array.isArray(o.material)?o.material.forEach(a=>a.dispose()):o.material.dispose())}),e.remove(t))}function Le(e){const t=new G,o=new O({color:12895428,shininess:100,specular:2236962}),a=.4,r=.4,s=.02,n=new f(new V(a,s,r),o),i=D();return n.position.set(i.centerX,i.centerY,i.centerZ),n.castShadow=!0,n.receiveShadow=!0,t.add(n),e.add(t),t}function Ne(e,t){t&&(t.traverse(o=>{o instanceof f&&(o.geometry.dispose(),Array.isArray(o.material)?o.material.forEach(a=>a.dispose()):o.material.dispose())}),e.remove(t))}function qe(e){const t=new G,o=new O({color:12895428,flatShading:!1}),a=.2,r=.02,s=new f(new we(r,r,a,16),o),n=D();return s.position.set(n.centerX,n.centerY+a/2,n.centerZ),s.castShadow=!0,s.receiveShadow=!0,t.add(s),e.add(t),t}function ke(e,t){t&&(t.traverse(o=>{o instanceof f&&(o.geometry.dispose(),Array.isArray(o.material)?o.material.forEach(a=>a.dispose()):o.material.dispose())}),e.remove(t))}var Be=J('<div class="scene-container svelte-5boshl"></div>');function $e(e,t){K(t,!1),re(t,"autoRotate",8,!1);const o=new q(-3.6366326492655574,2.6403115127435544,-1.3328222766488578);let a=U(),r,s,n,i,_,c,l,b,w,p=!1,g,h;te(async()=>{r=Ee(),n=He(u(a)),xe(),w=Ie(r),s=be(35),s.position.copy(o);const d=D(),A=[d.centerX,d.centerY,d.centerZ];i=ge(s,n,A),g=me(n,s,i),c=Ge(r),l=Le(r),b=qe(r);const v=new f(new Se(.01,16,16),new pe({color:16711680}));v.position.set(d.centerX,d.centerY,d.centerZ),r.add(v);const E=1e3/30;let H=0;const x=m=>{h=requestAnimationFrame(x);const S=m-H;if(!(S<E)){if(H=m-S%E,ve(i),w&&s){const N=new q(0,500,500);N.applyQuaternion(s.quaternion),w.position.copy(s.position).add(N),i&&i.target&&(w.target.position.copy(i.target),w.target.updateMatrixWorld())}n.render(r,s)}};x(0),await Q(),u(a)&&u(a)instanceof Element&&(_=new ResizeObserver(()=>{if(u(a)&&n&&s){if(p==!0){p=!1;return}const m=u(a).clientWidth,S=u(a).clientHeight;console.log(`Resizing renderer to ${m}x${S}`),s.aspect=m/S,s.updateProjectionMatrix(),n.setSize(m,S),p=!0}}),_.observe(u(a))),console.log("ShearDeformationScene initialized")}),ne(()=>{h!==void 0&&cancelAnimationFrame(h),g&&g(),_&&_.disconnect(),i&&i.dispose(),n&&n.dispose(),c&&r&&De(r,c),l&&r&&Ne(r,l),b&&r&&ke(r,b),console.log("ShearDeformationScene destroyed")}),ae();var T=Be();oe(T,d=>$(a,d),()=>u(a)),j(e,T),ee()}export{$e as S,ye as a,Z as p,Je as s};
