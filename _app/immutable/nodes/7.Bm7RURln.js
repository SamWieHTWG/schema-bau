import"../chunks/CWj6FrbW.js";import"../chunks/BsozAIzp.js";import{c as rs,q as Sn,e as hi,o as hr,s as ns,p as Cn}from"../chunks/7M_widjs.js";import{p as Ni,aC as ss,o as li,q as Gr,f as Ye,v as Li,a as Ue,k as Mi,ag as Wr,e as ge,m as Yt,c as Ut,x as Oi,l as as,ae as pi,y as us,j as Bt,w as be,ad as zt,u as $i,n as ot,ac as kn}from"../chunks/BPSnB1R4.js";import{i as Hi,a as Pn,C as In,s as os,c as Ot}from"../chunks/DaxKxTK-.js";import{a as kr,s as Zr}from"../chunks/DlZZp-2y.js";import{l as Pr,p as Ti,b as jr,i as Ur}from"../chunks/D8hW4ZRz.js";import{a as An,b as wi,T as Kr,G as Ir,R as Ui,C as gi,c as hs}from"../chunks/B3uNKWSv.js";import{d as yr,S as ls,c as dn,l as fs,g as cs,m as ds,n as ps,M as Si,P as gs,o as Ar,H as _s,D as vs,G as Xr,U as En,B as ms,j as bs,X as xs,V as pn,r as ys,s as ws,t as Ss,Y as Cs,Z as ks,y as Ps,T as Tn}from"../chunks/DpQ9bqYy.js";import{p as Is,F as Vt,N as ii,a as rr}from"../chunks/CIIZdaBy.js";var As=Ye("<div><!></div>");function Es(K,ee){const $=Pr(ee,["children","$$slots","$$events","$$legacy"]),fe=Pr($,["selectedIndex","size"]);Ni(ee,!1);const Q=Yt(),T=Yt();let ne=Ti(ee,"selectedIndex",12,0),de=Ti(ee,"size",8,void 0);const Ge=rs(),Se=Wr(null);ss("ContentSwitcher",{currentId:Se,add:({id:qe,text:V,selected:xe})=>{xe&&ne(ge(T).length),Ut(T,[...ge(T),{id:qe,text:V,selected:xe}])},update:qe=>{ne(ge(T).map(({id:V})=>V).indexOf(qe))},change:qe=>{let V=ge(Q)+qe;V<0?V=ge(T).length-1:V>=ge(T).length&&(V=0),ne(V)}}),Sn(()=>{ne()!==ge(Q)&&Ut(Q,ne())}),li(()=>{},()=>{Ut(Q,-1)}),li(()=>{},()=>{Ut(T,[])}),li(()=>(ge(T),ge(Q)),()=>{ge(T)[ge(Q)]&&(Ge("change",ge(Q)),Se.set(ge(T)[ge(Q)].id))}),Gr(),Hi();var pe=As();Pn(pe,qe=>({role:"tablist",...fe,[In]:qe}),[()=>({"bx--content-switcher":!0,"bx--content-switcher--sm":de()==="sm","bx--content-switcher--xl":de()==="xl"})]);var te=Li(pe);An(te,ee,"default",{},null),Oi(pe),hi("click",pe,function(qe){wi.call(this,ee,qe)}),hi("mouseover",pe,function(qe){wi.call(this,ee,qe)}),hi("mouseenter",pe,function(qe){wi.call(this,ee,qe)}),hi("mouseleave",pe,function(qe){wi.call(this,ee,qe)}),Ue(K,pe),Mi()}var Ts=Ye("<button><span><!></span></button>");function gn(K,ee){const $=Pr(ee,["children","$$slots","$$events","$$legacy"]),fe=Pr($,["text","selected","disabled","id","ref"]);Ni(ee,!1);let Q=Ti(ee,"text",8,"Provide text"),T=Ti(ee,"selected",12,!1),ne=Ti(ee,"disabled",8,!1),de=Ti(ee,"id",24,()=>"ccs-"+Math.random().toString(36)),Ge=Ti(ee,"ref",12,null);const Se=as("ContentSwitcher");Se.add({id:de(),text:Q(),selected:T()});const pe=Se.currentId.subscribe(xe=>{T(xe===de())});Sn(()=>{T()&&Ge().focus()}),hr(()=>()=>pe()),Hi();var te=Ts();Pn(te,xe=>({type:"button",role:"tab",tabindex:T()?"0":"-1","aria-selected":T(),disabled:ne(),id:de(),...fe,[In]:xe}),[()=>({"bx--content-switcher-btn":!0,"bx--content-switcher--selected":T()})]);var qe=Li(te);os(qe,1,"",null,{},{"bx--content-switcher__label":!0});var V=Li(qe);An(V,ee,"default",{},xe=>{var ae=pi();us(()=>ns(ae,Q())),Ue(xe,ae)}),Oi(qe),Oi(te),jr(te,xe=>Ge(xe),()=>Ge()),hi("click",te,function(xe){wi.call(this,ee,xe)}),hi("click",te,Is(()=>{Se.update(de())})),hi("mouseover",te,function(xe){wi.call(this,ee,xe)}),hi("mouseenter",te,function(xe){wi.call(this,ee,xe)}),hi("mouseleave",te,function(xe){wi.call(this,ee,xe)}),hi("keydown",te,function(xe){wi.call(this,ee,xe)}),hi("keydown",te,({key:xe})=>{xe==="ArrowRight"?Se.change(1):xe==="ArrowLeft"&&Se.change(-1)}),Ue(K,te),Mi()}const Ls=!1,Os=!0,iu=Object.freeze(Object.defineProperty({__proto__:null,prerender:Os,ssr:Ls},Symbol.toStringTag,{value:"Module"})),_n={nachw_vert:0,nachw_rotb:0,nachw_schub:0,querz_x:0,querz_y:0};function Ns(){const{subscribe:K,set:ee,update:$}=Wr(_n);return{subscribe:K,set:ee,update:$,reset:()=>ee(_n)}}const Ln=Ns();function Ms(K){const ee=K.a*K.b;let $,fe;K.n_b===0||K.is_wirksamgeschlossen===1?($=ee,fe=Math.round(ee/(2*K.t*(K.a+K.b))*1e3)/1e3):($=Math.round(ee-K.n_b*Math.PI*Math.pow(K.d_b/2,2)),fe=Math.round((ee-.25*Math.PI*K.n_b*Math.pow(K.t,2))/(2*K.t*(K.a+K.b)+K.t*Math.PI*K.n_b*K.d_b)*1e3)/1e3);const Q=K.is_ortbeton===0?10:10/2,ne=Math.round(.625/K.a*1e3*10)/10+Q,de=K.alpha_a,Ge=K.alpha_b+ne,Se=Math.sqrt(Math.pow(de,2)+Math.pow(Ge,2)),pe=Math.min(450*K.t/K.a,48),te=48,qe=Math.round(Ge/pe*1e3)/1e3,V=Math.round(Se/te*1e3)/1e3,xe=Math.round(1e3*K.ff_zd/$*10)/10;let ae;fe<2.33?ae=Math.round((5.3805*fe-.6536)*10)/10:ae=Math.round((10.635*fe-12.89)*10)/10;const ye=Math.round(xe/ae*1e3)/1e3,oe=Math.round((K.v_a/K.t+K.ff_x*1e3/(K.gg*$))*100)/100,Je=Math.round((K.v_b/K.t+K.ff_y*1e3/(K.gg*$))*100)/100,Ce=Math.sqrt(Math.pow(oe,2)+Math.pow(Je,2)),Qe=Math.round(Ce/(.6*(K.t-2)/K.t)*1e3)/1e3,ke=5,I=5,He=K.c_nom+10;return{aa:ee,a_eff:$,s:fe,alpha_b_zus:ne,alpha_b_ges:Ge,alpha_a_ges:de,alpha_ges:Se,alpha_bmax:pe,alpha_resmax:te,nachw_rotb:qe,nachw_rotres:V,sigma_ed:xe,sigma_rd:ae,nachw_vert:ye,tan_gamx:oe,tan_gamy:Je,tan_gamxy:Ce,nachw_schub:Qe,querz_x:ke,querz_y:I,c_rand:He}}function Rs(K){const ee={is_streifen:K.is_streifen,a:K.a,b:K.b,t:K.t,c_nom:K.c_nom,is_dorn:K.is_dorn,d_b:K.d_b,d_d:K.d_d,n_b:K.n_b,ff_zd:K.ff_zd,v_a:K.v_a,v_b:K.v_b,alpha_a:K.alpha_a,alpha_b:K.alpha_b,gg:K.gg,ff_x:K.ff_x,ff_y:K.ff_y,is_ortbeton:K.is_ortbeton,is_wirksamgeschlossen:K.is_wirksamgeschlossen},$=Ms(ee);Ln.set({nachw_vert:$.nachw_vert,nachw_rotb:$.nachw_rotb,nachw_schub:$.nachw_schub,querz_x:$.querz_x,querz_y:$.querz_y})}const $r={is_streifen:0,a:200,b:200,t:10,c_nom:25,is_dorn:1,d_b:50,d_d:20,n_b:1,ff_zd:800,v_a:0,alpha_b:2,gg:.9,v_b:0,alpha_a:0,ff_x:15,ff_y:0,is_ortbeton:0,is_wirksamgeschlossen:0};function zs(){const{subscribe:K,set:ee,update:$}=Wr($r),fe={subscribe:K,set:Q=>{ee(Q),Sr(Q)},update:Q=>{$(T=>{const ne=Q(T);return Sr(ne),ne})},reset:()=>{ee($r),Sr($r)},updateField:(Q,T)=>{fe.update(ne=>({...ne,[Q]:T}))}};return fe}const or=zs();function Sr(K){Rs(K)}var Vs=Ye('<div style="padding-top:var(--cds-spacing-03)"></div> <h5 class="bx--type-expressive-heading-02">Lagerkennwerte und Eingabelasten</h5> <div style="padding-top:var(--cds-spacing-05)"></div>',1),Bs=Ye("Betondeckung Konsole c<sub>nom</sub>",1),Fs=Ye("<!> <!>",1),Ds=Ye("Durchmesser Dorn d<sub>d</sub>",1),qs=Ye("Bohrungsdurchmesser Elastomer d<sub>b</sub>",1),$s=Ye("<!> <!> <div></div> <!> <!> <div></div> <!> <!>",1),Us=Ye('<h6 class="bx--type-expressive-heading-01">Lagerkennwerte</h6> <div></div> <!> <div></div> <!> <!> <div></div> <!> <!> <div></div> <!> <!> <div></div> <!> <!> <div></div> <!> <div></div> <!>',1),Hs=Ye("Bemessungslast F<sub>Z,d</sub>",1),Gs=Ye("Lagerverdrehung α<sub>b</sub>",1),Ws=Ye("Lagerverschiebung u<sub>a</sub>",1),Zs=Ye("Horizontallast auf Dorn F<sub>y,d</sub>",1),js=Ye("<!> <!> <div></div>",1),Ks=Ye("Horizontallast F<sub>x,d</sub>",1),Xs=Ye('<h6 class="bx--type-expressive-heading-01">Eingabelasten</h6> <div></div> <!> <!> <div></div> <!> <!> <div></div> <!> <!> <div></div> <!> <!> <!> <div></div> <div style="padding-top:var(--cds-spacing-07)"></div> <h6 class="bx--type-expressive-heading-01">Zusätzliche Parameter</h6> <div></div> <!> <!> <div></div> <!> <div></div> <!>',1),Qs=Ye("<!> <!>",1),Ys=Ye("<!> <!>",1);function Js(K,ee){Ni(ee,!1);const[$,fe]=Zr(),Q=()=>kr(or,"$shearDeformationParameterStore",$),T=(Se,pe)=>{or.updateField(Se,pe)},ne=Se=>pe=>{const qe=pe.target.checked;or.updateField(Se,qe?1:0)};function de(Se){return pe=>{const te=pe.detail;te!==null&&T(Se,te)}}function Ge(Se){return pe=>{const te=pe.target;te&&T(Se,parseInt(te.value))}}Hi(),Kr(K,{children:(Se,pe)=>{Ir(Se,{style:"padding:0",children:(te,qe)=>{var V=Ys(),xe=Bt(V);Ui(xe,{children:(ye,oe)=>{gi(ye,{sm:16,md:16,lg:16,children:(Je,Ce)=>{var Qe=Vs();ot(4),Ue(Je,Qe)},$$slots:{default:!0}})},$$slots:{default:!0}});var ae=be(xe,2);Ui(ae,{children:(ye,oe)=>{var Je=Qs(),Ce=Bt(Je);gi(Ce,{sm:16,md:16,lg:8,style:"border-right: 1px solid var(--cds-border-subtle); padding-right: var(--cds-spacing-05);",children:(ke,I)=>{var He=Us(),et=be(Bt(He),2);Ot(et,"padding-top:var(--cds-spacing-05)");var Fe=be(et,2);const dt=$i(()=>Q().is_streifen===1);var mt=zt(()=>ne("is_streifen"));yr(Fe,{labelText:"Streifenlager",get checked(){return ge(dt)},$$events:{change(...st){var Ke;(Ke=ge(mt))==null||Ke.apply(this,st)}}});var tt=be(Fe,2);Ot(tt,"padding-top:var(--cds-spacing-05)");var ct=be(tt,2);Vt(ct,{children:(st,Ke)=>{ot();var Ct=pi("Lagerbreite a");Ue(st,Ct)},$$slots:{default:!0}});var we=be(ct,2),Zt=zt(()=>de("a"));ii(we,{get value(){return Q().a},size:"sm",step:10,helperText:"mm",$$events:{change(...st){var Ke;(Ke=ge(Zt))==null||Ke.apply(this,st)}}});var ie=be(we,2);Ot(ie,"padding-top:var(--cds-spacing-05)");var bt=be(ie,2);Vt(bt,{children:(st,Ke)=>{ot();var Ct=pi("Lagerlänge b");Ue(st,Ct)},$$slots:{default:!0}});var It=be(bt,2),Oe=zt(()=>de("b"));const ht=$i(()=>Q().is_streifen===1);ii(It,{get value(){return Q().b},size:"sm",step:10,helperText:"mm",get disabled(){return ge(ht)},$$events:{change(...st){var Ke;(Ke=ge(Oe))==null||Ke.apply(this,st)}}});var Ht=be(It,2);Ot(Ht,"padding-top:var(--cds-spacing-05)");var Ft=be(Ht,2);Vt(Ft,{children:(st,Ke)=>{ot();var Ct=pi("Lagerdicke t");Ue(st,Ct)},$$slots:{default:!0}});var Et=be(Ft,2),Jt=zt(()=>de("t"));ii(Et,{get value(){return Q().t},size:"sm",step:1,helperText:"mm",$$events:{change(...st){var Ke;(Ke=ge(Jt))==null||Ke.apply(this,st)}}});var Ze=be(Et,2);Ot(Ze,"padding-top:var(--cds-spacing-05)");var Dt=be(Ze,2);Vt(Dt,{children:(st,Ke)=>{ot();var Ct=Bs();ot(),Ue(st,Ct)},$$slots:{default:!0}});var At=be(Dt,2),fi=zt(()=>de("c_nom"));ii(At,{get value(){return Q().c_nom},size:"sm",step:5,helperText:"mm",$$events:{change(...st){var Ke;(Ke=ge(fi))==null||Ke.apply(this,st)}}});var it=be(At,2);Ot(it,"padding-top:var(--cds-spacing-05)");var nt=be(it,2);const ut=$i(()=>Q().is_dorn===1);var _i=zt(()=>ne("is_dorn"));yr(nt,{labelText:"Schubdorn vorhanden",get checked(){return ge(ut)},$$events:{change(...st){var Ke;(Ke=ge(_i))==null||Ke.apply(this,st)}}});var Gt=be(nt,2);Ot(Gt,"padding-top:var(--cds-spacing-05)");var Ci=be(Gt,2);{var ri=st=>{var Ke=$s(),Ct=Bt(Ke);Vt(Ct,{children:(s,u)=>{ot();var o=pi("Anzahl Schubdorn");Ue(s,o)},$$slots:{default:!0}});var ni=be(Ct,2);const Xe=$i(()=>Q().n_b.toString());var Ie=zt(()=>Ge("n_b"));ls(ni,{get selected(){return ge(Xe)},size:"sm",$$events:{change(...s){var u;(u=ge(Ie))==null||u.apply(this,s)}},children:(s,u)=>{var o=Fs(),h=Bt(o);dn(h,{value:"1",text:"1"});var l=be(h,2);dn(l,{value:"2",text:"2"}),Ue(s,o)},$$slots:{default:!0}});var pt=be(ni,2);Ot(pt,"padding-top:var(--cds-spacing-05)");var je=be(pt,2);Vt(je,{children:(s,u)=>{ot();var o=Ds();ot(),Ue(s,o)},$$slots:{default:!0}});var ci=be(je,2),Ve=zt(()=>de("d_d"));ii(ci,{get value(){return Q().d_d},size:"sm",step:5,helperText:"mm",$$events:{change(...s){var u;(u=ge(Ve))==null||u.apply(this,s)}}});var e=be(ci,2);Ot(e,"padding-top:var(--cds-spacing-05)");var t=be(e,2);Vt(t,{children:(s,u)=>{ot();var o=qs();ot(),Ue(s,o)},$$slots:{default:!0}});var r=be(t,2),n=zt(()=>de("d_b"));ii(r,{get value(){return Q().d_b},size:"sm",step:5,helperText:"mm",$$events:{change(...s){var u;(u=ge(n))==null||u.apply(this,s)}}}),Ue(st,Ke)};Ur(Ci,st=>{Q().is_dorn===1&&st(ri)})}Ue(ke,He)},$$slots:{default:!0}});var Qe=be(Ce,2);gi(Qe,{sm:16,md:16,lg:8,style:"padding-left: var(--cds-spacing-05);",children:(ke,I)=>{var He=Xs(),et=be(Bt(He),2);Ot(et,"padding-top:var(--cds-spacing-05)");var Fe=be(et,2);Vt(Fe,{children:(Xe,Ie)=>{ot();var pt=Hs();ot(),Ue(Xe,pt)},$$slots:{default:!0}});var dt=be(Fe,2),mt=zt(()=>de("ff_zd"));ii(dt,{get value(){return Q().ff_zd},size:"sm",step:10,helperText:"kN",$$events:{change(...Xe){var Ie;(Ie=ge(mt))==null||Ie.apply(this,Xe)}}});var tt=be(dt,2);Ot(tt,"padding-top:var(--cds-spacing-05)");var ct=be(tt,2);Vt(ct,{children:(Xe,Ie)=>{ot();var pt=Gs();ot(),Ue(Xe,pt)},$$slots:{default:!0}});var we=be(ct,2),Zt=zt(()=>de("alpha_b"));const ie=$i(()=>Q().is_streifen===1);ii(we,{get value(){return Q().alpha_b},size:"sm",step:.1,helperText:"mrad / ‰",get disabled(){return ge(ie)},$$events:{change(...Xe){var Ie;(Ie=ge(Zt))==null||Ie.apply(this,Xe)}}});var bt=be(we,2);Ot(bt,"padding-top:var(--cds-spacing-05)");var It=be(bt,2);Vt(It,{children:(Xe,Ie)=>{ot();var pt=Ws();ot(),Ue(Xe,pt)},$$slots:{default:!0}});var Oe=be(It,2),ht=zt(()=>de("v_a"));ii(Oe,{get value(){return Q().v_a},size:"sm",step:1,helperText:"mm",$$events:{change(...Xe){var Ie;(Ie=ge(ht))==null||Ie.apply(this,Xe)}}});var Ht=be(Oe,2);Ot(Ht,"padding-top:var(--cds-spacing-05)");var Ft=be(Ht,2);{var Et=Xe=>{var Ie=js(),pt=Bt(Ie);Vt(pt,{children:(e,t)=>{ot();var r=Zs();ot(),Ue(e,r)},$$slots:{default:!0}});var je=be(pt,2),ci=zt(()=>de("ff_y"));ii(je,{get value(){return Q().ff_y},size:"sm",step:5,helperText:"kN",$$events:{change(...e){var t;(t=ge(ci))==null||t.apply(this,e)}}});var Ve=be(je,2);Ot(Ve,"padding-top:var(--cds-spacing-05)"),Ue(Xe,Ie)};Ur(Ft,Xe=>{Q().is_dorn===1&&Xe(Et)})}var Jt=be(Ft,2);Vt(Jt,{children:(Xe,Ie)=>{ot();var pt=Ks();ot(),Ue(Xe,pt)},$$slots:{default:!0}});var Ze=be(Jt,2),Dt=zt(()=>de("ff_x"));ii(Ze,{get value(){return Q().ff_x},size:"sm",step:5,helperText:"kN",$$events:{change(...Xe){var Ie;(Ie=ge(Dt))==null||Ie.apply(this,Xe)}}});var At=be(Ze,2);Ot(At,"padding-top:var(--cds-spacing-05)");var fi=be(At,6);Ot(fi,"padding-top:var(--cds-spacing-05)");var it=be(fi,2);Vt(it,{children:(Xe,Ie)=>{ot();var pt=pi("Schubmodul G");Ue(Xe,pt)},$$slots:{default:!0}});var nt=be(it,2),ut=zt(()=>de("gg"));ii(nt,{get value(){return Q().gg},size:"sm",step:.1,helperText:"N/mm²",$$events:{change(...Xe){var Ie;(Ie=ge(ut))==null||Ie.apply(this,Xe)}}});var _i=be(nt,2);Ot(_i,"padding-top:var(--cds-spacing-05)");var Gt=be(_i,2);const Ci=$i(()=>Q().is_ortbeton===1);var ri=zt(()=>ne("is_ortbeton"));yr(Gt,{labelText:"Ortbeton",get checked(){return ge(Ci)},$$events:{change(...Xe){var Ie;(Ie=ge(ri))==null||Ie.apply(this,Xe)}}});var st=be(Gt,2);Ot(st,"padding-top:var(--cds-spacing-05)");var Ke=be(st,2);const Ct=$i(()=>Q().is_wirksamgeschlossen===1);var ni=zt(()=>ne("is_wirksamgeschlossen"));yr(Ke,{labelText:"Wirksam geschlossen",get checked(){return ge(Ct)},$$events:{change(...Xe){var Ie;(Ie=ge(ni))==null||Ie.apply(this,Xe)}}}),Ue(ke,He)},$$slots:{default:!0}}),Ue(ye,Je)},$$slots:{default:!0}}),Ue(te,V)},$$slots:{default:!0}})},$$slots:{default:!0}}),Mi(),fe()}function ea(){const K=new fs;return K.background=new cs(16777215),K}function ta(K){const ee=new ds({antialias:!0});return ee.setPixelRatio(window.devicePixelRatio),ee.shadowMap.enabled=!0,ee.shadowMap.type=ps,K.appendChild(ee.domElement),ee}function ia(K){const ee=new Si(new gs(200,200),new Ar({color:13355979,specular:4671303}));ee.rotation.x=-Math.PI/2,ee.position.y=-10,ee.receiveShadow=!0}function ra(K){return K.add(new _s(9272444,4802918,3)),na(K,0,500,500,16777215,2)}function na(K,ee,$,fe,Q,T){const ne=new vs(Q,T);ne.position.set(ee,$,fe),ne.castShadow=!0;const de=1e3;return ne.shadow.camera.left=-1e3,ne.shadow.camera.right=de,ne.shadow.camera.top=de,ne.shadow.camera.bottom=-1e3,ne.shadow.camera.near=1,ne.shadow.camera.far=2e3,ne.shadow.mapSize.width=4096,ne.shadow.mapSize.height=4096,ne.shadow.radius=1,ne.shadow.bias=-5e-4,K.add(ne),K.add(ne.target),ne}const Er=-.8,vn=1,sa=1,Hr=2,nr=Er,On=.55,sr=Er-On,aa=.5,ua=aa/2,oa=-.5/2,ar=Hr/2,mn=.6,wr=.3,bn=Er-On*.45;function ha(K){const ee=new Xr,$=new Ar({color:12895428,shininess:100,flatShading:!0}),fe=Er+vn/2,Q=Hr/2,T=0,ne=new Si(new En(vn,Hr,sa),$);ne.position.set(fe,Q,T),ne.castShadow=!0,ne.receiveShadow=!0,ee.add(ne);const de=new Float32Array([nr,ar,-.25,sr,ar,-.25,sr,ar,.25,nr,ar,.25,bn,wr,.25,nr,wr,.25,sr,mn,.25,sr,mn,-.25,bn,wr,-.25,nr,wr,-.25]),Ge=[0,1,2,0,2,3,7,6,2,7,2,1,0,9,8,0,8,7,0,7,1,3,2,6,3,6,4,4,5,3,0,3,5,0,5,9,1,7,6,1,6,2,5,4,8,5,8,9,4,6,7,4,7,8],Se=new ms;Se.setAttribute("position",new bs(de,3)),Se.setIndex(Ge),Se.computeVertexNormals();const pe=new Si(Se,$);return pe.castShadow=!0,pe.receiveShadow=!0,ee.add(pe),K.add(ee),ee}function Qr(){return{centerX:(nr+sr)/2,centerY:ar,centerZ:(ua+oa)/2}}function la(K,ee){ee&&(ee.traverse($=>{$ instanceof Si&&($.geometry.dispose(),Array.isArray($.material)?$.material.forEach(fe=>fe.dispose()):$.material.dispose())}),K.remove(ee))}function fa(K){const ee=new Xr,$=new Ar({color:12895428,shininess:100,specular:2236962}),fe=.4,Q=.4,T=.02,ne=new Si(new En(fe,T,Q),$),de=Qr();return ne.position.set(de.centerX,de.centerY,de.centerZ),ne.castShadow=!0,ne.receiveShadow=!0,ee.add(ne),K.add(ee),ee}function ca(K,ee){ee&&(ee.traverse($=>{$ instanceof Si&&($.geometry.dispose(),Array.isArray($.material)?$.material.forEach(fe=>fe.dispose()):$.material.dispose())}),K.remove(ee))}function da(K){const ee=new Xr,$=new Ar({color:12895428,flatShading:!1}),fe=.2,Q=.02,T=new Si(new xs(Q,Q,fe,16),$),ne=Qr();return T.position.set(ne.centerX,ne.centerY+fe/2,ne.centerZ),T.castShadow=!0,T.receiveShadow=!0,ee.add(T),K.add(ee),ee}function pa(K,ee){ee&&(ee.traverse($=>{$ instanceof Si&&($.geometry.dispose(),Array.isArray($.material)?$.material.forEach(fe=>fe.dispose()):$.material.dispose())}),K.remove(ee))}var ga=Ye('<div class="scene-container svelte-5boshl"></div>');function _a(K,ee){Ni(ee,!1),Ti(ee,"autoRotate",8,!1);const $=new pn(-3.6366326492655574,2.6403115127435544,-1.3328222766488578);let fe=Yt(),Q,T,ne,de,Ge,Se,pe,te,qe,V=!1,xe,ae;hr(async()=>{Q=ea(),ne=ta(ge(fe)),ia(),qe=ra(Q),T=ys(35),T.position.copy($);const oe=Qr(),Je=[oe.centerX,oe.centerY,oe.centerZ];de=ws(T,ne,Je),xe=Ss(ne,T,de),Se=ha(Q),pe=fa(Q),te=da(Q);const Ce=new Si(new Cs(.01,16,16),new ks({color:16711680}));Ce.position.set(oe.centerX,oe.centerY,oe.centerZ),Q.add(Ce);const ke=1e3/30;let I=0;const He=et=>{ae=requestAnimationFrame(He);const Fe=et-I;if(!(Fe<ke)){if(I=et-Fe%ke,Ps(de),qe&&T){const dt=new pn(0,500,500);dt.applyQuaternion(T.quaternion),qe.position.copy(T.position).add(dt),de&&de.target&&(qe.target.position.copy(de.target),qe.target.updateMatrixWorld())}ne.render(Q,T)}};He(0),await kn(),ge(fe)&&ge(fe)instanceof Element&&(Ge=new ResizeObserver(()=>{if(ge(fe)&&ne&&T){if(V==!0){V=!1;return}const et=ge(fe).clientWidth,Fe=ge(fe).clientHeight;console.log(`Resizing renderer to ${et}x${Fe}`),T.aspect=et/Fe,T.updateProjectionMatrix(),ne.setSize(et,Fe),V=!0}}),Ge.observe(ge(fe))),console.log("ShearDeformationScene initialized")}),Cn(()=>{ae!==void 0&&cancelAnimationFrame(ae),xe&&xe(),Ge&&Ge.disconnect(),de&&de.dispose(),ne&&ne.dispose(),Se&&Q&&la(Q,Se),pe&&Q&&ca(Q,pe),te&&Q&&pa(Q,te),console.log("ShearDeformationScene destroyed")}),Hi();var ye=ga();jr(ye,oe=>Ut(fe,oe),()=>ge(fe)),Ue(K,ye),Mi()}function va(K){return K&&K.__esModule&&Object.prototype.hasOwnProperty.call(K,"default")?K.default:K}function ma(K){if(Object.prototype.hasOwnProperty.call(K,"__esModule"))return K;var ee=K.default;if(typeof ee=="function"){var $=function fe(){return this instanceof fe?Reflect.construct(ee,arguments,this.constructor):ee.apply(this,arguments)};$.prototype=ee.prototype}else $={};return Object.defineProperty($,"__esModule",{value:!0}),Object.keys(K).forEach(function(fe){var Q=Object.getOwnPropertyDescriptor(K,fe);Object.defineProperty($,fe,Q.get?Q:{enumerable:!0,get:function(){return K[fe]}})}),$}function ba(K){throw new Error('Could not dynamically require "'+K+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Cr={exports:{}};const xa={},ya=Object.freeze(Object.defineProperty({__proto__:null,default:xa},Symbol.toStringTag,{value:"Module"})),xn=ma(ya);var ur={exports:{}},wa=ur.exports,yn;function Sa(){return yn||(yn=1,function(K,ee){(function($,fe){fe(ee)})(wa,function($){var fe=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239],Q=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],T="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࢗ-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‌‍‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯・꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿･",ne="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲊᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟍꟐꟑꟓꟕ-Ƛꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",de={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},Ge="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",Se={5:Ge,"5module":Ge+" export import",6:Ge+" const class extends export import super"},pe=/^in(stanceof)?$/,te=new RegExp("["+ne+"]"),qe=new RegExp("["+ne+T+"]");function V(i,a){for(var v=65536,P=0;P<a.length;P+=2){if(v+=a[P],v>i)return!1;if(v+=a[P+1],v>=i)return!0}return!1}function xe(i,a){return i<65?i===36:i<91?!0:i<97?i===95:i<123?!0:i<=65535?i>=170&&te.test(String.fromCharCode(i)):a===!1?!1:V(i,Q)}function ae(i,a){return i<48?i===36:i<58?!0:i<65?!1:i<91?!0:i<97?i===95:i<123?!0:i<=65535?i>=170&&qe.test(String.fromCharCode(i)):a===!1?!1:V(i,Q)||V(i,fe)}var ye=function(a,v){v===void 0&&(v={}),this.label=a,this.keyword=v.keyword,this.beforeExpr=!!v.beforeExpr,this.startsExpr=!!v.startsExpr,this.isLoop=!!v.isLoop,this.isAssign=!!v.isAssign,this.prefix=!!v.prefix,this.postfix=!!v.postfix,this.binop=v.binop||null,this.updateContext=null};function oe(i,a){return new ye(i,{beforeExpr:!0,binop:a})}var Je={beforeExpr:!0},Ce={startsExpr:!0},Qe={};function ke(i,a){return a===void 0&&(a={}),a.keyword=i,Qe[i]=new ye(i,a)}var I={num:new ye("num",Ce),regexp:new ye("regexp",Ce),string:new ye("string",Ce),name:new ye("name",Ce),privateId:new ye("privateId",Ce),eof:new ye("eof"),bracketL:new ye("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new ye("]"),braceL:new ye("{",{beforeExpr:!0,startsExpr:!0}),braceR:new ye("}"),parenL:new ye("(",{beforeExpr:!0,startsExpr:!0}),parenR:new ye(")"),comma:new ye(",",Je),semi:new ye(";",Je),colon:new ye(":",Je),dot:new ye("."),question:new ye("?",Je),questionDot:new ye("?."),arrow:new ye("=>",Je),template:new ye("template"),invalidTemplate:new ye("invalidTemplate"),ellipsis:new ye("...",Je),backQuote:new ye("`",Ce),dollarBraceL:new ye("${",{beforeExpr:!0,startsExpr:!0}),eq:new ye("=",{beforeExpr:!0,isAssign:!0}),assign:new ye("_=",{beforeExpr:!0,isAssign:!0}),incDec:new ye("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new ye("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:oe("||",1),logicalAND:oe("&&",2),bitwiseOR:oe("|",3),bitwiseXOR:oe("^",4),bitwiseAND:oe("&",5),equality:oe("==/!=/===/!==",6),relational:oe("</>/<=/>=",7),bitShift:oe("<</>>/>>>",8),plusMin:new ye("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:oe("%",10),star:oe("*",10),slash:oe("/",10),starstar:new ye("**",{beforeExpr:!0}),coalesce:oe("??",1),_break:ke("break"),_case:ke("case",Je),_catch:ke("catch"),_continue:ke("continue"),_debugger:ke("debugger"),_default:ke("default",Je),_do:ke("do",{isLoop:!0,beforeExpr:!0}),_else:ke("else",Je),_finally:ke("finally"),_for:ke("for",{isLoop:!0}),_function:ke("function",Ce),_if:ke("if"),_return:ke("return",Je),_switch:ke("switch"),_throw:ke("throw",Je),_try:ke("try"),_var:ke("var"),_const:ke("const"),_while:ke("while",{isLoop:!0}),_with:ke("with"),_new:ke("new",{beforeExpr:!0,startsExpr:!0}),_this:ke("this",Ce),_super:ke("super",Ce),_class:ke("class",Ce),_extends:ke("extends",Je),_export:ke("export"),_import:ke("import",Ce),_null:ke("null",Ce),_true:ke("true",Ce),_false:ke("false",Ce),_in:ke("in",{beforeExpr:!0,binop:7}),_instanceof:ke("instanceof",{beforeExpr:!0,binop:7}),_typeof:ke("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:ke("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:ke("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},He=/\r\n?|\n|\u2028|\u2029/,et=new RegExp(He.source,"g");function Fe(i){return i===10||i===13||i===8232||i===8233}function dt(i,a,v){v===void 0&&(v=i.length);for(var P=a;P<v;P++){var N=i.charCodeAt(P);if(Fe(N))return P<v-1&&N===13&&i.charCodeAt(P+1)===10?P+2:P+1}return-1}var mt=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,tt=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,ct=Object.prototype,we=ct.hasOwnProperty,Zt=ct.toString,ie=Object.hasOwn||function(i,a){return we.call(i,a)},bt=Array.isArray||function(i){return Zt.call(i)==="[object Array]"},It=Object.create(null);function Oe(i){return It[i]||(It[i]=new RegExp("^(?:"+i.replace(/ /g,"|")+")$"))}function ht(i){return i<=65535?String.fromCharCode(i):(i-=65536,String.fromCharCode((i>>10)+55296,(i&1023)+56320))}var Ht=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Ft=function(a,v){this.line=a,this.column=v};Ft.prototype.offset=function(a){return new Ft(this.line,this.column+a)};var Et=function(a,v,P){this.start=v,this.end=P,a.sourceFile!==null&&(this.source=a.sourceFile)};function Jt(i,a){for(var v=1,P=0;;){var N=dt(i,P,a);if(N<0)return new Ft(v,a-P);++v,P=N}}var Ze={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Dt=!1;function At(i){var a={};for(var v in Ze)a[v]=i&&ie(i,v)?i[v]:Ze[v];if(a.ecmaVersion==="latest"?a.ecmaVersion=1e8:a.ecmaVersion==null?(!Dt&&typeof console=="object"&&console.warn&&(Dt=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),a.ecmaVersion=11):a.ecmaVersion>=2015&&(a.ecmaVersion-=2009),a.allowReserved==null&&(a.allowReserved=a.ecmaVersion<5),(!i||i.allowHashBang==null)&&(a.allowHashBang=a.ecmaVersion>=14),bt(a.onToken)){var P=a.onToken;a.onToken=function(N){return P.push(N)}}return bt(a.onComment)&&(a.onComment=fi(a,a.onComment)),a}function fi(i,a){return function(v,P,N,H,W,ue){var ce={type:v?"Block":"Line",value:P,start:N,end:H};i.locations&&(ce.loc=new Et(this,W,ue)),i.ranges&&(ce.range=[N,H]),a.push(ce)}}var it=1,nt=2,ut=4,_i=8,Gt=16,Ci=32,ri=64,st=128,Ke=256,Ct=512,ni=it|nt|Ke;function Xe(i,a){return nt|(i?ut:0)|(a?_i:0)}var Ie=0,pt=1,je=2,ci=3,Ve=4,e=5,t=function(a,v,P){this.options=a=At(a),this.sourceFile=a.sourceFile,this.keywords=Oe(Se[a.ecmaVersion>=6?6:a.sourceType==="module"?"5module":5]);var N="";a.allowReserved!==!0&&(N=de[a.ecmaVersion>=6?6:a.ecmaVersion===5?5:3],a.sourceType==="module"&&(N+=" await")),this.reservedWords=Oe(N);var H=(N?N+" ":"")+de.strict;this.reservedWordsStrict=Oe(H),this.reservedWordsStrictBind=Oe(H+" "+de.strictBind),this.input=String(v),this.containsEsc=!1,P?(this.pos=P,this.lineStart=this.input.lastIndexOf(`
`,P-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(He).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=I.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=a.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&a.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(it),this.regexpState=null,this.privateNameStack=[]},r={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};t.prototype.parse=function(){var a=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(a)},r.inFunction.get=function(){return(this.currentVarScope().flags&nt)>0},r.inGenerator.get=function(){return(this.currentVarScope().flags&_i)>0},r.inAsync.get=function(){return(this.currentVarScope().flags&ut)>0},r.canAwait.get=function(){for(var i=this.scopeStack.length-1;i>=0;i--){var a=this.scopeStack[i],v=a.flags;if(v&(Ke|Ct))return!1;if(v&nt)return(v&ut)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},r.allowSuper.get=function(){var i=this.currentThisScope(),a=i.flags;return(a&ri)>0||this.options.allowSuperOutsideMethod},r.allowDirectSuper.get=function(){return(this.currentThisScope().flags&st)>0},r.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},r.allowNewDotTarget.get=function(){for(var i=this.scopeStack.length-1;i>=0;i--){var a=this.scopeStack[i],v=a.flags;if(v&(Ke|Ct)||v&nt&&!(v&Gt))return!0}return!1},r.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Ke)>0},t.extend=function(){for(var a=[],v=arguments.length;v--;)a[v]=arguments[v];for(var P=this,N=0;N<a.length;N++)P=a[N](P);return P},t.parse=function(a,v){return new this(v,a).parse()},t.parseExpressionAt=function(a,v,P){var N=new this(P,a,v);return N.nextToken(),N.parseExpression()},t.tokenizer=function(a,v){return new this(v,a)},Object.defineProperties(t.prototype,r);var n=t.prototype,s=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;n.strictDirective=function(i){if(this.options.ecmaVersion<5)return!1;for(;;){tt.lastIndex=i,i+=tt.exec(this.input)[0].length;var a=s.exec(this.input.slice(i));if(!a)return!1;if((a[1]||a[2])==="use strict"){tt.lastIndex=i+a[0].length;var v=tt.exec(this.input),P=v.index+v[0].length,N=this.input.charAt(P);return N===";"||N==="}"||He.test(v[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(N)||N==="!"&&this.input.charAt(P+1)==="=")}i+=a[0].length,tt.lastIndex=i,i+=tt.exec(this.input)[0].length,this.input[i]===";"&&i++}},n.eat=function(i){return this.type===i?(this.next(),!0):!1},n.isContextual=function(i){return this.type===I.name&&this.value===i&&!this.containsEsc},n.eatContextual=function(i){return this.isContextual(i)?(this.next(),!0):!1},n.expectContextual=function(i){this.eatContextual(i)||this.unexpected()},n.canInsertSemicolon=function(){return this.type===I.eof||this.type===I.braceR||He.test(this.input.slice(this.lastTokEnd,this.start))},n.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},n.semicolon=function(){!this.eat(I.semi)&&!this.insertSemicolon()&&this.unexpected()},n.afterTrailingComma=function(i,a){if(this.type===i)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),a||this.next(),!0},n.expect=function(i){this.eat(i)||this.unexpected()},n.unexpected=function(i){this.raise(i??this.start,"Unexpected token")};var u=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};n.checkPatternErrors=function(i,a){if(i){i.trailingComma>-1&&this.raiseRecoverable(i.trailingComma,"Comma is not permitted after the rest element");var v=a?i.parenthesizedAssign:i.parenthesizedBind;v>-1&&this.raiseRecoverable(v,a?"Assigning to rvalue":"Parenthesized pattern")}},n.checkExpressionErrors=function(i,a){if(!i)return!1;var v=i.shorthandAssign,P=i.doubleProto;if(!a)return v>=0||P>=0;v>=0&&this.raise(v,"Shorthand property assignments are valid only in destructuring patterns"),P>=0&&this.raiseRecoverable(P,"Redefinition of __proto__ property")},n.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},n.isSimpleAssignTarget=function(i){return i.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(i.expression):i.type==="Identifier"||i.type==="MemberExpression"};var o=t.prototype;o.parseTopLevel=function(i){var a=Object.create(null);for(i.body||(i.body=[]);this.type!==I.eof;){var v=this.parseStatement(null,!0,a);i.body.push(v)}if(this.inModule)for(var P=0,N=Object.keys(this.undefinedExports);P<N.length;P+=1){var H=N[P];this.raiseRecoverable(this.undefinedExports[H].start,"Export '"+H+"' is not defined")}return this.adaptDirectivePrologue(i.body),this.next(),i.sourceType=this.options.sourceType,this.finishNode(i,"Program")};var h={kind:"loop"},l={kind:"switch"};o.isLet=function(i){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;tt.lastIndex=this.pos;var a=tt.exec(this.input),v=this.pos+a[0].length,P=this.input.charCodeAt(v);if(P===91||P===92)return!0;if(i)return!1;if(P===123||P>55295&&P<56320)return!0;if(xe(P,!0)){for(var N=v+1;ae(P=this.input.charCodeAt(N),!0);)++N;if(P===92||P>55295&&P<56320)return!0;var H=this.input.slice(v,N);if(!pe.test(H))return!0}return!1},o.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;tt.lastIndex=this.pos;var i=tt.exec(this.input),a=this.pos+i[0].length,v;return!He.test(this.input.slice(this.pos,a))&&this.input.slice(a,a+8)==="function"&&(a+8===this.input.length||!(ae(v=this.input.charCodeAt(a+8))||v>55295&&v<56320))},o.parseStatement=function(i,a,v){var P=this.type,N=this.startNode(),H;switch(this.isLet(i)&&(P=I._var,H="let"),P){case I._break:case I._continue:return this.parseBreakContinueStatement(N,P.keyword);case I._debugger:return this.parseDebuggerStatement(N);case I._do:return this.parseDoStatement(N);case I._for:return this.parseForStatement(N);case I._function:return i&&(this.strict||i!=="if"&&i!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(N,!1,!i);case I._class:return i&&this.unexpected(),this.parseClass(N,!0);case I._if:return this.parseIfStatement(N);case I._return:return this.parseReturnStatement(N);case I._switch:return this.parseSwitchStatement(N);case I._throw:return this.parseThrowStatement(N);case I._try:return this.parseTryStatement(N);case I._const:case I._var:return H=H||this.value,i&&H!=="var"&&this.unexpected(),this.parseVarStatement(N,H);case I._while:return this.parseWhileStatement(N);case I._with:return this.parseWithStatement(N);case I.braceL:return this.parseBlock(!0,N);case I.semi:return this.parseEmptyStatement(N);case I._export:case I._import:if(this.options.ecmaVersion>10&&P===I._import){tt.lastIndex=this.pos;var W=tt.exec(this.input),ue=this.pos+W[0].length,ce=this.input.charCodeAt(ue);if(ce===40||ce===46)return this.parseExpressionStatement(N,this.parseExpression())}return this.options.allowImportExportEverywhere||(a||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),P===I._import?this.parseImport(N):this.parseExport(N,v);default:if(this.isAsyncFunction())return i&&this.unexpected(),this.next(),this.parseFunctionStatement(N,!0,!i);var $e=this.value,Me=this.parseExpression();return P===I.name&&Me.type==="Identifier"&&this.eat(I.colon)?this.parseLabeledStatement(N,$e,Me,i):this.parseExpressionStatement(N,Me)}},o.parseBreakContinueStatement=function(i,a){var v=a==="break";this.next(),this.eat(I.semi)||this.insertSemicolon()?i.label=null:this.type!==I.name?this.unexpected():(i.label=this.parseIdent(),this.semicolon());for(var P=0;P<this.labels.length;++P){var N=this.labels[P];if((i.label==null||N.name===i.label.name)&&(N.kind!=null&&(v||N.kind==="loop")||i.label&&v))break}return P===this.labels.length&&this.raise(i.start,"Unsyntactic "+a),this.finishNode(i,v?"BreakStatement":"ContinueStatement")},o.parseDebuggerStatement=function(i){return this.next(),this.semicolon(),this.finishNode(i,"DebuggerStatement")},o.parseDoStatement=function(i){return this.next(),this.labels.push(h),i.body=this.parseStatement("do"),this.labels.pop(),this.expect(I._while),i.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(I.semi):this.semicolon(),this.finishNode(i,"DoWhileStatement")},o.parseForStatement=function(i){this.next();var a=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(h),this.enterScope(0),this.expect(I.parenL),this.type===I.semi)return a>-1&&this.unexpected(a),this.parseFor(i,null);var v=this.isLet();if(this.type===I._var||this.type===I._const||v){var P=this.startNode(),N=v?"let":this.value;return this.next(),this.parseVar(P,!0,N),this.finishNode(P,"VariableDeclaration"),(this.type===I._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&P.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===I._in?a>-1&&this.unexpected(a):i.await=a>-1),this.parseForIn(i,P)):(a>-1&&this.unexpected(a),this.parseFor(i,P))}var H=this.isContextual("let"),W=!1,ue=this.containsEsc,ce=new u,$e=this.start,Me=a>-1?this.parseExprSubscripts(ce,"await"):this.parseExpression(!0,ce);return this.type===I._in||(W=this.options.ecmaVersion>=6&&this.isContextual("of"))?(a>-1?(this.type===I._in&&this.unexpected(a),i.await=!0):W&&this.options.ecmaVersion>=8&&(Me.start===$e&&!ue&&Me.type==="Identifier"&&Me.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(i.await=!1)),H&&W&&this.raise(Me.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(Me,!1,ce),this.checkLValPattern(Me),this.parseForIn(i,Me)):(this.checkExpressionErrors(ce,!0),a>-1&&this.unexpected(a),this.parseFor(i,Me))},o.parseFunctionStatement=function(i,a,v){return this.next(),this.parseFunction(i,_|(v?0:m),!1,a)},o.parseIfStatement=function(i){return this.next(),i.test=this.parseParenExpression(),i.consequent=this.parseStatement("if"),i.alternate=this.eat(I._else)?this.parseStatement("if"):null,this.finishNode(i,"IfStatement")},o.parseReturnStatement=function(i){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(I.semi)||this.insertSemicolon()?i.argument=null:(i.argument=this.parseExpression(),this.semicolon()),this.finishNode(i,"ReturnStatement")},o.parseSwitchStatement=function(i){this.next(),i.discriminant=this.parseParenExpression(),i.cases=[],this.expect(I.braceL),this.labels.push(l),this.enterScope(0);for(var a,v=!1;this.type!==I.braceR;)if(this.type===I._case||this.type===I._default){var P=this.type===I._case;a&&this.finishNode(a,"SwitchCase"),i.cases.push(a=this.startNode()),a.consequent=[],this.next(),P?a.test=this.parseExpression():(v&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),v=!0,a.test=null),this.expect(I.colon)}else a||this.unexpected(),a.consequent.push(this.parseStatement(null));return this.exitScope(),a&&this.finishNode(a,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(i,"SwitchStatement")},o.parseThrowStatement=function(i){return this.next(),He.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),i.argument=this.parseExpression(),this.semicolon(),this.finishNode(i,"ThrowStatement")};var f=[];o.parseCatchClauseParam=function(){var i=this.parseBindingAtom(),a=i.type==="Identifier";return this.enterScope(a?Ci:0),this.checkLValPattern(i,a?Ve:je),this.expect(I.parenR),i},o.parseTryStatement=function(i){if(this.next(),i.block=this.parseBlock(),i.handler=null,this.type===I._catch){var a=this.startNode();this.next(),this.eat(I.parenL)?a.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),a.param=null,this.enterScope(0)),a.body=this.parseBlock(!1),this.exitScope(),i.handler=this.finishNode(a,"CatchClause")}return i.finalizer=this.eat(I._finally)?this.parseBlock():null,!i.handler&&!i.finalizer&&this.raise(i.start,"Missing catch or finally clause"),this.finishNode(i,"TryStatement")},o.parseVarStatement=function(i,a,v){return this.next(),this.parseVar(i,!1,a,v),this.semicolon(),this.finishNode(i,"VariableDeclaration")},o.parseWhileStatement=function(i){return this.next(),i.test=this.parseParenExpression(),this.labels.push(h),i.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(i,"WhileStatement")},o.parseWithStatement=function(i){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),i.object=this.parseParenExpression(),i.body=this.parseStatement("with"),this.finishNode(i,"WithStatement")},o.parseEmptyStatement=function(i){return this.next(),this.finishNode(i,"EmptyStatement")},o.parseLabeledStatement=function(i,a,v,P){for(var N=0,H=this.labels;N<H.length;N+=1){var W=H[N];W.name===a&&this.raise(v.start,"Label '"+a+"' is already declared")}for(var ue=this.type.isLoop?"loop":this.type===I._switch?"switch":null,ce=this.labels.length-1;ce>=0;ce--){var $e=this.labels[ce];if($e.statementStart===i.start)$e.statementStart=this.start,$e.kind=ue;else break}return this.labels.push({name:a,kind:ue,statementStart:this.start}),i.body=this.parseStatement(P?P.indexOf("label")===-1?P+"label":P:"label"),this.labels.pop(),i.label=v,this.finishNode(i,"LabeledStatement")},o.parseExpressionStatement=function(i,a){return i.expression=a,this.semicolon(),this.finishNode(i,"ExpressionStatement")},o.parseBlock=function(i,a,v){for(i===void 0&&(i=!0),a===void 0&&(a=this.startNode()),a.body=[],this.expect(I.braceL),i&&this.enterScope(0);this.type!==I.braceR;){var P=this.parseStatement(null);a.body.push(P)}return v&&(this.strict=!1),this.next(),i&&this.exitScope(),this.finishNode(a,"BlockStatement")},o.parseFor=function(i,a){return i.init=a,this.expect(I.semi),i.test=this.type===I.semi?null:this.parseExpression(),this.expect(I.semi),i.update=this.type===I.parenR?null:this.parseExpression(),this.expect(I.parenR),i.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(i,"ForStatement")},o.parseForIn=function(i,a){var v=this.type===I._in;return this.next(),a.type==="VariableDeclaration"&&a.declarations[0].init!=null&&(!v||this.options.ecmaVersion<8||this.strict||a.kind!=="var"||a.declarations[0].id.type!=="Identifier")&&this.raise(a.start,(v?"for-in":"for-of")+" loop variable declaration may not have an initializer"),i.left=a,i.right=v?this.parseExpression():this.parseMaybeAssign(),this.expect(I.parenR),i.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(i,v?"ForInStatement":"ForOfStatement")},o.parseVar=function(i,a,v,P){for(i.declarations=[],i.kind=v;;){var N=this.startNode();if(this.parseVarId(N,v),this.eat(I.eq)?N.init=this.parseMaybeAssign(a):!P&&v==="const"&&!(this.type===I._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!P&&N.id.type!=="Identifier"&&!(a&&(this.type===I._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):N.init=null,i.declarations.push(this.finishNode(N,"VariableDeclarator")),!this.eat(I.comma))break}return i},o.parseVarId=function(i,a){i.id=this.parseBindingAtom(),this.checkLValPattern(i.id,a==="var"?pt:je,!1)};var _=1,m=2,p=4;o.parseFunction=function(i,a,v,P,N){this.initFunction(i),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!P)&&(this.type===I.star&&a&m&&this.unexpected(),i.generator=this.eat(I.star)),this.options.ecmaVersion>=8&&(i.async=!!P),a&_&&(i.id=a&p&&this.type!==I.name?null:this.parseIdent(),i.id&&!(a&m)&&this.checkLValSimple(i.id,this.strict||i.generator||i.async?this.treatFunctionsAsVar?pt:je:ci));var H=this.yieldPos,W=this.awaitPos,ue=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Xe(i.async,i.generator)),a&_||(i.id=this.type===I.name?this.parseIdent():null),this.parseFunctionParams(i),this.parseFunctionBody(i,v,!1,N),this.yieldPos=H,this.awaitPos=W,this.awaitIdentPos=ue,this.finishNode(i,a&_?"FunctionDeclaration":"FunctionExpression")},o.parseFunctionParams=function(i){this.expect(I.parenL),i.params=this.parseBindingList(I.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},o.parseClass=function(i,a){this.next();var v=this.strict;this.strict=!0,this.parseClassId(i,a),this.parseClassSuper(i);var P=this.enterClassBody(),N=this.startNode(),H=!1;for(N.body=[],this.expect(I.braceL);this.type!==I.braceR;){var W=this.parseClassElement(i.superClass!==null);W&&(N.body.push(W),W.type==="MethodDefinition"&&W.kind==="constructor"?(H&&this.raiseRecoverable(W.start,"Duplicate constructor in the same class"),H=!0):W.key&&W.key.type==="PrivateIdentifier"&&d(P,W)&&this.raiseRecoverable(W.key.start,"Identifier '#"+W.key.name+"' has already been declared"))}return this.strict=v,this.next(),i.body=this.finishNode(N,"ClassBody"),this.exitClassBody(),this.finishNode(i,a?"ClassDeclaration":"ClassExpression")},o.parseClassElement=function(i){if(this.eat(I.semi))return null;var a=this.options.ecmaVersion,v=this.startNode(),P="",N=!1,H=!1,W="method",ue=!1;if(this.eatContextual("static")){if(a>=13&&this.eat(I.braceL))return this.parseClassStaticBlock(v),v;this.isClassElementNameStart()||this.type===I.star?ue=!0:P="static"}if(v.static=ue,!P&&a>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===I.star)&&!this.canInsertSemicolon()?H=!0:P="async"),!P&&(a>=9||!H)&&this.eat(I.star)&&(N=!0),!P&&!H&&!N){var ce=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?W=ce:P=ce)}if(P?(v.computed=!1,v.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),v.key.name=P,this.finishNode(v.key,"Identifier")):this.parseClassElementName(v),a<13||this.type===I.parenL||W!=="method"||N||H){var $e=!v.static&&C(v,"constructor"),Me=$e&&i;$e&&W!=="method"&&this.raise(v.key.start,"Constructor can't have get/set modifier"),v.kind=$e?"constructor":W,this.parseClassMethod(v,N,H,Me)}else this.parseClassField(v);return v},o.isClassElementNameStart=function(){return this.type===I.name||this.type===I.privateId||this.type===I.num||this.type===I.string||this.type===I.bracketL||this.type.keyword},o.parseClassElementName=function(i){this.type===I.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),i.computed=!1,i.key=this.parsePrivateIdent()):this.parsePropertyName(i)},o.parseClassMethod=function(i,a,v,P){var N=i.key;i.kind==="constructor"?(a&&this.raise(N.start,"Constructor can't be a generator"),v&&this.raise(N.start,"Constructor can't be an async method")):i.static&&C(i,"prototype")&&this.raise(N.start,"Classes may not have a static property named prototype");var H=i.value=this.parseMethod(a,v,P);return i.kind==="get"&&H.params.length!==0&&this.raiseRecoverable(H.start,"getter should have no params"),i.kind==="set"&&H.params.length!==1&&this.raiseRecoverable(H.start,"setter should have exactly one param"),i.kind==="set"&&H.params[0].type==="RestElement"&&this.raiseRecoverable(H.params[0].start,"Setter cannot use rest params"),this.finishNode(i,"MethodDefinition")},o.parseClassField=function(i){return C(i,"constructor")?this.raise(i.key.start,"Classes can't have a field named 'constructor'"):i.static&&C(i,"prototype")&&this.raise(i.key.start,"Classes can't have a static field named 'prototype'"),this.eat(I.eq)?(this.enterScope(Ct|ri),i.value=this.parseMaybeAssign(),this.exitScope()):i.value=null,this.semicolon(),this.finishNode(i,"PropertyDefinition")},o.parseClassStaticBlock=function(i){i.body=[];var a=this.labels;for(this.labels=[],this.enterScope(Ke|ri);this.type!==I.braceR;){var v=this.parseStatement(null);i.body.push(v)}return this.next(),this.exitScope(),this.labels=a,this.finishNode(i,"StaticBlock")},o.parseClassId=function(i,a){this.type===I.name?(i.id=this.parseIdent(),a&&this.checkLValSimple(i.id,je,!1)):(a===!0&&this.unexpected(),i.id=null)},o.parseClassSuper=function(i){i.superClass=this.eat(I._extends)?this.parseExprSubscripts(null,!1):null},o.enterClassBody=function(){var i={declared:Object.create(null),used:[]};return this.privateNameStack.push(i),i.declared},o.exitClassBody=function(){var i=this.privateNameStack.pop(),a=i.declared,v=i.used;if(this.options.checkPrivateFields)for(var P=this.privateNameStack.length,N=P===0?null:this.privateNameStack[P-1],H=0;H<v.length;++H){var W=v[H];ie(a,W.name)||(N?N.used.push(W):this.raiseRecoverable(W.start,"Private field '#"+W.name+"' must be declared in an enclosing class"))}};function d(i,a){var v=a.key.name,P=i[v],N="true";return a.type==="MethodDefinition"&&(a.kind==="get"||a.kind==="set")&&(N=(a.static?"s":"i")+a.kind),P==="iget"&&N==="iset"||P==="iset"&&N==="iget"||P==="sget"&&N==="sset"||P==="sset"&&N==="sget"?(i[v]="true",!1):P?!0:(i[v]=N,!1)}function C(i,a){var v=i.computed,P=i.key;return!v&&(P.type==="Identifier"&&P.name===a||P.type==="Literal"&&P.value===a)}o.parseExportAllDeclaration=function(i,a){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(i.exported=this.parseModuleExportName(),this.checkExport(a,i.exported,this.lastTokStart)):i.exported=null),this.expectContextual("from"),this.type!==I.string&&this.unexpected(),i.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(i.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(i,"ExportAllDeclaration")},o.parseExport=function(i,a){if(this.next(),this.eat(I.star))return this.parseExportAllDeclaration(i,a);if(this.eat(I._default))return this.checkExport(a,"default",this.lastTokStart),i.declaration=this.parseExportDefaultDeclaration(),this.finishNode(i,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())i.declaration=this.parseExportDeclaration(i),i.declaration.type==="VariableDeclaration"?this.checkVariableExport(a,i.declaration.declarations):this.checkExport(a,i.declaration.id,i.declaration.id.start),i.specifiers=[],i.source=null,this.options.ecmaVersion>=16&&(i.attributes=[]);else{if(i.declaration=null,i.specifiers=this.parseExportSpecifiers(a),this.eatContextual("from"))this.type!==I.string&&this.unexpected(),i.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(i.attributes=this.parseWithClause());else{for(var v=0,P=i.specifiers;v<P.length;v+=1){var N=P[v];this.checkUnreserved(N.local),this.checkLocalExport(N.local),N.local.type==="Literal"&&this.raise(N.local.start,"A string literal cannot be used as an exported binding without `from`.")}i.source=null,this.options.ecmaVersion>=16&&(i.attributes=[])}this.semicolon()}return this.finishNode(i,"ExportNamedDeclaration")},o.parseExportDeclaration=function(i){return this.parseStatement(null)},o.parseExportDefaultDeclaration=function(){var i;if(this.type===I._function||(i=this.isAsyncFunction())){var a=this.startNode();return this.next(),i&&this.next(),this.parseFunction(a,_|p,!1,i)}else if(this.type===I._class){var v=this.startNode();return this.parseClass(v,"nullableID")}else{var P=this.parseMaybeAssign();return this.semicolon(),P}},o.checkExport=function(i,a,v){i&&(typeof a!="string"&&(a=a.type==="Identifier"?a.name:a.value),ie(i,a)&&this.raiseRecoverable(v,"Duplicate export '"+a+"'"),i[a]=!0)},o.checkPatternExport=function(i,a){var v=a.type;if(v==="Identifier")this.checkExport(i,a,a.start);else if(v==="ObjectPattern")for(var P=0,N=a.properties;P<N.length;P+=1){var H=N[P];this.checkPatternExport(i,H)}else if(v==="ArrayPattern")for(var W=0,ue=a.elements;W<ue.length;W+=1){var ce=ue[W];ce&&this.checkPatternExport(i,ce)}else v==="Property"?this.checkPatternExport(i,a.value):v==="AssignmentPattern"?this.checkPatternExport(i,a.left):v==="RestElement"&&this.checkPatternExport(i,a.argument)},o.checkVariableExport=function(i,a){if(i)for(var v=0,P=a;v<P.length;v+=1){var N=P[v];this.checkPatternExport(i,N.id)}},o.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},o.parseExportSpecifier=function(i){var a=this.startNode();return a.local=this.parseModuleExportName(),a.exported=this.eatContextual("as")?this.parseModuleExportName():a.local,this.checkExport(i,a.exported,a.exported.start),this.finishNode(a,"ExportSpecifier")},o.parseExportSpecifiers=function(i){var a=[],v=!0;for(this.expect(I.braceL);!this.eat(I.braceR);){if(v)v=!1;else if(this.expect(I.comma),this.afterTrailingComma(I.braceR))break;a.push(this.parseExportSpecifier(i))}return a},o.parseImport=function(i){return this.next(),this.type===I.string?(i.specifiers=f,i.source=this.parseExprAtom()):(i.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),i.source=this.type===I.string?this.parseExprAtom():this.unexpected()),this.options.ecmaVersion>=16&&(i.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(i,"ImportDeclaration")},o.parseImportSpecifier=function(){var i=this.startNode();return i.imported=this.parseModuleExportName(),this.eatContextual("as")?i.local=this.parseIdent():(this.checkUnreserved(i.imported),i.local=i.imported),this.checkLValSimple(i.local,je),this.finishNode(i,"ImportSpecifier")},o.parseImportDefaultSpecifier=function(){var i=this.startNode();return i.local=this.parseIdent(),this.checkLValSimple(i.local,je),this.finishNode(i,"ImportDefaultSpecifier")},o.parseImportNamespaceSpecifier=function(){var i=this.startNode();return this.next(),this.expectContextual("as"),i.local=this.parseIdent(),this.checkLValSimple(i.local,je),this.finishNode(i,"ImportNamespaceSpecifier")},o.parseImportSpecifiers=function(){var i=[],a=!0;if(this.type===I.name&&(i.push(this.parseImportDefaultSpecifier()),!this.eat(I.comma)))return i;if(this.type===I.star)return i.push(this.parseImportNamespaceSpecifier()),i;for(this.expect(I.braceL);!this.eat(I.braceR);){if(a)a=!1;else if(this.expect(I.comma),this.afterTrailingComma(I.braceR))break;i.push(this.parseImportSpecifier())}return i},o.parseWithClause=function(){var i=[];if(!this.eat(I._with))return i;this.expect(I.braceL);for(var a={},v=!0;!this.eat(I.braceR);){if(v)v=!1;else if(this.expect(I.comma),this.afterTrailingComma(I.braceR))break;var P=this.parseImportAttribute(),N=P.key.type==="Identifier"?P.key.name:P.key.value;ie(a,N)&&this.raiseRecoverable(P.key.start,"Duplicate attribute key '"+N+"'"),a[N]=!0,i.push(P)}return i},o.parseImportAttribute=function(){var i=this.startNode();return i.key=this.type===I.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never"),this.expect(I.colon),this.type!==I.string&&this.unexpected(),i.value=this.parseExprAtom(),this.finishNode(i,"ImportAttribute")},o.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===I.string){var i=this.parseLiteral(this.value);return Ht.test(i.value)&&this.raise(i.start,"An export name cannot include a lone surrogate."),i}return this.parseIdent(!0)},o.adaptDirectivePrologue=function(i){for(var a=0;a<i.length&&this.isDirectiveCandidate(i[a]);++a)i[a].directive=i[a].expression.raw.slice(1,-1)},o.isDirectiveCandidate=function(i){return this.options.ecmaVersion>=5&&i.type==="ExpressionStatement"&&i.expression.type==="Literal"&&typeof i.expression.value=="string"&&(this.input[i.start]==='"'||this.input[i.start]==="'")};var b=t.prototype;b.toAssignable=function(i,a,v){if(this.options.ecmaVersion>=6&&i)switch(i.type){case"Identifier":this.inAsync&&i.name==="await"&&this.raise(i.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":i.type="ObjectPattern",v&&this.checkPatternErrors(v,!0);for(var P=0,N=i.properties;P<N.length;P+=1){var H=N[P];this.toAssignable(H,a),H.type==="RestElement"&&(H.argument.type==="ArrayPattern"||H.argument.type==="ObjectPattern")&&this.raise(H.argument.start,"Unexpected token")}break;case"Property":i.kind!=="init"&&this.raise(i.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(i.value,a);break;case"ArrayExpression":i.type="ArrayPattern",v&&this.checkPatternErrors(v,!0),this.toAssignableList(i.elements,a);break;case"SpreadElement":i.type="RestElement",this.toAssignable(i.argument,a),i.argument.type==="AssignmentPattern"&&this.raise(i.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":i.operator!=="="&&this.raise(i.left.end,"Only '=' operator can be used for specifying default value."),i.type="AssignmentPattern",delete i.operator,this.toAssignable(i.left,a);break;case"ParenthesizedExpression":this.toAssignable(i.expression,a,v);break;case"ChainExpression":this.raiseRecoverable(i.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!a)break;default:this.raise(i.start,"Assigning to rvalue")}else v&&this.checkPatternErrors(v,!0);return i},b.toAssignableList=function(i,a){for(var v=i.length,P=0;P<v;P++){var N=i[P];N&&this.toAssignable(N,a)}if(v){var H=i[v-1];this.options.ecmaVersion===6&&a&&H&&H.type==="RestElement"&&H.argument.type!=="Identifier"&&this.unexpected(H.argument.start)}return i},b.parseSpread=function(i){var a=this.startNode();return this.next(),a.argument=this.parseMaybeAssign(!1,i),this.finishNode(a,"SpreadElement")},b.parseRestBinding=function(){var i=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==I.name&&this.unexpected(),i.argument=this.parseBindingAtom(),this.finishNode(i,"RestElement")},b.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case I.bracketL:var i=this.startNode();return this.next(),i.elements=this.parseBindingList(I.bracketR,!0,!0),this.finishNode(i,"ArrayPattern");case I.braceL:return this.parseObj(!0)}return this.parseIdent()},b.parseBindingList=function(i,a,v,P){for(var N=[],H=!0;!this.eat(i);)if(H?H=!1:this.expect(I.comma),a&&this.type===I.comma)N.push(null);else{if(v&&this.afterTrailingComma(i))break;if(this.type===I.ellipsis){var W=this.parseRestBinding();this.parseBindingListItem(W),N.push(W),this.type===I.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(i);break}else N.push(this.parseAssignableListItem(P))}return N},b.parseAssignableListItem=function(i){var a=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(a),a},b.parseBindingListItem=function(i){return i},b.parseMaybeDefault=function(i,a,v){if(v=v||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(I.eq))return v;var P=this.startNodeAt(i,a);return P.left=v,P.right=this.parseMaybeAssign(),this.finishNode(P,"AssignmentPattern")},b.checkLValSimple=function(i,a,v){a===void 0&&(a=Ie);var P=a!==Ie;switch(i.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(i.name)&&this.raiseRecoverable(i.start,(P?"Binding ":"Assigning to ")+i.name+" in strict mode"),P&&(a===je&&i.name==="let"&&this.raiseRecoverable(i.start,"let is disallowed as a lexically bound name"),v&&(ie(v,i.name)&&this.raiseRecoverable(i.start,"Argument name clash"),v[i.name]=!0),a!==e&&this.declareName(i.name,a,i.start));break;case"ChainExpression":this.raiseRecoverable(i.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":P&&this.raiseRecoverable(i.start,"Binding member expression");break;case"ParenthesizedExpression":return P&&this.raiseRecoverable(i.start,"Binding parenthesized expression"),this.checkLValSimple(i.expression,a,v);default:this.raise(i.start,(P?"Binding":"Assigning to")+" rvalue")}},b.checkLValPattern=function(i,a,v){switch(a===void 0&&(a=Ie),i.type){case"ObjectPattern":for(var P=0,N=i.properties;P<N.length;P+=1){var H=N[P];this.checkLValInnerPattern(H,a,v)}break;case"ArrayPattern":for(var W=0,ue=i.elements;W<ue.length;W+=1){var ce=ue[W];ce&&this.checkLValInnerPattern(ce,a,v)}break;default:this.checkLValSimple(i,a,v)}},b.checkLValInnerPattern=function(i,a,v){switch(a===void 0&&(a=Ie),i.type){case"Property":this.checkLValInnerPattern(i.value,a,v);break;case"AssignmentPattern":this.checkLValPattern(i.left,a,v);break;case"RestElement":this.checkLValPattern(i.argument,a,v);break;default:this.checkLValPattern(i,a,v)}};var S=function(a,v,P,N,H){this.token=a,this.isExpr=!!v,this.preserveSpace=!!P,this.override=N,this.generator=!!H},g={b_stat:new S("{",!1),b_expr:new S("{",!0),b_tmpl:new S("${",!1),p_stat:new S("(",!1),p_expr:new S("(",!0),q_tmpl:new S("`",!0,!0,function(i){return i.tryReadTemplateToken()}),f_stat:new S("function",!1),f_expr:new S("function",!0),f_expr_gen:new S("function",!0,!1,null,!0),f_gen:new S("function",!1,!1,null,!0)},y=t.prototype;y.initialContext=function(){return[g.b_stat]},y.curContext=function(){return this.context[this.context.length-1]},y.braceIsBlock=function(i){var a=this.curContext();return a===g.f_expr||a===g.f_stat?!0:i===I.colon&&(a===g.b_stat||a===g.b_expr)?!a.isExpr:i===I._return||i===I.name&&this.exprAllowed?He.test(this.input.slice(this.lastTokEnd,this.start)):i===I._else||i===I.semi||i===I.eof||i===I.parenR||i===I.arrow?!0:i===I.braceL?a===g.b_stat:i===I._var||i===I._const||i===I.name?!1:!this.exprAllowed},y.inGeneratorContext=function(){for(var i=this.context.length-1;i>=1;i--){var a=this.context[i];if(a.token==="function")return a.generator}return!1},y.updateContext=function(i){var a,v=this.type;v.keyword&&i===I.dot?this.exprAllowed=!1:(a=v.updateContext)?a.call(this,i):this.exprAllowed=v.beforeExpr},y.overrideContext=function(i){this.curContext()!==i&&(this.context[this.context.length-1]=i)},I.parenR.updateContext=I.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var i=this.context.pop();i===g.b_stat&&this.curContext().token==="function"&&(i=this.context.pop()),this.exprAllowed=!i.isExpr},I.braceL.updateContext=function(i){this.context.push(this.braceIsBlock(i)?g.b_stat:g.b_expr),this.exprAllowed=!0},I.dollarBraceL.updateContext=function(){this.context.push(g.b_tmpl),this.exprAllowed=!0},I.parenL.updateContext=function(i){var a=i===I._if||i===I._for||i===I._with||i===I._while;this.context.push(a?g.p_stat:g.p_expr),this.exprAllowed=!0},I.incDec.updateContext=function(){},I._function.updateContext=I._class.updateContext=function(i){i.beforeExpr&&i!==I._else&&!(i===I.semi&&this.curContext()!==g.p_stat)&&!(i===I._return&&He.test(this.input.slice(this.lastTokEnd,this.start)))&&!((i===I.colon||i===I.braceL)&&this.curContext()===g.b_stat)?this.context.push(g.f_expr):this.context.push(g.f_stat),this.exprAllowed=!1},I.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0},I.backQuote.updateContext=function(){this.curContext()===g.q_tmpl?this.context.pop():this.context.push(g.q_tmpl),this.exprAllowed=!1},I.star.updateContext=function(i){if(i===I._function){var a=this.context.length-1;this.context[a]===g.f_expr?this.context[a]=g.f_expr_gen:this.context[a]=g.f_gen}this.exprAllowed=!0},I.name.updateContext=function(i){var a=!1;this.options.ecmaVersion>=6&&i!==I.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(a=!0),this.exprAllowed=a};var c=t.prototype;c.checkPropClash=function(i,a,v){if(!(this.options.ecmaVersion>=9&&i.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(i.computed||i.method||i.shorthand))){var P=i.key,N;switch(P.type){case"Identifier":N=P.name;break;case"Literal":N=String(P.value);break;default:return}var H=i.kind;if(this.options.ecmaVersion>=6){N==="__proto__"&&H==="init"&&(a.proto&&(v?v.doubleProto<0&&(v.doubleProto=P.start):this.raiseRecoverable(P.start,"Redefinition of __proto__ property")),a.proto=!0);return}N="$"+N;var W=a[N];if(W){var ue;H==="init"?ue=this.strict&&W.init||W.get||W.set:ue=W.init||W[H],ue&&this.raiseRecoverable(P.start,"Redefinition of property")}else W=a[N]={init:!1,get:!1,set:!1};W[H]=!0}},c.parseExpression=function(i,a){var v=this.start,P=this.startLoc,N=this.parseMaybeAssign(i,a);if(this.type===I.comma){var H=this.startNodeAt(v,P);for(H.expressions=[N];this.eat(I.comma);)H.expressions.push(this.parseMaybeAssign(i,a));return this.finishNode(H,"SequenceExpression")}return N},c.parseMaybeAssign=function(i,a,v){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(i);this.exprAllowed=!1}var P=!1,N=-1,H=-1,W=-1;a?(N=a.parenthesizedAssign,H=a.trailingComma,W=a.doubleProto,a.parenthesizedAssign=a.trailingComma=-1):(a=new u,P=!0);var ue=this.start,ce=this.startLoc;(this.type===I.parenL||this.type===I.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=i==="await");var $e=this.parseMaybeConditional(i,a);if(v&&($e=v.call(this,$e,ue,ce)),this.type.isAssign){var Me=this.startNodeAt(ue,ce);return Me.operator=this.value,this.type===I.eq&&($e=this.toAssignable($e,!1,a)),P||(a.parenthesizedAssign=a.trailingComma=a.doubleProto=-1),a.shorthandAssign>=$e.start&&(a.shorthandAssign=-1),this.type===I.eq?this.checkLValPattern($e):this.checkLValSimple($e),Me.left=$e,this.next(),Me.right=this.parseMaybeAssign(i),W>-1&&(a.doubleProto=W),this.finishNode(Me,"AssignmentExpression")}else P&&this.checkExpressionErrors(a,!0);return N>-1&&(a.parenthesizedAssign=N),H>-1&&(a.trailingComma=H),$e},c.parseMaybeConditional=function(i,a){var v=this.start,P=this.startLoc,N=this.parseExprOps(i,a);if(this.checkExpressionErrors(a))return N;if(this.eat(I.question)){var H=this.startNodeAt(v,P);return H.test=N,H.consequent=this.parseMaybeAssign(),this.expect(I.colon),H.alternate=this.parseMaybeAssign(i),this.finishNode(H,"ConditionalExpression")}return N},c.parseExprOps=function(i,a){var v=this.start,P=this.startLoc,N=this.parseMaybeUnary(a,!1,!1,i);return this.checkExpressionErrors(a)||N.start===v&&N.type==="ArrowFunctionExpression"?N:this.parseExprOp(N,v,P,-1,i)},c.parseExprOp=function(i,a,v,P,N){var H=this.type.binop;if(H!=null&&(!N||this.type!==I._in)&&H>P){var W=this.type===I.logicalOR||this.type===I.logicalAND,ue=this.type===I.coalesce;ue&&(H=I.logicalAND.binop);var ce=this.value;this.next();var $e=this.start,Me=this.startLoc,St=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,N),$e,Me,H,N),bi=this.buildBinary(a,v,i,St,ce,W||ue);return(W&&this.type===I.coalesce||ue&&(this.type===I.logicalOR||this.type===I.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(bi,a,v,P,N)}return i},c.buildBinary=function(i,a,v,P,N,H){P.type==="PrivateIdentifier"&&this.raise(P.start,"Private identifier can only be left side of binary expression");var W=this.startNodeAt(i,a);return W.left=v,W.operator=N,W.right=P,this.finishNode(W,H?"LogicalExpression":"BinaryExpression")},c.parseMaybeUnary=function(i,a,v,P){var N=this.start,H=this.startLoc,W;if(this.isContextual("await")&&this.canAwait)W=this.parseAwait(P),a=!0;else if(this.type.prefix){var ue=this.startNode(),ce=this.type===I.incDec;ue.operator=this.value,ue.prefix=!0,this.next(),ue.argument=this.parseMaybeUnary(null,!0,ce,P),this.checkExpressionErrors(i,!0),ce?this.checkLValSimple(ue.argument):this.strict&&ue.operator==="delete"&&x(ue.argument)?this.raiseRecoverable(ue.start,"Deleting local variable in strict mode"):ue.operator==="delete"&&k(ue.argument)?this.raiseRecoverable(ue.start,"Private fields can not be deleted"):a=!0,W=this.finishNode(ue,ce?"UpdateExpression":"UnaryExpression")}else if(!a&&this.type===I.privateId)(P||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),W=this.parsePrivateIdent(),this.type!==I._in&&this.unexpected();else{if(W=this.parseExprSubscripts(i,P),this.checkExpressionErrors(i))return W;for(;this.type.postfix&&!this.canInsertSemicolon();){var $e=this.startNodeAt(N,H);$e.operator=this.value,$e.prefix=!1,$e.argument=W,this.checkLValSimple(W),this.next(),W=this.finishNode($e,"UpdateExpression")}}if(!v&&this.eat(I.starstar))if(a)this.unexpected(this.lastTokStart);else return this.buildBinary(N,H,W,this.parseMaybeUnary(null,!1,!1,P),"**",!1);else return W};function x(i){return i.type==="Identifier"||i.type==="ParenthesizedExpression"&&x(i.expression)}function k(i){return i.type==="MemberExpression"&&i.property.type==="PrivateIdentifier"||i.type==="ChainExpression"&&k(i.expression)||i.type==="ParenthesizedExpression"&&k(i.expression)}c.parseExprSubscripts=function(i,a){var v=this.start,P=this.startLoc,N=this.parseExprAtom(i,a);if(N.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return N;var H=this.parseSubscripts(N,v,P,!1,a);return i&&H.type==="MemberExpression"&&(i.parenthesizedAssign>=H.start&&(i.parenthesizedAssign=-1),i.parenthesizedBind>=H.start&&(i.parenthesizedBind=-1),i.trailingComma>=H.start&&(i.trailingComma=-1)),H},c.parseSubscripts=function(i,a,v,P,N){for(var H=this.options.ecmaVersion>=8&&i.type==="Identifier"&&i.name==="async"&&this.lastTokEnd===i.end&&!this.canInsertSemicolon()&&i.end-i.start===5&&this.potentialArrowAt===i.start,W=!1;;){var ue=this.parseSubscript(i,a,v,P,H,W,N);if(ue.optional&&(W=!0),ue===i||ue.type==="ArrowFunctionExpression"){if(W){var ce=this.startNodeAt(a,v);ce.expression=ue,ue=this.finishNode(ce,"ChainExpression")}return ue}i=ue}},c.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(I.arrow)},c.parseSubscriptAsyncArrow=function(i,a,v,P){return this.parseArrowExpression(this.startNodeAt(i,a),v,!0,P)},c.parseSubscript=function(i,a,v,P,N,H,W){var ue=this.options.ecmaVersion>=11,ce=ue&&this.eat(I.questionDot);P&&ce&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var $e=this.eat(I.bracketL);if($e||ce&&this.type!==I.parenL&&this.type!==I.backQuote||this.eat(I.dot)){var Me=this.startNodeAt(a,v);Me.object=i,$e?(Me.property=this.parseExpression(),this.expect(I.bracketR)):this.type===I.privateId&&i.type!=="Super"?Me.property=this.parsePrivateIdent():Me.property=this.parseIdent(this.options.allowReserved!=="never"),Me.computed=!!$e,ue&&(Me.optional=ce),i=this.finishNode(Me,"MemberExpression")}else if(!P&&this.eat(I.parenL)){var St=new u,bi=this.yieldPos,Vi=this.awaitPos,xi=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var di=this.parseExprList(I.parenR,this.options.ecmaVersion>=8,!1,St);if(N&&!ce&&this.shouldParseAsyncArrow())return this.checkPatternErrors(St,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=bi,this.awaitPos=Vi,this.awaitIdentPos=xi,this.parseSubscriptAsyncArrow(a,v,di,W);this.checkExpressionErrors(St,!0),this.yieldPos=bi||this.yieldPos,this.awaitPos=Vi||this.awaitPos,this.awaitIdentPos=xi||this.awaitIdentPos;var Pi=this.startNodeAt(a,v);Pi.callee=i,Pi.arguments=di,ue&&(Pi.optional=ce),i=this.finishNode(Pi,"CallExpression")}else if(this.type===I.backQuote){(ce||H)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var Ii=this.startNodeAt(a,v);Ii.tag=i,Ii.quasi=this.parseTemplate({isTagged:!0}),i=this.finishNode(Ii,"TaggedTemplateExpression")}return i},c.parseExprAtom=function(i,a,v){this.type===I.slash&&this.readRegexp();var P,N=this.potentialArrowAt===this.start;switch(this.type){case I._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),P=this.startNode(),this.next(),this.type===I.parenL&&!this.allowDirectSuper&&this.raise(P.start,"super() call outside constructor of a subclass"),this.type!==I.dot&&this.type!==I.bracketL&&this.type!==I.parenL&&this.unexpected(),this.finishNode(P,"Super");case I._this:return P=this.startNode(),this.next(),this.finishNode(P,"ThisExpression");case I.name:var H=this.start,W=this.startLoc,ue=this.containsEsc,ce=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!ue&&ce.name==="async"&&!this.canInsertSemicolon()&&this.eat(I._function))return this.overrideContext(g.f_expr),this.parseFunction(this.startNodeAt(H,W),0,!1,!0,a);if(N&&!this.canInsertSemicolon()){if(this.eat(I.arrow))return this.parseArrowExpression(this.startNodeAt(H,W),[ce],!1,a);if(this.options.ecmaVersion>=8&&ce.name==="async"&&this.type===I.name&&!ue&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return ce=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(I.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(H,W),[ce],!0,a)}return ce;case I.regexp:var $e=this.value;return P=this.parseLiteral($e.value),P.regex={pattern:$e.pattern,flags:$e.flags},P;case I.num:case I.string:return this.parseLiteral(this.value);case I._null:case I._true:case I._false:return P=this.startNode(),P.value=this.type===I._null?null:this.type===I._true,P.raw=this.type.keyword,this.next(),this.finishNode(P,"Literal");case I.parenL:var Me=this.start,St=this.parseParenAndDistinguishExpression(N,a);return i&&(i.parenthesizedAssign<0&&!this.isSimpleAssignTarget(St)&&(i.parenthesizedAssign=Me),i.parenthesizedBind<0&&(i.parenthesizedBind=Me)),St;case I.bracketL:return P=this.startNode(),this.next(),P.elements=this.parseExprList(I.bracketR,!0,!0,i),this.finishNode(P,"ArrayExpression");case I.braceL:return this.overrideContext(g.b_expr),this.parseObj(!1,i);case I._function:return P=this.startNode(),this.next(),this.parseFunction(P,0);case I._class:return this.parseClass(this.startNode(),!1);case I._new:return this.parseNew();case I.backQuote:return this.parseTemplate();case I._import:return this.options.ecmaVersion>=11?this.parseExprImport(v):this.unexpected();default:return this.parseExprAtomDefault()}},c.parseExprAtomDefault=function(){this.unexpected()},c.parseExprImport=function(i){var a=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===I.parenL&&!i)return this.parseDynamicImport(a);if(this.type===I.dot){var v=this.startNodeAt(a.start,a.loc&&a.loc.start);return v.name="import",a.meta=this.finishNode(v,"Identifier"),this.parseImportMeta(a)}else this.unexpected()},c.parseDynamicImport=function(i){if(this.next(),i.source=this.parseMaybeAssign(),this.options.ecmaVersion>=16)this.eat(I.parenR)?i.options=null:(this.expect(I.comma),this.afterTrailingComma(I.parenR)?i.options=null:(i.options=this.parseMaybeAssign(),this.eat(I.parenR)||(this.expect(I.comma),this.afterTrailingComma(I.parenR)||this.unexpected())));else if(!this.eat(I.parenR)){var a=this.start;this.eat(I.comma)&&this.eat(I.parenR)?this.raiseRecoverable(a,"Trailing comma is not allowed in import()"):this.unexpected(a)}return this.finishNode(i,"ImportExpression")},c.parseImportMeta=function(i){this.next();var a=this.containsEsc;return i.property=this.parseIdent(!0),i.property.name!=="meta"&&this.raiseRecoverable(i.property.start,"The only valid meta property for import is 'import.meta'"),a&&this.raiseRecoverable(i.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(i.start,"Cannot use 'import.meta' outside a module"),this.finishNode(i,"MetaProperty")},c.parseLiteral=function(i){var a=this.startNode();return a.value=i,a.raw=this.input.slice(this.start,this.end),a.raw.charCodeAt(a.raw.length-1)===110&&(a.bigint=a.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(a,"Literal")},c.parseParenExpression=function(){this.expect(I.parenL);var i=this.parseExpression();return this.expect(I.parenR),i},c.shouldParseArrow=function(i){return!this.canInsertSemicolon()},c.parseParenAndDistinguishExpression=function(i,a){var v=this.start,P=this.startLoc,N,H=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var W=this.start,ue=this.startLoc,ce=[],$e=!0,Me=!1,St=new u,bi=this.yieldPos,Vi=this.awaitPos,xi;for(this.yieldPos=0,this.awaitPos=0;this.type!==I.parenR;)if($e?$e=!1:this.expect(I.comma),H&&this.afterTrailingComma(I.parenR,!0)){Me=!0;break}else if(this.type===I.ellipsis){xi=this.start,ce.push(this.parseParenItem(this.parseRestBinding())),this.type===I.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else ce.push(this.parseMaybeAssign(!1,St,this.parseParenItem));var di=this.lastTokEnd,Pi=this.lastTokEndLoc;if(this.expect(I.parenR),i&&this.shouldParseArrow(ce)&&this.eat(I.arrow))return this.checkPatternErrors(St,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=bi,this.awaitPos=Vi,this.parseParenArrowList(v,P,ce,a);(!ce.length||Me)&&this.unexpected(this.lastTokStart),xi&&this.unexpected(xi),this.checkExpressionErrors(St,!0),this.yieldPos=bi||this.yieldPos,this.awaitPos=Vi||this.awaitPos,ce.length>1?(N=this.startNodeAt(W,ue),N.expressions=ce,this.finishNodeAt(N,"SequenceExpression",di,Pi)):N=ce[0]}else N=this.parseParenExpression();if(this.options.preserveParens){var Ii=this.startNodeAt(v,P);return Ii.expression=N,this.finishNode(Ii,"ParenthesizedExpression")}else return N},c.parseParenItem=function(i){return i},c.parseParenArrowList=function(i,a,v,P){return this.parseArrowExpression(this.startNodeAt(i,a),v,!1,P)};var A=[];c.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var i=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===I.dot){var a=this.startNodeAt(i.start,i.loc&&i.loc.start);a.name="new",i.meta=this.finishNode(a,"Identifier"),this.next();var v=this.containsEsc;return i.property=this.parseIdent(!0),i.property.name!=="target"&&this.raiseRecoverable(i.property.start,"The only valid meta property for new is 'new.target'"),v&&this.raiseRecoverable(i.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(i.start,"'new.target' can only be used in functions and class static block"),this.finishNode(i,"MetaProperty")}var P=this.start,N=this.startLoc;return i.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),P,N,!0,!1),this.eat(I.parenL)?i.arguments=this.parseExprList(I.parenR,this.options.ecmaVersion>=8,!1):i.arguments=A,this.finishNode(i,"NewExpression")},c.parseTemplateElement=function(i){var a=i.isTagged,v=this.startNode();return this.type===I.invalidTemplate?(a||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),v.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):v.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),v.tail=this.type===I.backQuote,this.finishNode(v,"TemplateElement")},c.parseTemplate=function(i){i===void 0&&(i={});var a=i.isTagged;a===void 0&&(a=!1);var v=this.startNode();this.next(),v.expressions=[];var P=this.parseTemplateElement({isTagged:a});for(v.quasis=[P];!P.tail;)this.type===I.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(I.dollarBraceL),v.expressions.push(this.parseExpression()),this.expect(I.braceR),v.quasis.push(P=this.parseTemplateElement({isTagged:a}));return this.next(),this.finishNode(v,"TemplateLiteral")},c.isAsyncProp=function(i){return!i.computed&&i.key.type==="Identifier"&&i.key.name==="async"&&(this.type===I.name||this.type===I.num||this.type===I.string||this.type===I.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===I.star)&&!He.test(this.input.slice(this.lastTokEnd,this.start))},c.parseObj=function(i,a){var v=this.startNode(),P=!0,N={};for(v.properties=[],this.next();!this.eat(I.braceR);){if(P)P=!1;else if(this.expect(I.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(I.braceR))break;var H=this.parseProperty(i,a);i||this.checkPropClash(H,N,a),v.properties.push(H)}return this.finishNode(v,i?"ObjectPattern":"ObjectExpression")},c.parseProperty=function(i,a){var v=this.startNode(),P,N,H,W;if(this.options.ecmaVersion>=9&&this.eat(I.ellipsis))return i?(v.argument=this.parseIdent(!1),this.type===I.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(v,"RestElement")):(v.argument=this.parseMaybeAssign(!1,a),this.type===I.comma&&a&&a.trailingComma<0&&(a.trailingComma=this.start),this.finishNode(v,"SpreadElement"));this.options.ecmaVersion>=6&&(v.method=!1,v.shorthand=!1,(i||a)&&(H=this.start,W=this.startLoc),i||(P=this.eat(I.star)));var ue=this.containsEsc;return this.parsePropertyName(v),!i&&!ue&&this.options.ecmaVersion>=8&&!P&&this.isAsyncProp(v)?(N=!0,P=this.options.ecmaVersion>=9&&this.eat(I.star),this.parsePropertyName(v)):N=!1,this.parsePropertyValue(v,i,P,N,H,W,a,ue),this.finishNode(v,"Property")},c.parseGetterSetter=function(i){var a=i.key.name;this.parsePropertyName(i),i.value=this.parseMethod(!1),i.kind=a;var v=i.kind==="get"?0:1;if(i.value.params.length!==v){var P=i.value.start;i.kind==="get"?this.raiseRecoverable(P,"getter should have no params"):this.raiseRecoverable(P,"setter should have exactly one param")}else i.kind==="set"&&i.value.params[0].type==="RestElement"&&this.raiseRecoverable(i.value.params[0].start,"Setter cannot use rest params")},c.parsePropertyValue=function(i,a,v,P,N,H,W,ue){(v||P)&&this.type===I.colon&&this.unexpected(),this.eat(I.colon)?(i.value=a?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,W),i.kind="init"):this.options.ecmaVersion>=6&&this.type===I.parenL?(a&&this.unexpected(),i.method=!0,i.value=this.parseMethod(v,P),i.kind="init"):!a&&!ue&&this.options.ecmaVersion>=5&&!i.computed&&i.key.type==="Identifier"&&(i.key.name==="get"||i.key.name==="set")&&this.type!==I.comma&&this.type!==I.braceR&&this.type!==I.eq?((v||P)&&this.unexpected(),this.parseGetterSetter(i)):this.options.ecmaVersion>=6&&!i.computed&&i.key.type==="Identifier"?((v||P)&&this.unexpected(),this.checkUnreserved(i.key),i.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=N),a?i.value=this.parseMaybeDefault(N,H,this.copyNode(i.key)):this.type===I.eq&&W?(W.shorthandAssign<0&&(W.shorthandAssign=this.start),i.value=this.parseMaybeDefault(N,H,this.copyNode(i.key))):i.value=this.copyNode(i.key),i.kind="init",i.shorthand=!0):this.unexpected()},c.parsePropertyName=function(i){if(this.options.ecmaVersion>=6){if(this.eat(I.bracketL))return i.computed=!0,i.key=this.parseMaybeAssign(),this.expect(I.bracketR),i.key;i.computed=!1}return i.key=this.type===I.num||this.type===I.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},c.initFunction=function(i){i.id=null,this.options.ecmaVersion>=6&&(i.generator=i.expression=!1),this.options.ecmaVersion>=8&&(i.async=!1)},c.parseMethod=function(i,a,v){var P=this.startNode(),N=this.yieldPos,H=this.awaitPos,W=this.awaitIdentPos;return this.initFunction(P),this.options.ecmaVersion>=6&&(P.generator=i),this.options.ecmaVersion>=8&&(P.async=!!a),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Xe(a,P.generator)|ri|(v?st:0)),this.expect(I.parenL),P.params=this.parseBindingList(I.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(P,!1,!0,!1),this.yieldPos=N,this.awaitPos=H,this.awaitIdentPos=W,this.finishNode(P,"FunctionExpression")},c.parseArrowExpression=function(i,a,v,P){var N=this.yieldPos,H=this.awaitPos,W=this.awaitIdentPos;return this.enterScope(Xe(v,!1)|Gt),this.initFunction(i),this.options.ecmaVersion>=8&&(i.async=!!v),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,i.params=this.toAssignableList(a,!0),this.parseFunctionBody(i,!0,!1,P),this.yieldPos=N,this.awaitPos=H,this.awaitIdentPos=W,this.finishNode(i,"ArrowFunctionExpression")},c.parseFunctionBody=function(i,a,v,P){var N=a&&this.type!==I.braceL,H=this.strict,W=!1;if(N)i.body=this.parseMaybeAssign(P),i.expression=!0,this.checkParams(i,!1);else{var ue=this.options.ecmaVersion>=7&&!this.isSimpleParamList(i.params);(!H||ue)&&(W=this.strictDirective(this.end),W&&ue&&this.raiseRecoverable(i.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var ce=this.labels;this.labels=[],W&&(this.strict=!0),this.checkParams(i,!H&&!W&&!a&&!v&&this.isSimpleParamList(i.params)),this.strict&&i.id&&this.checkLValSimple(i.id,e),i.body=this.parseBlock(!1,void 0,W&&!H),i.expression=!1,this.adaptDirectivePrologue(i.body.body),this.labels=ce}this.exitScope()},c.isSimpleParamList=function(i){for(var a=0,v=i;a<v.length;a+=1){var P=v[a];if(P.type!=="Identifier")return!1}return!0},c.checkParams=function(i,a){for(var v=Object.create(null),P=0,N=i.params;P<N.length;P+=1){var H=N[P];this.checkLValInnerPattern(H,pt,a?null:v)}},c.parseExprList=function(i,a,v,P){for(var N=[],H=!0;!this.eat(i);){if(H)H=!1;else if(this.expect(I.comma),a&&this.afterTrailingComma(i))break;var W=void 0;v&&this.type===I.comma?W=null:this.type===I.ellipsis?(W=this.parseSpread(P),P&&this.type===I.comma&&P.trailingComma<0&&(P.trailingComma=this.start)):W=this.parseMaybeAssign(!1,P),N.push(W)}return N},c.checkUnreserved=function(i){var a=i.start,v=i.end,P=i.name;if(this.inGenerator&&P==="yield"&&this.raiseRecoverable(a,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&P==="await"&&this.raiseRecoverable(a,"Cannot use 'await' as identifier inside an async function"),!(this.currentThisScope().flags&ni)&&P==="arguments"&&this.raiseRecoverable(a,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(P==="arguments"||P==="await")&&this.raise(a,"Cannot use "+P+" in class static initialization block"),this.keywords.test(P)&&this.raise(a,"Unexpected keyword '"+P+"'"),!(this.options.ecmaVersion<6&&this.input.slice(a,v).indexOf("\\")!==-1)){var N=this.strict?this.reservedWordsStrict:this.reservedWords;N.test(P)&&(!this.inAsync&&P==="await"&&this.raiseRecoverable(a,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(a,"The keyword '"+P+"' is reserved"))}},c.parseIdent=function(i){var a=this.parseIdentNode();return this.next(!!i),this.finishNode(a,"Identifier"),i||(this.checkUnreserved(a),a.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=a.start)),a},c.parseIdentNode=function(){var i=this.startNode();return this.type===I.name?i.name=this.value:this.type.keyword?(i.name=this.type.keyword,(i.name==="class"||i.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=I.name):this.unexpected(),i},c.parsePrivateIdent=function(){var i=this.startNode();return this.type===I.privateId?i.name=this.value:this.unexpected(),this.next(),this.finishNode(i,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(i.start,"Private field '#"+i.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(i)),i},c.parseYield=function(i){this.yieldPos||(this.yieldPos=this.start);var a=this.startNode();return this.next(),this.type===I.semi||this.canInsertSemicolon()||this.type!==I.star&&!this.type.startsExpr?(a.delegate=!1,a.argument=null):(a.delegate=this.eat(I.star),a.argument=this.parseMaybeAssign(i)),this.finishNode(a,"YieldExpression")},c.parseAwait=function(i){this.awaitPos||(this.awaitPos=this.start);var a=this.startNode();return this.next(),a.argument=this.parseMaybeUnary(null,!0,!1,i),this.finishNode(a,"AwaitExpression")};var w=t.prototype;w.raise=function(i,a){var v=Jt(this.input,i);a+=" ("+v.line+":"+v.column+")",this.sourceFile&&(a+=" in "+this.sourceFile);var P=new SyntaxError(a);throw P.pos=i,P.loc=v,P.raisedAt=this.pos,P},w.raiseRecoverable=w.raise,w.curPosition=function(){if(this.options.locations)return new Ft(this.curLine,this.pos-this.lineStart)};var E=t.prototype,O=function(a){this.flags=a,this.var=[],this.lexical=[],this.functions=[]};E.enterScope=function(i){this.scopeStack.push(new O(i))},E.exitScope=function(){this.scopeStack.pop()},E.treatFunctionsAsVarInScope=function(i){return i.flags&nt||!this.inModule&&i.flags&it},E.declareName=function(i,a,v){var P=!1;if(a===je){var N=this.currentScope();P=N.lexical.indexOf(i)>-1||N.functions.indexOf(i)>-1||N.var.indexOf(i)>-1,N.lexical.push(i),this.inModule&&N.flags&it&&delete this.undefinedExports[i]}else if(a===Ve){var H=this.currentScope();H.lexical.push(i)}else if(a===ci){var W=this.currentScope();this.treatFunctionsAsVar?P=W.lexical.indexOf(i)>-1:P=W.lexical.indexOf(i)>-1||W.var.indexOf(i)>-1,W.functions.push(i)}else for(var ue=this.scopeStack.length-1;ue>=0;--ue){var ce=this.scopeStack[ue];if(ce.lexical.indexOf(i)>-1&&!(ce.flags&Ci&&ce.lexical[0]===i)||!this.treatFunctionsAsVarInScope(ce)&&ce.functions.indexOf(i)>-1){P=!0;break}if(ce.var.push(i),this.inModule&&ce.flags&it&&delete this.undefinedExports[i],ce.flags&ni)break}P&&this.raiseRecoverable(v,"Identifier '"+i+"' has already been declared")},E.checkLocalExport=function(i){this.scopeStack[0].lexical.indexOf(i.name)===-1&&this.scopeStack[0].var.indexOf(i.name)===-1&&(this.undefinedExports[i.name]=i)},E.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},E.currentVarScope=function(){for(var i=this.scopeStack.length-1;;i--){var a=this.scopeStack[i];if(a.flags&(ni|Ct|Ke))return a}},E.currentThisScope=function(){for(var i=this.scopeStack.length-1;;i--){var a=this.scopeStack[i];if(a.flags&(ni|Ct|Ke)&&!(a.flags&Gt))return a}};var M=function(a,v,P){this.type="",this.start=v,this.end=0,a.options.locations&&(this.loc=new Et(a,P)),a.options.directSourceFile&&(this.sourceFile=a.options.directSourceFile),a.options.ranges&&(this.range=[v,0])},B=t.prototype;B.startNode=function(){return new M(this,this.start,this.startLoc)},B.startNodeAt=function(i,a){return new M(this,i,a)};function L(i,a,v,P){return i.type=a,i.end=v,this.options.locations&&(i.loc.end=P),this.options.ranges&&(i.range[1]=v),i}B.finishNode=function(i,a){return L.call(this,i,a,this.lastTokEnd,this.lastTokEndLoc)},B.finishNodeAt=function(i,a,v,P){return L.call(this,i,a,v,P)},B.copyNode=function(i){var a=new M(this,i.start,this.startLoc);for(var v in i)a[v]=i[v];return a};var z="Gara Garay Gukh Gurung_Khema Hrkt Katakana_Or_Hiragana Kawi Kirat_Rai Krai Nag_Mundari Nagm Ol_Onal Onao Sunu Sunuwar Todhri Todr Tulu_Tigalari Tutg Unknown Zzzz",F="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",q=F+" Extended_Pictographic",U=q,G=U+" EBase EComp EMod EPres ExtPict",J=G,re=J,he={9:F,10:q,11:U,12:G,13:J,14:re},_e="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",j={9:"",10:"",11:"",12:"",13:"",14:_e},X="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",le="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",me=le+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",ve=me+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Ae=ve+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",Pe=Ae+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",Ne=Pe+" "+z,De={9:le,10:me,11:ve,12:Ae,13:Pe,14:Ne},Ee={};function xt(i){var a=Ee[i]={binary:Oe(he[i]+" "+X),binaryOfStrings:Oe(j[i]),nonBinary:{General_Category:Oe(X),Script:Oe(De[i])}};a.nonBinary.Script_Extensions=a.nonBinary.Script,a.nonBinary.gc=a.nonBinary.General_Category,a.nonBinary.sc=a.nonBinary.Script,a.nonBinary.scx=a.nonBinary.Script_Extensions}for(var gt=0,kt=[9,10,11,12,13,14];gt<kt.length;gt+=1){var _t=kt[gt];xt(_t)}var se=t.prototype,lt=function(a,v){this.parent=a,this.base=v||this};lt.prototype.separatedFrom=function(a){for(var v=this;v;v=v.parent)for(var P=a;P;P=P.parent)if(v.base===P.base&&v!==P)return!0;return!1},lt.prototype.sibling=function(){return new lt(this.parent,this.base)};var ft=function(a){this.parser=a,this.validFlags="gim"+(a.options.ecmaVersion>=6?"uy":"")+(a.options.ecmaVersion>=9?"s":"")+(a.options.ecmaVersion>=13?"d":"")+(a.options.ecmaVersion>=15?"v":""),this.unicodeProperties=Ee[a.options.ecmaVersion>=14?14:a.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};ft.prototype.reset=function(a,v,P){var N=P.indexOf("v")!==-1,H=P.indexOf("u")!==-1;this.start=a|0,this.source=v+"",this.flags=P,N&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=H&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=H&&this.parser.options.ecmaVersion>=9)},ft.prototype.raise=function(a){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+a)},ft.prototype.at=function(a,v){v===void 0&&(v=!1);var P=this.source,N=P.length;if(a>=N)return-1;var H=P.charCodeAt(a);if(!(v||this.switchU)||H<=55295||H>=57344||a+1>=N)return H;var W=P.charCodeAt(a+1);return W>=56320&&W<=57343?(H<<10)+W-56613888:H},ft.prototype.nextIndex=function(a,v){v===void 0&&(v=!1);var P=this.source,N=P.length;if(a>=N)return N;var H=P.charCodeAt(a),W;return!(v||this.switchU)||H<=55295||H>=57344||a+1>=N||(W=P.charCodeAt(a+1))<56320||W>57343?a+1:a+2},ft.prototype.current=function(a){return a===void 0&&(a=!1),this.at(this.pos,a)},ft.prototype.lookahead=function(a){return a===void 0&&(a=!1),this.at(this.nextIndex(this.pos,a),a)},ft.prototype.advance=function(a){a===void 0&&(a=!1),this.pos=this.nextIndex(this.pos,a)},ft.prototype.eat=function(a,v){return v===void 0&&(v=!1),this.current(v)===a?(this.advance(v),!0):!1},ft.prototype.eatChars=function(a,v){v===void 0&&(v=!1);for(var P=this.pos,N=0,H=a;N<H.length;N+=1){var W=H[N],ue=this.at(P,v);if(ue===-1||ue!==W)return!1;P=this.nextIndex(P,v)}return this.pos=P,!0},se.validateRegExpFlags=function(i){for(var a=i.validFlags,v=i.flags,P=!1,N=!1,H=0;H<v.length;H++){var W=v.charAt(H);a.indexOf(W)===-1&&this.raise(i.start,"Invalid regular expression flag"),v.indexOf(W,H+1)>-1&&this.raise(i.start,"Duplicate regular expression flag"),W==="u"&&(P=!0),W==="v"&&(N=!0)}this.options.ecmaVersion>=15&&P&&N&&this.raise(i.start,"Invalid regular expression flag")};function yt(i){for(var a in i)return!0;return!1}se.validateRegExpPattern=function(i){this.regexp_pattern(i),!i.switchN&&this.options.ecmaVersion>=9&&yt(i.groupNames)&&(i.switchN=!0,this.regexp_pattern(i))},se.regexp_pattern=function(i){i.pos=0,i.lastIntValue=0,i.lastStringValue="",i.lastAssertionIsQuantifiable=!1,i.numCapturingParens=0,i.maxBackReference=0,i.groupNames=Object.create(null),i.backReferenceNames.length=0,i.branchID=null,this.regexp_disjunction(i),i.pos!==i.source.length&&(i.eat(41)&&i.raise("Unmatched ')'"),(i.eat(93)||i.eat(125))&&i.raise("Lone quantifier brackets")),i.maxBackReference>i.numCapturingParens&&i.raise("Invalid escape");for(var a=0,v=i.backReferenceNames;a<v.length;a+=1){var P=v[a];i.groupNames[P]||i.raise("Invalid named capture referenced")}},se.regexp_disjunction=function(i){var a=this.options.ecmaVersion>=16;for(a&&(i.branchID=new lt(i.branchID,null)),this.regexp_alternative(i);i.eat(124);)a&&(i.branchID=i.branchID.sibling()),this.regexp_alternative(i);a&&(i.branchID=i.branchID.parent),this.regexp_eatQuantifier(i,!0)&&i.raise("Nothing to repeat"),i.eat(123)&&i.raise("Lone quantifier brackets")},se.regexp_alternative=function(i){for(;i.pos<i.source.length&&this.regexp_eatTerm(i););},se.regexp_eatTerm=function(i){return this.regexp_eatAssertion(i)?(i.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(i)&&i.switchU&&i.raise("Invalid quantifier"),!0):(i.switchU?this.regexp_eatAtom(i):this.regexp_eatExtendedAtom(i))?(this.regexp_eatQuantifier(i),!0):!1},se.regexp_eatAssertion=function(i){var a=i.pos;if(i.lastAssertionIsQuantifiable=!1,i.eat(94)||i.eat(36))return!0;if(i.eat(92)){if(i.eat(66)||i.eat(98))return!0;i.pos=a}if(i.eat(40)&&i.eat(63)){var v=!1;if(this.options.ecmaVersion>=9&&(v=i.eat(60)),i.eat(61)||i.eat(33))return this.regexp_disjunction(i),i.eat(41)||i.raise("Unterminated group"),i.lastAssertionIsQuantifiable=!v,!0}return i.pos=a,!1},se.regexp_eatQuantifier=function(i,a){return a===void 0&&(a=!1),this.regexp_eatQuantifierPrefix(i,a)?(i.eat(63),!0):!1},se.regexp_eatQuantifierPrefix=function(i,a){return i.eat(42)||i.eat(43)||i.eat(63)||this.regexp_eatBracedQuantifier(i,a)},se.regexp_eatBracedQuantifier=function(i,a){var v=i.pos;if(i.eat(123)){var P=0,N=-1;if(this.regexp_eatDecimalDigits(i)&&(P=i.lastIntValue,i.eat(44)&&this.regexp_eatDecimalDigits(i)&&(N=i.lastIntValue),i.eat(125)))return N!==-1&&N<P&&!a&&i.raise("numbers out of order in {} quantifier"),!0;i.switchU&&!a&&i.raise("Incomplete quantifier"),i.pos=v}return!1},se.regexp_eatAtom=function(i){return this.regexp_eatPatternCharacters(i)||i.eat(46)||this.regexp_eatReverseSolidusAtomEscape(i)||this.regexp_eatCharacterClass(i)||this.regexp_eatUncapturingGroup(i)||this.regexp_eatCapturingGroup(i)},se.regexp_eatReverseSolidusAtomEscape=function(i){var a=i.pos;if(i.eat(92)){if(this.regexp_eatAtomEscape(i))return!0;i.pos=a}return!1},se.regexp_eatUncapturingGroup=function(i){var a=i.pos;if(i.eat(40)){if(i.eat(63)){if(this.options.ecmaVersion>=16){var v=this.regexp_eatModifiers(i),P=i.eat(45);if(v||P){for(var N=0;N<v.length;N++){var H=v.charAt(N);v.indexOf(H,N+1)>-1&&i.raise("Duplicate regular expression modifiers")}if(P){var W=this.regexp_eatModifiers(i);!v&&!W&&i.current()===58&&i.raise("Invalid regular expression modifiers");for(var ue=0;ue<W.length;ue++){var ce=W.charAt(ue);(W.indexOf(ce,ue+1)>-1||v.indexOf(ce)>-1)&&i.raise("Duplicate regular expression modifiers")}}}}if(i.eat(58)){if(this.regexp_disjunction(i),i.eat(41))return!0;i.raise("Unterminated group")}}i.pos=a}return!1},se.regexp_eatCapturingGroup=function(i){if(i.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(i):i.current()===63&&i.raise("Invalid group"),this.regexp_disjunction(i),i.eat(41))return i.numCapturingParens+=1,!0;i.raise("Unterminated group")}return!1},se.regexp_eatModifiers=function(i){for(var a="",v=0;(v=i.current())!==-1&&Wt(v);)a+=ht(v),i.advance();return a};function Wt(i){return i===105||i===109||i===115}se.regexp_eatExtendedAtom=function(i){return i.eat(46)||this.regexp_eatReverseSolidusAtomEscape(i)||this.regexp_eatCharacterClass(i)||this.regexp_eatUncapturingGroup(i)||this.regexp_eatCapturingGroup(i)||this.regexp_eatInvalidBracedQuantifier(i)||this.regexp_eatExtendedPatternCharacter(i)},se.regexp_eatInvalidBracedQuantifier=function(i){return this.regexp_eatBracedQuantifier(i,!0)&&i.raise("Nothing to repeat"),!1},se.regexp_eatSyntaxCharacter=function(i){var a=i.current();return si(a)?(i.lastIntValue=a,i.advance(),!0):!1};function si(i){return i===36||i>=40&&i<=43||i===46||i===63||i>=91&&i<=94||i>=123&&i<=125}se.regexp_eatPatternCharacters=function(i){for(var a=i.pos,v=0;(v=i.current())!==-1&&!si(v);)i.advance();return i.pos!==a},se.regexp_eatExtendedPatternCharacter=function(i){var a=i.current();return a!==-1&&a!==36&&!(a>=40&&a<=43)&&a!==46&&a!==63&&a!==91&&a!==94&&a!==124?(i.advance(),!0):!1},se.regexp_groupSpecifier=function(i){if(i.eat(63)){this.regexp_eatGroupName(i)||i.raise("Invalid group");var a=this.options.ecmaVersion>=16,v=i.groupNames[i.lastStringValue];if(v)if(a)for(var P=0,N=v;P<N.length;P+=1){var H=N[P];H.separatedFrom(i.branchID)||i.raise("Duplicate capture group name")}else i.raise("Duplicate capture group name");a?(v||(i.groupNames[i.lastStringValue]=[])).push(i.branchID):i.groupNames[i.lastStringValue]=!0}},se.regexp_eatGroupName=function(i){if(i.lastStringValue="",i.eat(60)){if(this.regexp_eatRegExpIdentifierName(i)&&i.eat(62))return!0;i.raise("Invalid capture group name")}return!1},se.regexp_eatRegExpIdentifierName=function(i){if(i.lastStringValue="",this.regexp_eatRegExpIdentifierStart(i)){for(i.lastStringValue+=ht(i.lastIntValue);this.regexp_eatRegExpIdentifierPart(i);)i.lastStringValue+=ht(i.lastIntValue);return!0}return!1},se.regexp_eatRegExpIdentifierStart=function(i){var a=i.pos,v=this.options.ecmaVersion>=11,P=i.current(v);return i.advance(v),P===92&&this.regexp_eatRegExpUnicodeEscapeSequence(i,v)&&(P=i.lastIntValue),jt(P)?(i.lastIntValue=P,!0):(i.pos=a,!1)};function jt(i){return xe(i,!0)||i===36||i===95}se.regexp_eatRegExpIdentifierPart=function(i){var a=i.pos,v=this.options.ecmaVersion>=11,P=i.current(v);return i.advance(v),P===92&&this.regexp_eatRegExpUnicodeEscapeSequence(i,v)&&(P=i.lastIntValue),Kt(P)?(i.lastIntValue=P,!0):(i.pos=a,!1)};function Kt(i){return ae(i,!0)||i===36||i===95||i===8204||i===8205}se.regexp_eatAtomEscape=function(i){return this.regexp_eatBackReference(i)||this.regexp_eatCharacterClassEscape(i)||this.regexp_eatCharacterEscape(i)||i.switchN&&this.regexp_eatKGroupName(i)?!0:(i.switchU&&(i.current()===99&&i.raise("Invalid unicode escape"),i.raise("Invalid escape")),!1)},se.regexp_eatBackReference=function(i){var a=i.pos;if(this.regexp_eatDecimalEscape(i)){var v=i.lastIntValue;if(i.switchU)return v>i.maxBackReference&&(i.maxBackReference=v),!0;if(v<=i.numCapturingParens)return!0;i.pos=a}return!1},se.regexp_eatKGroupName=function(i){if(i.eat(107)){if(this.regexp_eatGroupName(i))return i.backReferenceNames.push(i.lastStringValue),!0;i.raise("Invalid named reference")}return!1},se.regexp_eatCharacterEscape=function(i){return this.regexp_eatControlEscape(i)||this.regexp_eatCControlLetter(i)||this.regexp_eatZero(i)||this.regexp_eatHexEscapeSequence(i)||this.regexp_eatRegExpUnicodeEscapeSequence(i,!1)||!i.switchU&&this.regexp_eatLegacyOctalEscapeSequence(i)||this.regexp_eatIdentityEscape(i)},se.regexp_eatCControlLetter=function(i){var a=i.pos;if(i.eat(99)){if(this.regexp_eatControlLetter(i))return!0;i.pos=a}return!1},se.regexp_eatZero=function(i){return i.current()===48&&!ki(i.lookahead())?(i.lastIntValue=0,i.advance(),!0):!1},se.regexp_eatControlEscape=function(i){var a=i.current();return a===116?(i.lastIntValue=9,i.advance(),!0):a===110?(i.lastIntValue=10,i.advance(),!0):a===118?(i.lastIntValue=11,i.advance(),!0):a===102?(i.lastIntValue=12,i.advance(),!0):a===114?(i.lastIntValue=13,i.advance(),!0):!1},se.regexp_eatControlLetter=function(i){var a=i.current();return Nt(a)?(i.lastIntValue=a%32,i.advance(),!0):!1};function Nt(i){return i>=65&&i<=90||i>=97&&i<=122}se.regexp_eatRegExpUnicodeEscapeSequence=function(i,a){a===void 0&&(a=!1);var v=i.pos,P=a||i.switchU;if(i.eat(117)){if(this.regexp_eatFixedHexDigits(i,4)){var N=i.lastIntValue;if(P&&N>=55296&&N<=56319){var H=i.pos;if(i.eat(92)&&i.eat(117)&&this.regexp_eatFixedHexDigits(i,4)){var W=i.lastIntValue;if(W>=56320&&W<=57343)return i.lastIntValue=(N-55296)*1024+(W-56320)+65536,!0}i.pos=H,i.lastIntValue=N}return!0}if(P&&i.eat(123)&&this.regexp_eatHexDigits(i)&&i.eat(125)&&$t(i.lastIntValue))return!0;P&&i.raise("Invalid unicode escape"),i.pos=v}return!1};function $t(i){return i>=0&&i<=1114111}se.regexp_eatIdentityEscape=function(i){if(i.switchU)return this.regexp_eatSyntaxCharacter(i)?!0:i.eat(47)?(i.lastIntValue=47,!0):!1;var a=i.current();return a!==99&&(!i.switchN||a!==107)?(i.lastIntValue=a,i.advance(),!0):!1},se.regexp_eatDecimalEscape=function(i){i.lastIntValue=0;var a=i.current();if(a>=49&&a<=57){do i.lastIntValue=10*i.lastIntValue+(a-48),i.advance();while((a=i.current())>=48&&a<=57);return!0}return!1};var ai=0,wt=1,Mt=2;se.regexp_eatCharacterClassEscape=function(i){var a=i.current();if(lr(a))return i.lastIntValue=-1,i.advance(),wt;var v=!1;if(i.switchU&&this.options.ecmaVersion>=9&&((v=a===80)||a===112)){i.lastIntValue=-1,i.advance();var P;if(i.eat(123)&&(P=this.regexp_eatUnicodePropertyValueExpression(i))&&i.eat(125))return v&&P===Mt&&i.raise("Invalid property name"),P;i.raise("Invalid property name")}return ai};function lr(i){return i===100||i===68||i===115||i===83||i===119||i===87}se.regexp_eatUnicodePropertyValueExpression=function(i){var a=i.pos;if(this.regexp_eatUnicodePropertyName(i)&&i.eat(61)){var v=i.lastStringValue;if(this.regexp_eatUnicodePropertyValue(i)){var P=i.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(i,v,P),wt}}if(i.pos=a,this.regexp_eatLoneUnicodePropertyNameOrValue(i)){var N=i.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(i,N)}return ai},se.regexp_validateUnicodePropertyNameAndValue=function(i,a,v){ie(i.unicodeProperties.nonBinary,a)||i.raise("Invalid property name"),i.unicodeProperties.nonBinary[a].test(v)||i.raise("Invalid property value")},se.regexp_validateUnicodePropertyNameOrValue=function(i,a){if(i.unicodeProperties.binary.test(a))return wt;if(i.switchV&&i.unicodeProperties.binaryOfStrings.test(a))return Mt;i.raise("Invalid property name")},se.regexp_eatUnicodePropertyName=function(i){var a=0;for(i.lastStringValue="";Ki(a=i.current());)i.lastStringValue+=ht(a),i.advance();return i.lastStringValue!==""};function Ki(i){return Nt(i)||i===95}se.regexp_eatUnicodePropertyValue=function(i){var a=0;for(i.lastStringValue="";fr(a=i.current());)i.lastStringValue+=ht(a),i.advance();return i.lastStringValue!==""};function fr(i){return Ki(i)||ki(i)}se.regexp_eatLoneUnicodePropertyNameOrValue=function(i){return this.regexp_eatUnicodePropertyValue(i)},se.regexp_eatCharacterClass=function(i){if(i.eat(91)){var a=i.eat(94),v=this.regexp_classContents(i);return i.eat(93)||i.raise("Unterminated character class"),a&&v===Mt&&i.raise("Negated character class may contain strings"),!0}return!1},se.regexp_classContents=function(i){return i.current()===93?wt:i.switchV?this.regexp_classSetExpression(i):(this.regexp_nonEmptyClassRanges(i),wt)},se.regexp_nonEmptyClassRanges=function(i){for(;this.regexp_eatClassAtom(i);){var a=i.lastIntValue;if(i.eat(45)&&this.regexp_eatClassAtom(i)){var v=i.lastIntValue;i.switchU&&(a===-1||v===-1)&&i.raise("Invalid character class"),a!==-1&&v!==-1&&a>v&&i.raise("Range out of order in character class")}}},se.regexp_eatClassAtom=function(i){var a=i.pos;if(i.eat(92)){if(this.regexp_eatClassEscape(i))return!0;if(i.switchU){var v=i.current();(v===99||vi(v))&&i.raise("Invalid class escape"),i.raise("Invalid escape")}i.pos=a}var P=i.current();return P!==93?(i.lastIntValue=P,i.advance(),!0):!1},se.regexp_eatClassEscape=function(i){var a=i.pos;if(i.eat(98))return i.lastIntValue=8,!0;if(i.switchU&&i.eat(45))return i.lastIntValue=45,!0;if(!i.switchU&&i.eat(99)){if(this.regexp_eatClassControlLetter(i))return!0;i.pos=a}return this.regexp_eatCharacterClassEscape(i)||this.regexp_eatCharacterEscape(i)},se.regexp_classSetExpression=function(i){var a=wt,v;if(!this.regexp_eatClassSetRange(i))if(v=this.regexp_eatClassSetOperand(i)){v===Mt&&(a=Mt);for(var P=i.pos;i.eatChars([38,38]);){if(i.current()!==38&&(v=this.regexp_eatClassSetOperand(i))){v!==Mt&&(a=wt);continue}i.raise("Invalid character in character class")}if(P!==i.pos)return a;for(;i.eatChars([45,45]);)this.regexp_eatClassSetOperand(i)||i.raise("Invalid character in character class");if(P!==i.pos)return a}else i.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(i)){if(v=this.regexp_eatClassSetOperand(i),!v)return a;v===Mt&&(a=Mt)}},se.regexp_eatClassSetRange=function(i){var a=i.pos;if(this.regexp_eatClassSetCharacter(i)){var v=i.lastIntValue;if(i.eat(45)&&this.regexp_eatClassSetCharacter(i)){var P=i.lastIntValue;return v!==-1&&P!==-1&&v>P&&i.raise("Range out of order in character class"),!0}i.pos=a}return!1},se.regexp_eatClassSetOperand=function(i){return this.regexp_eatClassSetCharacter(i)?wt:this.regexp_eatClassStringDisjunction(i)||this.regexp_eatNestedClass(i)},se.regexp_eatNestedClass=function(i){var a=i.pos;if(i.eat(91)){var v=i.eat(94),P=this.regexp_classContents(i);if(i.eat(93))return v&&P===Mt&&i.raise("Negated character class may contain strings"),P;i.pos=a}if(i.eat(92)){var N=this.regexp_eatCharacterClassEscape(i);if(N)return N;i.pos=a}return null},se.regexp_eatClassStringDisjunction=function(i){var a=i.pos;if(i.eatChars([92,113])){if(i.eat(123)){var v=this.regexp_classStringDisjunctionContents(i);if(i.eat(125))return v}else i.raise("Invalid escape");i.pos=a}return null},se.regexp_classStringDisjunctionContents=function(i){for(var a=this.regexp_classString(i);i.eat(124);)this.regexp_classString(i)===Mt&&(a=Mt);return a},se.regexp_classString=function(i){for(var a=0;this.regexp_eatClassSetCharacter(i);)a++;return a===1?wt:Mt},se.regexp_eatClassSetCharacter=function(i){var a=i.pos;if(i.eat(92))return this.regexp_eatCharacterEscape(i)||this.regexp_eatClassSetReservedPunctuator(i)?!0:i.eat(98)?(i.lastIntValue=8,!0):(i.pos=a,!1);var v=i.current();return v<0||v===i.lookahead()&&cr(v)||dr(v)?!1:(i.advance(),i.lastIntValue=v,!0)};function cr(i){return i===33||i>=35&&i<=38||i>=42&&i<=44||i===46||i>=58&&i<=64||i===94||i===96||i===126}function dr(i){return i===40||i===41||i===45||i===47||i>=91&&i<=93||i>=123&&i<=125}se.regexp_eatClassSetReservedPunctuator=function(i){var a=i.current();return Gi(a)?(i.lastIntValue=a,i.advance(),!0):!1};function Gi(i){return i===33||i===35||i===37||i===38||i===44||i===45||i>=58&&i<=62||i===64||i===96||i===126}se.regexp_eatClassControlLetter=function(i){var a=i.current();return ki(a)||a===95?(i.lastIntValue=a%32,i.advance(),!0):!1},se.regexp_eatHexEscapeSequence=function(i){var a=i.pos;if(i.eat(120)){if(this.regexp_eatFixedHexDigits(i,2))return!0;i.switchU&&i.raise("Invalid escape"),i.pos=a}return!1},se.regexp_eatDecimalDigits=function(i){var a=i.pos,v=0;for(i.lastIntValue=0;ki(v=i.current());)i.lastIntValue=10*i.lastIntValue+(v-48),i.advance();return i.pos!==a};function ki(i){return i>=48&&i<=57}se.regexp_eatHexDigits=function(i){var a=i.pos,v=0;for(i.lastIntValue=0;Ri(v=i.current());)i.lastIntValue=16*i.lastIntValue+zi(v),i.advance();return i.pos!==a};function Ri(i){return i>=48&&i<=57||i>=65&&i<=70||i>=97&&i<=102}function zi(i){return i>=65&&i<=70?10+(i-65):i>=97&&i<=102?10+(i-97):i-48}se.regexp_eatLegacyOctalEscapeSequence=function(i){if(this.regexp_eatOctalDigit(i)){var a=i.lastIntValue;if(this.regexp_eatOctalDigit(i)){var v=i.lastIntValue;a<=3&&this.regexp_eatOctalDigit(i)?i.lastIntValue=a*64+v*8+i.lastIntValue:i.lastIntValue=a*8+v}else i.lastIntValue=a;return!0}return!1},se.regexp_eatOctalDigit=function(i){var a=i.current();return vi(a)?(i.lastIntValue=a-48,i.advance(),!0):(i.lastIntValue=0,!1)};function vi(i){return i>=48&&i<=55}se.regexp_eatFixedHexDigits=function(i,a){var v=i.pos;i.lastIntValue=0;for(var P=0;P<a;++P){var N=i.current();if(!Ri(N))return i.pos=v,!1;i.lastIntValue=16*i.lastIntValue+zi(N),i.advance()}return!0};var ei=function(a){this.type=a.type,this.value=a.value,this.start=a.start,this.end=a.end,a.options.locations&&(this.loc=new Et(a,a.startLoc,a.endLoc)),a.options.ranges&&(this.range=[a.start,a.end])},ze=t.prototype;ze.next=function(i){!i&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new ei(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},ze.getToken=function(){return this.next(),new ei(this)},typeof Symbol<"u"&&(ze[Symbol.iterator]=function(){var i=this;return{next:function(){var a=i.getToken();return{done:a.type===I.eof,value:a}}}}),ze.nextToken=function(){var i=this.curContext();if((!i||!i.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(I.eof);if(i.override)return i.override(this);this.readToken(this.fullCharCodeAtPos())},ze.readToken=function(i){return xe(i,this.options.ecmaVersion>=6)||i===92?this.readWord():this.getTokenFromCode(i)},ze.fullCharCodeAtPos=function(){var i=this.input.charCodeAt(this.pos);if(i<=55295||i>=56320)return i;var a=this.input.charCodeAt(this.pos+1);return a<=56319||a>=57344?i:(i<<10)+a-56613888},ze.skipBlockComment=function(){var i=this.options.onComment&&this.curPosition(),a=this.pos,v=this.input.indexOf("*/",this.pos+=2);if(v===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=v+2,this.options.locations)for(var P=void 0,N=a;(P=dt(this.input,N,this.pos))>-1;)++this.curLine,N=this.lineStart=P;this.options.onComment&&this.options.onComment(!0,this.input.slice(a+2,v),a,this.pos,i,this.curPosition())},ze.skipLineComment=function(i){for(var a=this.pos,v=this.options.onComment&&this.curPosition(),P=this.input.charCodeAt(this.pos+=i);this.pos<this.input.length&&!Fe(P);)P=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(a+i,this.pos),a,this.pos,v,this.curPosition())},ze.skipSpace=function(){e:for(;this.pos<this.input.length;){var i=this.input.charCodeAt(this.pos);switch(i){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(i>8&&i<14||i>=5760&&mt.test(String.fromCharCode(i)))++this.pos;else break e}}},ze.finishToken=function(i,a){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var v=this.type;this.type=i,this.value=a,this.updateContext(v)},ze.readToken_dot=function(){var i=this.input.charCodeAt(this.pos+1);if(i>=48&&i<=57)return this.readNumber(!0);var a=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&i===46&&a===46?(this.pos+=3,this.finishToken(I.ellipsis)):(++this.pos,this.finishToken(I.dot))},ze.readToken_slash=function(){var i=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):i===61?this.finishOp(I.assign,2):this.finishOp(I.slash,1)},ze.readToken_mult_modulo_exp=function(i){var a=this.input.charCodeAt(this.pos+1),v=1,P=i===42?I.star:I.modulo;return this.options.ecmaVersion>=7&&i===42&&a===42&&(++v,P=I.starstar,a=this.input.charCodeAt(this.pos+2)),a===61?this.finishOp(I.assign,v+1):this.finishOp(P,v)},ze.readToken_pipe_amp=function(i){var a=this.input.charCodeAt(this.pos+1);if(a===i){if(this.options.ecmaVersion>=12){var v=this.input.charCodeAt(this.pos+2);if(v===61)return this.finishOp(I.assign,3)}return this.finishOp(i===124?I.logicalOR:I.logicalAND,2)}return a===61?this.finishOp(I.assign,2):this.finishOp(i===124?I.bitwiseOR:I.bitwiseAND,1)},ze.readToken_caret=function(){var i=this.input.charCodeAt(this.pos+1);return i===61?this.finishOp(I.assign,2):this.finishOp(I.bitwiseXOR,1)},ze.readToken_plus_min=function(i){var a=this.input.charCodeAt(this.pos+1);return a===i?a===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||He.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(I.incDec,2):a===61?this.finishOp(I.assign,2):this.finishOp(I.plusMin,1)},ze.readToken_lt_gt=function(i){var a=this.input.charCodeAt(this.pos+1),v=1;return a===i?(v=i===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+v)===61?this.finishOp(I.assign,v+1):this.finishOp(I.bitShift,v)):a===33&&i===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(a===61&&(v=2),this.finishOp(I.relational,v))},ze.readToken_eq_excl=function(i){var a=this.input.charCodeAt(this.pos+1);return a===61?this.finishOp(I.equality,this.input.charCodeAt(this.pos+2)===61?3:2):i===61&&a===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(I.arrow)):this.finishOp(i===61?I.eq:I.prefix,1)},ze.readToken_question=function(){var i=this.options.ecmaVersion;if(i>=11){var a=this.input.charCodeAt(this.pos+1);if(a===46){var v=this.input.charCodeAt(this.pos+2);if(v<48||v>57)return this.finishOp(I.questionDot,2)}if(a===63){if(i>=12){var P=this.input.charCodeAt(this.pos+2);if(P===61)return this.finishOp(I.assign,3)}return this.finishOp(I.coalesce,2)}}return this.finishOp(I.question,1)},ze.readToken_numberSign=function(){var i=this.options.ecmaVersion,a=35;if(i>=13&&(++this.pos,a=this.fullCharCodeAtPos(),xe(a,!0)||a===92))return this.finishToken(I.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+ht(a)+"'")},ze.getTokenFromCode=function(i){switch(i){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(I.parenL);case 41:return++this.pos,this.finishToken(I.parenR);case 59:return++this.pos,this.finishToken(I.semi);case 44:return++this.pos,this.finishToken(I.comma);case 91:return++this.pos,this.finishToken(I.bracketL);case 93:return++this.pos,this.finishToken(I.bracketR);case 123:return++this.pos,this.finishToken(I.braceL);case 125:return++this.pos,this.finishToken(I.braceR);case 58:return++this.pos,this.finishToken(I.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(I.backQuote);case 48:var a=this.input.charCodeAt(this.pos+1);if(a===120||a===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(a===111||a===79)return this.readRadixNumber(8);if(a===98||a===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(i);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(i);case 124:case 38:return this.readToken_pipe_amp(i);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(i);case 60:case 62:return this.readToken_lt_gt(i);case 61:case 33:return this.readToken_eq_excl(i);case 63:return this.readToken_question();case 126:return this.finishOp(I.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+ht(i)+"'")},ze.finishOp=function(i,a){var v=this.input.slice(this.pos,this.pos+a);return this.pos+=a,this.finishToken(i,v)},ze.readRegexp=function(){for(var i,a,v=this.pos;;){this.pos>=this.input.length&&this.raise(v,"Unterminated regular expression");var P=this.input.charAt(this.pos);if(He.test(P)&&this.raise(v,"Unterminated regular expression"),i)i=!1;else{if(P==="[")a=!0;else if(P==="]"&&a)a=!1;else if(P==="/"&&!a)break;i=P==="\\"}++this.pos}var N=this.input.slice(v,this.pos);++this.pos;var H=this.pos,W=this.readWord1();this.containsEsc&&this.unexpected(H);var ue=this.regexpState||(this.regexpState=new ft(this));ue.reset(v,N,W),this.validateRegExpFlags(ue),this.validateRegExpPattern(ue);var ce=null;try{ce=new RegExp(N,W)}catch{}return this.finishToken(I.regexp,{pattern:N,flags:W,value:ce})},ze.readInt=function(i,a,v){for(var P=this.options.ecmaVersion>=12&&a===void 0,N=v&&this.input.charCodeAt(this.pos)===48,H=this.pos,W=0,ue=0,ce=0,$e=a??1/0;ce<$e;++ce,++this.pos){var Me=this.input.charCodeAt(this.pos),St=void 0;if(P&&Me===95){N&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),ue===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),ce===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),ue=Me;continue}if(Me>=97?St=Me-97+10:Me>=65?St=Me-65+10:Me>=48&&Me<=57?St=Me-48:St=1/0,St>=i)break;ue=Me,W=W*i+St}return P&&ue===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===H||a!=null&&this.pos-H!==a?null:W};function Xt(i,a){return a?parseInt(i,8):parseFloat(i.replace(/_/g,""))}function ti(i){return typeof BigInt!="function"?null:BigInt(i.replace(/_/g,""))}ze.readRadixNumber=function(i){var a=this.pos;this.pos+=2;var v=this.readInt(i);return v==null&&this.raise(this.start+2,"Expected number in radix "+i),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(v=ti(this.input.slice(a,this.pos)),++this.pos):xe(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(I.num,v)},ze.readNumber=function(i){var a=this.pos;!i&&this.readInt(10,void 0,!0)===null&&this.raise(a,"Invalid number");var v=this.pos-a>=2&&this.input.charCodeAt(a)===48;v&&this.strict&&this.raise(a,"Invalid number");var P=this.input.charCodeAt(this.pos);if(!v&&!i&&this.options.ecmaVersion>=11&&P===110){var N=ti(this.input.slice(a,this.pos));return++this.pos,xe(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(I.num,N)}v&&/[89]/.test(this.input.slice(a,this.pos))&&(v=!1),P===46&&!v&&(++this.pos,this.readInt(10),P=this.input.charCodeAt(this.pos)),(P===69||P===101)&&!v&&(P=this.input.charCodeAt(++this.pos),(P===43||P===45)&&++this.pos,this.readInt(10)===null&&this.raise(a,"Invalid number")),xe(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var H=Xt(this.input.slice(a,this.pos),v);return this.finishToken(I.num,H)},ze.readCodePoint=function(){var i=this.input.charCodeAt(this.pos),a;if(i===123){this.options.ecmaVersion<6&&this.unexpected();var v=++this.pos;a=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,a>1114111&&this.invalidStringToken(v,"Code point out of bounds")}else a=this.readHexChar(4);return a},ze.readString=function(i){for(var a="",v=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var P=this.input.charCodeAt(this.pos);if(P===i)break;P===92?(a+=this.input.slice(v,this.pos),a+=this.readEscapedChar(!1),v=this.pos):P===8232||P===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Fe(P)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return a+=this.input.slice(v,this.pos++),this.finishToken(I.string,a)};var Qt={};ze.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(i){if(i===Qt)this.readInvalidTemplateToken();else throw i}this.inTemplateElement=!1},ze.invalidStringToken=function(i,a){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Qt;this.raise(i,a)},ze.readTmplToken=function(){for(var i="",a=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var v=this.input.charCodeAt(this.pos);if(v===96||v===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===I.template||this.type===I.invalidTemplate)?v===36?(this.pos+=2,this.finishToken(I.dollarBraceL)):(++this.pos,this.finishToken(I.backQuote)):(i+=this.input.slice(a,this.pos),this.finishToken(I.template,i));if(v===92)i+=this.input.slice(a,this.pos),i+=this.readEscapedChar(!0),a=this.pos;else if(Fe(v)){switch(i+=this.input.slice(a,this.pos),++this.pos,v){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:i+=`
`;break;default:i+=String.fromCharCode(v);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),a=this.pos}else++this.pos}},ze.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(I.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")},ze.readEscapedChar=function(i){var a=this.input.charCodeAt(++this.pos);switch(++this.pos,a){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return ht(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),i){var v=this.pos-1;this.invalidStringToken(v,"Invalid escape sequence in template string")}default:if(a>=48&&a<=55){var P=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],N=parseInt(P,8);return N>255&&(P=P.slice(0,-1),N=parseInt(P,8)),this.pos+=P.length-1,a=this.input.charCodeAt(this.pos),(P!=="0"||a===56||a===57)&&(this.strict||i)&&this.invalidStringToken(this.pos-1-P.length,i?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(N)}return Fe(a)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(a)}},ze.readHexChar=function(i){var a=this.pos,v=this.readInt(16,i);return v===null&&this.invalidStringToken(a,"Bad character escape sequence"),v},ze.readWord1=function(){this.containsEsc=!1;for(var i="",a=!0,v=this.pos,P=this.options.ecmaVersion>=6;this.pos<this.input.length;){var N=this.fullCharCodeAtPos();if(ae(N,P))this.pos+=N<=65535?1:2;else if(N===92){this.containsEsc=!0,i+=this.input.slice(v,this.pos);var H=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var W=this.readCodePoint();(a?xe:ae)(W,P)||this.invalidStringToken(H,"Invalid Unicode escape"),i+=ht(W),v=this.pos}else break;a=!1}return i+this.input.slice(v,this.pos)},ze.readWord=function(){var i=this.readWord1(),a=I.name;return this.keywords.test(i)&&(a=Qe[i]),this.finishToken(a,i)};var mi="8.14.1";t.acorn={Parser:t,version:mi,defaultOptions:Ze,Position:Ft,SourceLocation:Et,getLineInfo:Jt,Node:M,TokenType:ye,tokTypes:I,keywordTypes:Qe,TokContext:S,tokContexts:g,isIdentifierChar:ae,isIdentifierStart:xe,Token:ei,isNewLine:Fe,lineBreak:He,lineBreakG:et,nonASCIIwhitespace:mt};function Xi(i,a){return t.parse(i,a)}function Qi(i,a,v){return t.parseExpressionAt(i,a,v)}function Yi(i,a){return t.tokenizer(i,a)}$.Node=M,$.Parser=t,$.Position=Ft,$.SourceLocation=Et,$.TokContext=S,$.Token=ei,$.TokenType=ye,$.defaultOptions=Ze,$.getLineInfo=Jt,$.isIdentifierChar=ae,$.isIdentifierStart=xe,$.isNewLine=Fe,$.keywordTypes=Qe,$.lineBreak=He,$.lineBreakG=et,$.nonASCIIwhitespace=mt,$.parse=Xi,$.parseExpressionAt=Qi,$.tokContexts=g,$.tokTypes=I,$.tokenizer=Yi,$.version=mi})}(ur,ur.exports)),ur.exports}/*!
 * Paper.js v0.12.18 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jürg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Wed Jul 17 14:57:24 2024 +0200
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jürg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */var Ca=Cr.exports,wn;function ka(){return wn||(wn=1,function(K){(function(ee,$){ee=ee||xn;var fe=ee.window,Q=ee.document,T=new function(){var e=/^(statics|enumerable|beans|preserve)$/,t=[],r=t.slice,n=Object.create,s=Object.getOwnPropertyDescriptor,u=Object.defineProperty,o=t.forEach||function(p,d){for(var C=0,b=this.length;C<b;C++)p.call(d,this[C],C,this)},h=function(p,d){for(var C in this)this.hasOwnProperty(C)&&p.call(d,this[C],C,this)},l=Object.assign||function(p){for(var d=1,C=arguments.length;d<C;d++){var b=arguments[d];for(var S in b)b.hasOwnProperty(S)&&(p[S]=b[S])}return p},f=function(p,d,C){if(p){var b=s(p,"length");(b&&typeof b.value=="number"?o:h).call(p,d,C=C||p)}return C};function _(p,d,C,b,S){var g={};function y(w,E){E=E||(E=s(d,w))&&(E.get?E:E.value),typeof E=="string"&&E[0]==="#"&&(E=p[E.substring(1)]||E);var O=typeof E=="function",M=E,B=S||O&&!E.base?E&&E.get?w in p:p[w]:null,L;(!S||!B)&&(O&&B&&(E.base=B),O&&b!==!1&&(L=w.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(g[L[3].toLowerCase()+L[4]]=L[2]),(!M||O||!M.get||typeof M.get!="function"||!m.isPlainObject(M))&&(M={value:M,writable:!0}),(s(p,w)||{configurable:!0}).configurable&&(M.configurable=!0,M.enumerable=C??!L),u(p,w,M))}if(d){for(var c in d)d.hasOwnProperty(c)&&!e.test(c)&&y(c);for(var c in g){var x=g[c],k=p["set"+x],A=p["get"+x]||k&&p["is"+x];A&&(b===!0||A.length===0)&&y(c,{get:A,set:k})}}return p}function m(){for(var p=0,d=arguments.length;p<d;p++){var C=arguments[p];C&&l(this,C)}return this}return _(m,{inject:function(p){if(p){var d=p.statics===!0?p:p.statics,C=p.beans,b=p.preserve;d!==p&&_(this.prototype,p,p.enumerable,C,b),_(this,d,null,C,b)}for(var S=1,g=arguments.length;S<g;S++)this.inject(arguments[S]);return this},extend:function(){for(var p=this,d,C,b=0,S,g=arguments.length;b<g&&!(d&&C);b++)S=arguments[b],d=d||S.initialize,C=C||S.prototype;return d=d||function(){p.apply(this,arguments)},C=d.prototype=C||n(this.prototype),u(C,"constructor",{value:d,writable:!0,configurable:!0}),_(d,this),arguments.length&&this.inject.apply(d,arguments),d.base=p,d}}).inject({enumerable:!1,initialize:m,set:m,inject:function(){for(var p=0,d=arguments.length;p<d;p++){var C=arguments[p];C&&_(this,C,C.enumerable,C.beans,C.preserve)}return this},extend:function(){var p=n(this);return p.inject.apply(p,arguments)},each:function(p,d){return f(this,p,d)},clone:function(){return new this.constructor(this)},statics:{set:l,each:f,create:n,define:u,describe:s,clone:function(p){return l(new p.constructor,p)},isPlainObject:function(p){var d=p!=null&&p.constructor;return d&&(d===Object||d===m||d.name==="Object")},pick:function(p,d){return p!==$?p:d},slice:function(p,d,C){return r.call(p,d,C)}}})};K.exports=T,T.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+T.each(this,function(e,t){if(!/^_/.test(t)){var r=typeof e;this.push(t+": "+(r==="number"?pe.instance.number(e):r==="string"?"'"+e+"'":e))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(e){return T.importJSON(e,this)},exportJSON:function(e){return T.exportJSON(this,e)},toJSON:function(){return T.serialize(this)},set:function(e,t){return e&&T.filter(this,e,t,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function e(){var t=e.base.apply(this,arguments),r=t.prototype._class;return r&&!T.exports[r]&&(T.exports[r]=t),t},equals:function(e,t){if(e===t)return!0;if(e&&e.equals)return e.equals(t);if(t&&t.equals)return t.equals(e);if(e&&t&&typeof e=="object"&&typeof t=="object"){if(Array.isArray(e)&&Array.isArray(t)){var r=e.length;if(r!==t.length)return!1;for(;r--;)if(!T.equals(e[r],t[r]))return!1}else{var n=Object.keys(e),r=n.length;if(r!==Object.keys(t).length)return!1;for(;r--;){var s=n[r];if(!(t.hasOwnProperty(s)&&T.equals(e[s],t[s])))return!1}}return!0}return!1},read:function(e,t,r,n){if(this===T){var s=this.peek(e,t);return e.__index++,s}var u=this.prototype,o=u._readIndex,h=t||o&&e.__index||0,l=e.length,f=e[h];if(n=n||l-h,f instanceof this||r&&r.readNull&&f==null&&n<=1)return o&&(e.__index=h+1),f&&r&&r.clone?f.clone():f;if(f=T.create(u),o&&(f.__read=!0),f=f.initialize.apply(f,h>0||h+n<l?T.slice(e,h,h+n):e)||f,o){e.__index=h+f.__read;var _=f.__filtered;_&&(e.__filtered=_,f.__filtered=$),f.__read=$}return f},peek:function(e,t){return e[e.__index=t||e.__index||0]},remain:function(e){return e.length-(e.__index||0)},readList:function(e,t,r,n){for(var s=[],u,o=t||0,h=n?o+n:e.length,l=o;l<h;l++)s.push(Array.isArray(u=e[l])?this.read(u,0,r):this.read(e,l,r,1));return s},readNamed:function(e,t,r,n,s){var u=this.getNamed(e,t),o=u!==$;if(o){var h=e.__filtered;if(!h){var l=this.getSource(e);h=e.__filtered=T.create(l),h.__unfiltered=l}h[t]=$}return this.read(o?[u]:e,r,n,s)},readSupported:function(e,t){var r=this.getSource(e),n=this,s=!1;return r&&Object.keys(r).forEach(function(u){if(u in t){var o=n.readNamed(e,u);o!==$&&(t[u]=o),s=!0}}),s},getSource:function(e){var t=e.__source;if(t===$){var r=e.length===1&&e[0];t=e.__source=r&&T.isPlainObject(r)?r:null}return t},getNamed:function(e,t){var r=this.getSource(e);if(r)return t?r[t]:e.__filtered||r},hasNamed:function(e,t){return!!this.getNamed(e,t)},filter:function(e,t,r,n){var s;function u(_){if(!(r&&_ in r)&&!(s&&_ in s)){var m=t[_];m!==$&&(e[_]=m)}}if(n){for(var o={},h=0,l,f=n.length;h<f;h++)(l=n[h])in t&&(u(l),o[l]=!0);s=o}return Object.keys(t.__unfiltered||t).forEach(u),e},isPlainValue:function(e,t){return T.isPlainObject(e)||Array.isArray(e)||t&&typeof e=="string"},serialize:function(e,t,r,n){t=t||{};var s=!n,u;if(s&&(t.formatter=new pe(t.precision),n={length:0,definitions:{},references:{},add:function(m,p){var d="#"+m._id,C=this.references[d];if(!C){this.length++;var b=p.call(m),S=m._class;S&&b[0]!==S&&b.unshift(S),this.definitions[d]=b,C=this.references[d]=[d]}return C}}),e&&e._serialize){u=e._serialize(t,n);var o=e._class;o&&!e._compactSerialize&&(s||!r)&&u[0]!==o&&u.unshift(o)}else if(Array.isArray(e)){u=[];for(var h=0,l=e.length;h<l;h++)u[h]=T.serialize(e[h],t,r,n)}else if(T.isPlainObject(e)){u={};for(var f=Object.keys(e),h=0,l=f.length;h<l;h++){var _=f[h];u[_]=T.serialize(e[_],t,r,n)}}else typeof e=="number"?u=t.formatter.number(e,t.precision):u=e;return s&&n.length>0?[["dictionary",n.definitions],u]:u},deserialize:function(e,t,r,n,s){var u=e,o=!r,h=o&&e&&e.length&&e[0][0]==="dictionary";if(r=r||{},Array.isArray(e)){var l=e[0],f=l==="dictionary";if(e.length==1&&/^#/.test(l))return r.dictionary[l];l=T.exports[l],u=[];for(var _=l?1:0,m=e.length;_<m;_++)u.push(T.deserialize(e[_],t,r,f,h));if(l){var p=u;t?u=t(l,p,o||s):u=new l(p)}}else if(T.isPlainObject(e)){u={},n&&(r.dictionary=u);for(var d in e)u[d]=T.deserialize(e[d],t,r)}return h?u[1]:u},exportJSON:function(e,t){var r=T.serialize(e,t);return t&&t.asString==!1?r:JSON.stringify(r)},importJSON:function(e,t){return T.deserialize(typeof e=="string"?JSON.parse(e):e,function(r,n,s){var u=s&&t&&t.constructor===r,o=u?t:T.create(r.prototype);if(n.length===1&&o instanceof I&&(u||!(o instanceof et))){var h=n[0];T.isPlainObject(h)&&(h.insert=!1,u&&(n=n.concat([I.INSERT])))}return(u?o.set:r).apply(o,n),u&&(t=null),o})},push:function(e,t){var r=t.length;if(r<4096)e.push.apply(e,t);else{var n=e.length;e.length+=r;for(var s=0;s<r;s++)e[n+s]=t[s]}return e},splice:function(e,t,r,n){var s=t&&t.length,u=r===$;r=u?e.length:r,r>e.length&&(r=e.length);for(var o=0;o<s;o++)t[o]._index=r+o;if(u)return T.push(e,t),[];var h=[r,n];t&&T.push(h,t);for(var l=e.splice.apply(e,h),o=0,f=l.length;o<f;o++)l[o]._index=$;for(var o=r+s,f=e.length;o<f;o++)e[o]._index=o;return l},capitalize:function(e){return e.replace(/\b[a-z]/g,function(t){return t.toUpperCase()})},camelize:function(e){return e.replace(/-(.)/g,function(t,r){return r.toUpperCase()})},hyphenate:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var ne={on:function(e,t){if(typeof e!="string")T.each(e,function(u,o){this.on(o,u)},this);else{var r=this._eventTypes,n=r&&r[e],s=this._callbacks=this._callbacks||{};s=s[e]=s[e]||[],s.indexOf(t)===-1&&(s.push(t),n&&n.install&&s.length===1&&n.install.call(this,e))}return this},off:function(e,t){if(typeof e!="string"){T.each(e,function(o,h){this.off(h,o)},this);return}var r=this._eventTypes,n=r&&r[e],s=this._callbacks&&this._callbacks[e],u;return s&&(!t||(u=s.indexOf(t))!==-1&&s.length===1?(n&&n.uninstall&&n.uninstall.call(this,e),delete this._callbacks[e]):u!==-1&&s.splice(u,1)),this},once:function(e,t){return this.on(e,function r(){t.apply(this,arguments),this.off(e,r)})},emit:function(e,t){var r=this._callbacks&&this._callbacks[e];if(!r)return!1;var n=T.slice(arguments,1),s=t&&t.target&&!t.currentTarget;r=r.slice(),s&&(t.currentTarget=this);for(var u=0,o=r.length;u<o;u++)if(r[u].apply(this,n)==!1){t&&t.stop&&t.stop();break}return s&&delete t.currentTarget,!0},responds:function(e){return!!(this._callbacks&&this._callbacks[e])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(e){var t=this._eventTypes,r=this._callbacks,n=e?"install":"uninstall";if(t){for(var s in r)if(r[s].length>0){var u=t[s],o=u&&u[n];o&&o.call(this,s)}}},statics:{inject:function e(t){var r=t._events;if(r){var n={};T.each(r,function(s,u){var o=typeof s=="string",h=o?s:u,l=T.capitalize(h),f=h.substring(2).toLowerCase();n[f]=o?{}:s,h="_"+h,t["get"+l]=function(){return this[h]},t["set"+l]=function(_){var m=this[h];m&&this.off(f,m),_&&this.on(f,_),this[h]=_}}),t._eventTypes=n}return e.base.apply(this,arguments)}}},de=T.extend({_class:"PaperScope",initialize:function e(){Ve=this,this.settings=new T({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=e._id++,e._scopes[this._id]=this;var t=e.prototype;if(!this.support){var r=Ie.getContext(1,1)||{};t.support={nativeDash:"setLineDash"in r||"mozDash"in r,nativeBlendModes:pt.nativeModes},Ie.release(r)}if(!this.agent){var n=ee.navigator.userAgent.toLowerCase(),s=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(n)||[])[0],u=s==="darwin"?"mac":s,o=t.agent=t.browser={platform:u};u&&(o[u]=!0),n.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(h,l,f,_,m){if(!o.chrome){var p=l==="opera"?_:/^(node|trident)$/.test(l)?m:f;o.version=p,o.versionNumber=parseFloat(p),l={trident:"msie",jsdom:"node"}[l]||l,o.name=l,o[l]=!0}}),o.chrome&&delete o.webkit,o.atom&&delete o.chrome}},version:"0.12.18",getView:function(){var e=this.project;return e&&e._view},getPaper:function(){return this},execute:function(e,t){var r=Ve.PaperScript.execute(e,this,t);return ut.updateFocus(),r},install:function(e){var t=this;T.each(["project","view","tool"],function(n){T.define(e,n,{configurable:!0,get:function(){return t[n]}})});for(var r in this)!/^_/.test(r)&&this[r]&&(e[r]=this[r])},setup:function(e){return Ve=this,this.project=new ke(e),this},createCanvas:function(e,t){return Ie.getCanvas(e,t)},activate:function(){Ve=this},clear:function(){for(var e=this.projects,t=this.tools,r=e.length-1;r>=0;r--)e[r].remove();for(var r=t.length-1;r>=0;r--)t[r].remove()},remove:function(){this.clear(),delete de._scopes[this._id]},statics:new function(){function e(t){return t+="Attribute",function(r,n){return r[t](n)||r[t]("data-paper-"+n)}}return{_scopes:{},_id:0,get:function(t){return this._scopes[t]||null},getAttribute:e("get"),hasAttribute:e("has")}}}),Ge=T.extend(ne,{initialize:function(e){this._scope=Ve,this._index=this._scope[this._list].push(this)-1,(e||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var e=this._scope[this._reference];return e&&e!==this&&e.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",e),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return this._index==null?!1:(T.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),Se={findItemBoundsCollisions:function(e,t,r){function n(o){for(var h=new Array(o.length),l=0;l<o.length;l++){var f=o[l].getBounds();h[l]=[f.left,f.top,f.right,f.bottom]}return h}var s=n(e),u=!t||t===e?s:n(t);return this.findBoundsCollisions(s,u,r||0)},findCurveBoundsCollisions:function(e,t,r,n){function s(p){for(var d=Math.min,C=Math.max,b=new Array(p.length),S=0;S<p.length;S++){var g=p[S];b[S]=[d(g[0],g[2],g[4],g[6]),d(g[1],g[3],g[5],g[7]),C(g[0],g[2],g[4],g[6]),C(g[1],g[3],g[5],g[7])]}return b}var u=s(e),o=!t||t===e?u:s(t);if(n){for(var h=this.findBoundsCollisions(u,o,r||0,!1,!0),l=this.findBoundsCollisions(u,o,r||0,!0,!0),f=[],_=0,m=h.length;_<m;_++)f[_]={hor:h[_],ver:l[_]};return f}return this.findBoundsCollisions(u,o,r||0)},findBoundsCollisions:function(e,t,r,n,s){var u=!t||e===t,o=u?e:e.concat(t),h=e.length,l=o.length;function f(re,he,_e){for(var j=0,X=re.length;j<X;){var le=X+j>>>1;o[re[le]][he]<_e?j=le+1:X=le}return j-1}for(var _=n?1:0,m=_+2,p=n?0:1,d=p+2,C=new Array(l),b=0;b<l;b++)C[b]=b;C.sort(function(re,he){return o[re][_]-o[he][_]});for(var S=[],g=new Array(h),b=0;b<l;b++){var y=C[b],c=o[y],x=u?y:y-h,k=y<h,A=u||!k,w=k?[]:null;if(S.length){var E=f(S,m,c[_]-r)+1;if(S.splice(0,E),u&&s){w=w.concat(S);for(var O=0;O<S.length;O++){var M=S[O];g[M].push(x)}}else for(var B=c[d],L=c[p],O=0;O<S.length;O++){var M=S[O],z=o[M],F=M<h,q=u||M>=h;(s||(k&&q||A&&F)&&B>=z[p]-r&&L<=z[d]+r)&&(k&&q&&w.push(u?M:M-h),A&&F&&g[M].push(x))}}if(k&&(e===t&&w.push(y),g[y]=w),S.length){var U=c[m],G=f(S,m,U);S.splice(G+1,0,y)}else S.push(y)}for(var b=0;b<g.length;b++){var J=g[b];J&&J.sort(function(he,_e){return he-_e})}return g}},pe=T.extend({initialize:function(e){this.precision=T.pick(e,5),this.multiplier=Math.pow(10,this.precision)},number:function(e){return this.precision<16?Math.round(e*this.multiplier)/this.multiplier:e},pair:function(e,t,r){return this.number(e)+(r||",")+this.number(t)},point:function(e,t){return this.number(e.x)+(t||",")+this.number(e.y)},size:function(e,t){return this.number(e.width)+(t||",")+this.number(e.height)},rectangle:function(e,t){return this.point(e,t)+(t||",")+this.size(e,t)}});pe.instance=new pe;var te=new function(){var e=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],t=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],r=Math.abs,n=Math.sqrt,s=Math.pow,u=Math.log2||function(m){return Math.log(m)*Math.LOG2E},o=1e-12,h=112e-18;function l(m,p,d){return m<p?p:m>d?d:m}function f(m,p,d){function C(E){var O=E*134217729,M=E-O,B=M+O,L=E-B;return[B,L]}var b=p*p-m*d,S=p*p+m*d;if(r(b)*3<S){var g=C(m),y=C(p),c=C(d),x=p*p,k=y[0]*y[0]-x+2*y[0]*y[1]+y[1]*y[1],A=m*d,w=g[0]*c[0]-A+g[0]*c[1]+g[1]*c[0]+g[1]*c[1];b=x-A+(k-w)}return b}function _(){var m=Math.max.apply(Math,arguments);return m&&(m<1e-8||m>1e8)?s(2,-Math.round(u(m))):0}return{EPSILON:o,MACHINE_EPSILON:h,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,ANGULAR_EPSILON:1e-5,KAPPA:4*(n(2)-1)/3,isZero:function(m){return m>=-1e-12&&m<=o},isMachineZero:function(m){return m>=-112e-18&&m<=h},clamp:l,integrate:function(m,p,d,C){for(var b=e[C-2],S=t[C-2],g=(d-p)*.5,y=g+p,c=0,x=C+1>>1,k=C&1?S[c++]*m(y):0;c<x;){var A=g*b[c];k+=S[c++]*(m(y+A)+m(y-A))}return g*k},findRoot:function(m,p,d,C,b,S,g){for(var y=0;y<S;y++){var c=m(d),x=c/p(d),k=d-x;if(r(x)<g){d=k;break}c>0?(b=d,d=k<=C?(C+b)*.5:k):(C=d,d=k>=b?(C+b)*.5:k)}return l(d,C,b)},solveQuadratic:function(m,p,d,C,b,S){var g,y=1/0;if(r(m)<o){if(r(p)<o)return r(d)<o?-1:0;g=-d/p}else{p*=-.5;var c=f(m,p,d);if(c&&r(c)<h){var x=_(r(m),r(p),r(d));x&&(m*=x,p*=x,d*=x,c=f(m,p,d))}if(c>=-112e-18){var k=c<0?0:n(c),A=p+(p<0?-k:k);A===0?(g=d/m,y=-g):(g=A/m,y=d/A)}}var w=0,E=b==null,O=b-o,M=S+o;return isFinite(g)&&(E||g>O&&g<M)&&(C[w++]=E?g:l(g,b,S)),y!==g&&isFinite(y)&&(E||y>O&&y<M)&&(C[w++]=E?y:l(y,b,S)),w},solveCubic:function(m,p,d,C,b,S,g){var y=_(r(m),r(p),r(d),r(C)),c,x,k,A,w;y&&(m*=y,p*=y,d*=y,C*=y);function E(G){c=G;var J=m*c;x=J+p,k=x*c+d,A=(J+x)*c+k,w=k*c+C}if(r(m)<o)m=p,x=d,k=C,c=1/0;else if(r(C)<o)x=p,k=d,c=0;else{E(-(p/m)/3);var O=w/m,M=s(r(O),1/3),B=O<0?-1:1,L=-A/m,z=L>0?1.324717957244746*Math.max(M,n(L)):M,F=c-B*z;if(F!==c){do E(F),F=A===0?c:c-w/A/(1+h);while(B*F>B*c);r(m)*c*c>r(C/c)&&(k=-C/c,x=(k-d)/c)}}var q=te.solveQuadratic(m,x,k,b,S,g),U=S==null;return isFinite(c)&&(q===0||q>0&&c!==b[0]&&c!==b[1])&&(U||c>S-o&&c<g+o)&&(b[q++]=U?c:l(c,S,g)),q}}},qe={_id:1,_pools:{},get:function(e){if(e){var t=this._pools[e];return t||(t=this._pools[e]={_id:1}),t._id++}else return this._id++}},V=T.extend({_class:"Point",_readIndex:!0,initialize:function(t,r){var n=typeof t,s=this.__read,u=0;if(n==="number"){var o=typeof r=="number";this._set(t,o?r:t),s&&(u=o?2:1)}else if(n==="undefined"||t===null)this._set(0,0),s&&(u=t===null?1:0);else{var h=n==="string"?t.split(/[\s,]+/)||[]:t;u=1,Array.isArray(h)?this._set(+h[0],+(h.length>1?h[1]:h[0])):"x"in h?this._set(h.x||0,h.y||0):"width"in h?this._set(h.width||0,h.height||0):"angle"in h?(this._set(h.length||0,0),this.setAngle(h.angle||0)):(this._set(0,0),u=0)}return s&&(this.__read=u),this},set:"#initialize",_set:function(e,t){return this.x=e,this.y=t,this},equals:function(e){return this===e||e&&(this.x===e.x&&this.y===e.y||Array.isArray(e)&&this.x===e[0]&&this.y===e[1])||!1},clone:function(){return new V(this.x,this.y)},toString:function(){var e=pe.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.x),t.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(e){if(this.isZero()){var t=this._angle||0;this._set(Math.cos(t)*e,Math.sin(t)*e)}else{var r=e/this.getLength();te.isZero(r)&&this.getAngle(),this._set(this.x*r,this.y*r)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(e){this.setAngleInRadians.call(this,e*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var e=V.read(arguments),t=this.getLength()*e.getLength();if(te.isZero(t))return NaN;var r=this.dot(e)/t;return Math.acos(r<-1?-1:r>1?1:r)}else return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(e){if(this._angle=e,!this.isZero()){var t=this.getLength();this._set(Math.cos(e)*t,Math.sin(e)*t)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var e=V.read(arguments);return Math.atan2(this.cross(e),this.dot(e))*180/Math.PI},getDistance:function(){var e=arguments,t=V.read(e),r=t.x-this.x,n=t.y-this.y,s=r*r+n*n,u=T.read(e);return u?s:Math.sqrt(s)},normalize:function(e){e===$&&(e=1);var t=this.getLength(),r=t!==0?e/t:0,n=new V(this.x*r,this.y*r);return r>=0&&(n._angle=this._angle),n},rotate:function(e,t){if(e===0)return this.clone();e=e*Math.PI/180;var r=t?this.subtract(t):this,n=Math.sin(e),s=Math.cos(e);return r=new V(r.x*s-r.y*n,r.x*n+r.y*s),t?r.add(t):r},transform:function(e){return e?e._transformPoint(this):this},add:function(){var e=V.read(arguments);return new V(this.x+e.x,this.y+e.y)},subtract:function(){var e=V.read(arguments);return new V(this.x-e.x,this.y-e.y)},multiply:function(){var e=V.read(arguments);return new V(this.x*e.x,this.y*e.y)},divide:function(){var e=V.read(arguments);return new V(this.x/e.x,this.y/e.y)},modulo:function(){var e=V.read(arguments);return new V(this.x%e.x,this.y%e.y)},negate:function(){return new V(-this.x,-this.y)},isInside:function(){return oe.read(arguments).contains(this)},isClose:function(){var e=arguments,t=V.read(e),r=T.read(e);return this.getDistance(t)<=r},isCollinear:function(){var e=V.read(arguments);return V.isCollinear(this.x,this.y,e.x,e.y)},isColinear:"#isCollinear",isOrthogonal:function(){var e=V.read(arguments);return V.isOrthogonal(this.x,this.y,e.x,e.y)},isZero:function(){var e=te.isZero;return e(this.x)&&e(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(e){return this.x*(e>1&&e<4?-1:1)>=0&&this.y*(e>2?-1:1)>=0},dot:function(){var e=V.read(arguments);return this.x*e.x+this.y*e.y},cross:function(){var e=V.read(arguments);return this.x*e.y-this.y*e.x},project:function(){var e=V.read(arguments),t=e.isZero()?0:this.dot(e)/e.dot(e);return new V(e.x*t,e.y*t)},statics:{min:function(){var e=arguments,t=V.read(e),r=V.read(e);return new V(Math.min(t.x,r.x),Math.min(t.y,r.y))},max:function(){var e=arguments,t=V.read(e),r=V.read(e);return new V(Math.max(t.x,r.x),Math.max(t.y,r.y))},random:function(){return new V(Math.random(),Math.random())},isCollinear:function(e,t,r,n){return Math.abs(e*n-t*r)<=Math.sqrt((e*e+t*t)*(r*r+n*n))*1e-8},isOrthogonal:function(e,t,r,n){return Math.abs(e*r+t*n)<=Math.sqrt((e*e+t*t)*(r*r+n*n))*1e-8}}},T.each(["round","ceil","floor","abs"],function(e){var t=Math[e];this[e]=function(){return new V(t(this.x),t(this.y))}},{})),xe=V.extend({initialize:function(t,r,n,s){this._x=t,this._y=r,this._owner=n,this._setter=s},_set:function(e,t,r){return this._x=e,this._y=t,r||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),ae=T.extend({_class:"Size",_readIndex:!0,initialize:function(t,r){var n=typeof t,s=this.__read,u=0;if(n==="number"){var o=typeof r=="number";this._set(t,o?r:t),s&&(u=o?2:1)}else if(n==="undefined"||t===null)this._set(0,0),s&&(u=t===null?1:0);else{var h=n==="string"?t.split(/[\s,]+/)||[]:t;u=1,Array.isArray(h)?this._set(+h[0],+(h.length>1?h[1]:h[0])):"width"in h?this._set(h.width||0,h.height||0):"x"in h?this._set(h.x||0,h.y||0):(this._set(0,0),u=0)}return s&&(this.__read=u),this},set:"#initialize",_set:function(e,t){return this.width=e,this.height=t,this},equals:function(e){return e===this||e&&(this.width===e.width&&this.height===e.height||Array.isArray(e)&&this.width===e[0]&&this.height===e[1])||!1},clone:function(){return new ae(this.width,this.height)},toString:function(){var e=pe.instance;return"{ width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.width),t.number(this.height)]},add:function(){var e=ae.read(arguments);return new ae(this.width+e.width,this.height+e.height)},subtract:function(){var e=ae.read(arguments);return new ae(this.width-e.width,this.height-e.height)},multiply:function(){var e=ae.read(arguments);return new ae(this.width*e.width,this.height*e.height)},divide:function(){var e=ae.read(arguments);return new ae(this.width/e.width,this.height/e.height)},modulo:function(){var e=ae.read(arguments);return new ae(this.width%e.width,this.height%e.height)},negate:function(){return new ae(-this.width,-this.height)},isZero:function(){var e=te.isZero;return e(this.width)&&e(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(e,t){return new ae(Math.min(e.width,t.width),Math.min(e.height,t.height))},max:function(e,t){return new ae(Math.max(e.width,t.width),Math.max(e.height,t.height))},random:function(){return new ae(Math.random(),Math.random())}}},T.each(["round","ceil","floor","abs"],function(e){var t=Math[e];this[e]=function(){return new ae(t(this.width),t(this.height))}},{})),ye=ae.extend({initialize:function(t,r,n,s){this._width=t,this._height=r,this._owner=n,this._setter=s},_set:function(e,t,r){return this._width=e,this._height=t,r||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(e){this._width=e,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(e){this._height=e,this._owner[this._setter](this)}}),oe=T.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(t,r,n,s){var u=arguments,o=typeof t,h;if(o==="number"?(this._set(t,r,n,s),h=4):o==="undefined"||t===null?(this._set(0,0,0,0),h=t===null?1:0):u.length===1&&(Array.isArray(t)?(this._set.apply(this,t),h=1):t.x!==$||t.width!==$?(this._set(t.x||0,t.y||0,t.width||0,t.height||0),h=1):t.from===$&&t.to===$&&(this._set(0,0,0,0),T.readSupported(u,this)&&(h=1))),h===$){var l=V.readNamed(u,"from"),f=T.peek(u),_=l.x,m=l.y,p,d;if(f&&f.x!==$||T.hasNamed(u,"to")){var C=V.readNamed(u,"to");p=C.x-_,d=C.y-m,p<0&&(_=C.x,p=-p),d<0&&(m=C.y,d=-d)}else{var b=ae.read(u);p=b.width,d=b.height}this._set(_,m,p,d),h=u.__index}var S=u.__filtered;return S&&(this.__filtered=S),this.__read&&(this.__read=h),this},set:"#initialize",_set:function(e,t,r,n){return this.x=e,this.y=t,this.width=r,this.height=n,this},clone:function(){return new oe(this.x,this.y,this.width,this.height)},equals:function(e){var t=T.isPlainValue(e)?oe.read(arguments):e;return t===this||t&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height||!1},toString:function(){var e=pe.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+", width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.x),t.number(this.y),t.number(this.width),t.number(this.height)]},getPoint:function(e){var t=e?V:xe;return new t(this.x,this.y,this,"setPoint")},setPoint:function(){var e=V.read(arguments);this.x=e.x,this.y=e.y},getSize:function(e){var t=e?ae:ye;return new t(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var e=ae.read(arguments),t=this._sx,r=this._sy,n=e.width,s=e.height;t&&(this.x+=(this.width-n)*t),r&&(this.y+=(this.height-s)*r),this.width=n,this.height=s,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(e){if(!this._fw){var t=e-this.x;this.width-=this._sx===.5?t*2:t}this.x=e,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(e){if(!this._fh){var t=e-this.y;this.height-=this._sy===.5?t*2:t}this.y=e,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(e){if(!this._fw){var t=e-this.x;this.width=this._sx===.5?t*2:t}this.x=e-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(e){if(!this._fh){var t=e-this.y;this.height=this._sy===.5?t*2:t}this.y=e-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(e){this._fw||this._sx===.5?this.x=e-this.width/2:(this._sx&&(this.x+=(e-this.x)*2*this._sx),this.width=(e-this.x)*2),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(e){this._fh||this._sy===.5?this.y=e-this.height/2:(this._sy&&(this.y+=(e-this.y)*2*this._sy),this.height=(e-this.y)*2),this._sy=.5,this._fh=0},getCenter:function(e){var t=e?V:xe;return new t(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var e=V.read(arguments);return this.setCenterX(e.x),this.setCenterY(e.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(e){return e&&e.width!==$||(Array.isArray(e)?e:arguments).length===4?this._containsRectangle(oe.read(arguments)):this._containsPoint(V.read(arguments))},_containsPoint:function(e){var t=e.x,r=e.y;return t>=this.x&&r>=this.y&&t<=this.x+this.width&&r<=this.y+this.height},_containsRectangle:function(e){var t=e.x,r=e.y;return t>=this.x&&r>=this.y&&t+e.width<=this.x+this.width&&r+e.height<=this.y+this.height},intersects:function(){var e=oe.read(arguments),t=T.read(arguments)||0;return e.x+e.width>this.x-t&&e.y+e.height>this.y-t&&e.x<this.x+this.width+t&&e.y<this.y+this.height+t},intersect:function(){var e=oe.read(arguments),t=Math.max(this.x,e.x),r=Math.max(this.y,e.y),n=Math.min(this.x+this.width,e.x+e.width),s=Math.min(this.y+this.height,e.y+e.height);return new oe(t,r,n-t,s-r)},unite:function(){var e=oe.read(arguments),t=Math.min(this.x,e.x),r=Math.min(this.y,e.y),n=Math.max(this.x+this.width,e.x+e.width),s=Math.max(this.y+this.height,e.y+e.height);return new oe(t,r,n-t,s-r)},include:function(){var e=V.read(arguments),t=Math.min(this.x,e.x),r=Math.min(this.y,e.y),n=Math.max(this.x+this.width,e.x),s=Math.max(this.y+this.height,e.y);return new oe(t,r,n-t,s-r)},expand:function(){var e=ae.read(arguments),t=e.width,r=e.height;return new oe(this.x-t/2,this.y-r/2,this.width+t,this.height+r)},scale:function(e,t){return this.expand(this.width*e-this.width,this.height*(t===$?e:t)-this.height)}},T.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(e,t){var r=e.join(""),n=/^[RL]/.test(r);t>=4&&(e[1]+=n?"Y":"X");var s=e[n?0:1],u=e[n?1:0],o="get"+s,h="get"+u,l="set"+s,f="set"+u,_="get"+r,m="set"+r;this[_]=function(p){var d=p?V:xe;return new d(this[o](),this[h](),this,m)},this[m]=function(){var p=V.read(arguments);this[l](p.x),this[f](p.y)}},{beans:!0})),Je=oe.extend({initialize:function(t,r,n,s,u,o){this._set(t,r,n,s,!0),this._owner=u,this._setter=o},_set:function(e,t,r,n,s){return this._x=e,this._y=t,this._width=r,this._height=n,s||this._owner[this._setter](this),this}},new function(){var e=oe.prototype;return T.each(["x","y","width","height"],function(t){var r=T.capitalize(t),n="_"+t;this["get"+r]=function(){return this[n]},this["set"+r]=function(s){this[n]=s,this._dontNotify||this._owner[this._setter](this)}},T.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(t){var r="set"+t;this[r]=function(){this._dontNotify=!0,e[r].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(t){var r=this._owner;r._changeSelection&&r._changeSelection(2,t)}}))}),Ce=T.extend({_class:"Matrix",initialize:function e(t,r){var n=arguments,s=n.length,u=!0;if(s>=6?this._set.apply(this,n):s===1||s===2?t instanceof e?this._set(t._a,t._b,t._c,t._d,t._tx,t._ty,r):Array.isArray(t)?this._set.apply(this,r?t.concat([r]):t):u=!1:s?u=!1:this.reset(),!u)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(e,t,r,n,s,u,o){return this._a=e,this._b=t,this._c=r,this._d=n,this._tx=s,this._ty=u,o||this._changed(),this},_serialize:function(e,t){return T.serialize(this.getValues(),e,!0,t)},_changed:function(){var e=this._owner;e&&(e._applyMatrix?e.transform(null,!0):e._changed(25))},clone:function(){return new Ce(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(e){return e===this||e&&this._a===e._a&&this._b===e._b&&this._c===e._c&&this._d===e._d&&this._tx===e._tx&&this._ty===e._ty},toString:function(){var e=pe.instance;return"[["+[e.number(this._a),e.number(this._c),e.number(this._tx)].join(", ")+"], ["+[e.number(this._b),e.number(this._d),e.number(this._ty)].join(", ")+"]]"},reset:function(e){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,e||this._changed(),this},apply:function(e,t){var r=this._owner;return r?(r.transform(null,T.pick(e,!0),t),this.isIdentity()):!1},translate:function(){var e=V.read(arguments),t=e.x,r=e.y;return this._tx+=t*this._a+r*this._c,this._ty+=t*this._b+r*this._d,this._changed(),this},scale:function(){var e=arguments,t=V.read(e),r=V.read(e,0,{readNull:!0});return r&&this.translate(r),this._a*=t.x,this._b*=t.x,this._c*=t.y,this._d*=t.y,r&&this.translate(r.negate()),this._changed(),this},rotate:function(e){e*=Math.PI/180;var t=V.read(arguments,1),r=t.x,n=t.y,s=Math.cos(e),u=Math.sin(e),o=r-r*s+n*u,h=n-r*u-n*s,l=this._a,f=this._b,_=this._c,m=this._d;return this._a=s*l+u*_,this._b=s*f+u*m,this._c=-u*l+s*_,this._d=-u*f+s*m,this._tx+=o*l+h*_,this._ty+=o*f+h*m,this._changed(),this},shear:function(){var e=arguments,t=V.read(e),r=V.read(e,0,{readNull:!0});r&&this.translate(r);var n=this._a,s=this._b;return this._a+=t.y*this._c,this._b+=t.y*this._d,this._c+=t.x*n,this._d+=t.x*s,r&&this.translate(r.negate()),this._changed(),this},skew:function(){var e=arguments,t=V.read(e),r=V.read(e,0,{readNull:!0}),n=Math.PI/180,s=new V(Math.tan(t.x*n),Math.tan(t.y*n));return this.shear(s,r)},append:function(e,t){if(e){var r=this._a,n=this._b,s=this._c,u=this._d,o=e._a,h=e._c,l=e._b,f=e._d,_=e._tx,m=e._ty;this._a=o*r+l*s,this._c=h*r+f*s,this._b=o*n+l*u,this._d=h*n+f*u,this._tx+=_*r+m*s,this._ty+=_*n+m*u,t||this._changed()}return this},prepend:function(e,t){if(e){var r=this._a,n=this._b,s=this._c,u=this._d,o=this._tx,h=this._ty,l=e._a,f=e._c,_=e._b,m=e._d,p=e._tx,d=e._ty;this._a=l*r+f*n,this._c=l*s+f*u,this._b=_*r+m*n,this._d=_*s+m*u,this._tx=l*o+f*h+p,this._ty=_*o+m*h+d,t||this._changed()}return this},appended:function(e){return this.clone().append(e)},prepended:function(e){return this.clone().prepend(e)},invert:function(){var e=this._a,t=this._b,r=this._c,n=this._d,s=this._tx,u=this._ty,o=e*n-t*r,h=null;return o&&!isNaN(o)&&isFinite(s)&&isFinite(u)&&(this._a=n/o,this._b=-t/o,this._c=-r/o,this._d=e/o,this._tx=(r*u-n*s)/o,this._ty=(t*s-e*u)/o,h=this),h},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new Ce(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var e=this._a*this._d-this._c*this._b;return e&&!isNaN(e)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(e,t,r){return arguments.length<3?this._transformPoint(V.read(arguments)):this._transformCoordinates(e,t,r)},_transformPoint:function(e,t,r){var n=e.x,s=e.y;return t||(t=new V),t._set(n*this._a+s*this._c+this._tx,n*this._b+s*this._d+this._ty,r)},_transformCoordinates:function(e,t,r){for(var n=0,s=2*r;n<s;n+=2){var u=e[n],o=e[n+1];t[n]=u*this._a+o*this._c+this._tx,t[n+1]=u*this._b+o*this._d+this._ty}return t},_transformCorners:function(e){var t=e.x,r=e.y,n=t+e.width,s=r+e.height,u=[t,r,n,r,n,s,t,s];return this._transformCoordinates(u,u,4)},_transformBounds:function(e,t,r){for(var n=this._transformCorners(e),s=n.slice(0,2),u=s.slice(),o=2;o<8;o++){var h=n[o],l=o&1;h<s[l]?s[l]=h:h>u[l]&&(u[l]=h)}return t||(t=new oe),t._set(s[0],s[1],u[0]-s[0],u[1]-s[1],r)},inverseTransform:function(){return this._inverseTransform(V.read(arguments))},_inverseTransform:function(e,t,r){var n=this._a,s=this._b,u=this._c,o=this._d,h=this._tx,l=this._ty,f=n*o-s*u,_=null;if(f&&!isNaN(f)&&isFinite(h)&&isFinite(l)){var m=e.x-this._tx,p=e.y-this._ty;t||(t=new V),_=t._set((m*o-p*u)/f,(p*n-m*s)/f,r)}return _},decompose:function(){var e=this._a,t=this._b,r=this._c,n=this._d,s=e*n-t*r,u=Math.sqrt,o=Math.atan2,h=180/Math.PI,l,f,_;if(e!==0||t!==0){var m=u(e*e+t*t);l=Math.acos(e/m)*(t>0?1:-1),f=[m,s/m],_=[o(e*r+t*n,m*m),0]}else if(r!==0||n!==0){var p=u(r*r+n*n);l=Math.asin(r/p)*(n>0?1:-1),f=[s/p,p],_=[0,o(e*r+t*n,p*p)]}else l=0,_=f=[0,0];return{translation:this.getTranslation(),rotation:l*h,scaling:new V(f),skewing:new V(_[0]*h,_[1]*h)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new V(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(e){this.isIdentity()||e.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},T.each(["a","b","c","d","tx","ty"],function(e){var t=T.capitalize(e),r="_"+e;this["get"+t]=function(){return this[r]},this["set"+t]=function(n){this[r]=n,this._changed()}},{})),Qe=T.extend({_class:"Line",initialize:function(t,r,n,s,u){var o=!1;arguments.length>=4?(this._px=t,this._py=r,this._vx=n,this._vy=s,o=u):(this._px=t.x,this._py=t.y,this._vx=r.x,this._vy=r.y,o=n),o||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new V(this._px,this._py)},getVector:function(){return new V(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(e,t){return Qe.intersect(this._px,this._py,this._vx,this._vy,e._px,e._py,e._vx,e._vy,!0,t)},getSide:function(e,t){return Qe.getSide(this._px,this._py,this._vx,this._vy,e.x,e.y,!0,t)},getDistance:function(e){return Math.abs(this.getSignedDistance(e))},getSignedDistance:function(e){return Qe.getSignedDistance(this._px,this._py,this._vx,this._vy,e.x,e.y,!0)},isCollinear:function(e){return V.isCollinear(this._vx,this._vy,e._vx,e._vy)},isOrthogonal:function(e){return V.isOrthogonal(this._vx,this._vy,e._vx,e._vy)},statics:{intersect:function(e,t,r,n,s,u,o,h,l,f){l||(r-=e,n-=t,o-=s,h-=u);var _=r*h-n*o;if(!te.isMachineZero(_)){var m=e-s,p=t-u,d=(o*p-h*m)/_,C=(r*p-n*m)/_,b=1e-12,S=-b,g=1+b;if(f||S<d&&d<g&&S<C&&C<g)return f||(d=d<=0?0:d>=1?1:d),new V(e+d*r,t+d*n)}},getSide:function(e,t,r,n,s,u,o,h){o||(r-=e,n-=t);var l=s-e,f=u-t,_=l*n-f*r;return!h&&te.isMachineZero(_)&&(_=(l*r+l*r)/(r*r+n*n),_>=0&&_<=1&&(_=0)),_<0?-1:_>0?1:0},getSignedDistance:function(e,t,r,n,s,u,o){return o||(r-=e,n-=t),r===0?n>0?s-e:e-s:n===0?r<0?u-t:t-u:((s-e)*n-(u-t)*r)/(n>r?n*Math.sqrt(1+r*r/(n*n)):r*Math.sqrt(1+n*n/(r*r)))},getDistance:function(e,t,r,n,s,u,o){return Math.abs(Qe.getSignedDistance(e,t,r,n,s,u,o))}}}),ke=Ge.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(t){Ge.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new fi(null,null,this),this._view=ut.create(this,t||Ie.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(e,t){return T.serialize(this._children,e,!0,t)},_changed:function(e,t){if(e&1){var r=this._view;r&&(r._needsUpdate=!0,!r._requested&&r._autoUpdate&&r.requestUpdate())}var n=this._changes;if(n&&t){var s=this._changesById,u=t._id,o=s[u];o?o.flags|=e:n.push(s[u]={item:t,flags:e})}},clear:function(){for(var e=this._children,t=e.length-1;t>=0;t--)e[t].remove()},isEmpty:function(){return!this._children.length},remove:function e(){return e.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(e){this._currentStyle.set(e)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new et({project:this,insert:!0})},getSymbolDefinitions:function(){var e=[],t={};return this.getItems({class:mt,match:function(r){var n=r._definition,s=n._id;return t[s]||(t[s]=!0,e.push(n)),!1}}),e},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var e=this._selectionItems,t=[];for(var r in e){var n=e[r],s=n._selection;s&1&&n.isInserted()?t.push(n):s||this._updateSelection(n)}return t},_updateSelection:function(e){var t=e._id,r=this._selectionItems;e._selection?r[t]!==e&&(this._selectionCount++,r[t]=e):r[t]===e&&(this._selectionCount--,delete r[t])},selectAll:function(){for(var e=this._children,t=0,r=e.length;t<r;t++)e[t].setFullySelected(!0)},deselectAll:function(){var e=this._selectionItems;for(var t in e)e[t].setFullySelected(!1)},addLayer:function(e){return this.insertLayer($,e)},insertLayer:function(e,t){if(t instanceof et){t._remove(!1,!0),T.splice(this._children,[t],e,0),t._setProject(this,!0);var r=t._name;r&&t.setName(r),this._changes&&t._changed(5),this._activeLayer||(this._activeLayer=t)}else t=null;return t},_insertItem:function(e,t,r){return t=this.insertLayer(e,t)||(this._activeLayer||this._insertItem($,new et(I.NO_INSERT),!0)).insertChild(e,t),r&&t.activate&&t.activate(),t},getItems:function(e){return I._getItems(this,e)},getItem:function(e){return I._getItems(this,e,null,null,!0)[0]||null},importJSON:function(e){this.activate();var t=this._activeLayer;return T.importJSON(e,t&&t.isEmpty()&&t)},removeOn:function(e){var t=this._removeSets;if(t){e==="mouseup"&&(t.mousedrag=null);var r=t[e];if(r){for(var n in r){var s=r[n];for(var u in t){var o=t[u];o&&o!=r&&delete o[s._id]}s.remove()}t[e]=null}}},draw:function(e,t,r){this._updateVersion++,e.save(),t.applyToContext(e);for(var n=this._children,s=new T({offset:new V(0,0),pixelRatio:r,viewMatrix:t.isIdentity()?null:t,matrices:[new Ce],updateMatrix:!0}),u=0,o=n.length;u<o;u++)n[u].draw(e,s);if(e.restore(),this._selectionCount>0){e.save(),e.strokeWidth=1;var h=this._selectionItems,l=this._scope.settings.handleSize,f=this._updateVersion;for(var _ in h)h[_]._drawSelection(e,t,l,h,f);e.restore()}}}),I=T.extend(ne,{statics:{extend:function e(t){return t._serializeFields&&(t._serializeFields=T.set({},this.prototype._serializeFields,t._serializeFields)),e.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new Ce,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var e=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return T.each(e,function(t){this._events[t]={install:function(r){this.getView()._countItemEvent(r,1)},uninstall:function(r){this.getView()._countItemEvent(r,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:e}})},{initialize:function(){},_initialize:function(e,t){var r=e&&T.isPlainObject(e),n=r&&e.internal===!0,s=this._matrix=new Ce,u=r&&e.project||Ve.project,o=Ve.settings;return this._id=n?null:qe.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&o.applyMatrix,t&&s.translate(t),s._owner=this,this._style=new fi(u._currentStyle,this,u),n||r&&e.insert==!1||!o.insertItems&&!(r&&e.insert==!0)?this._setProject(u):(r&&e.parent||u)._insertItem($,this,!0),r&&e!==I.NO_INSERT&&e!==I.INSERT&&this.set(e,{internal:!0,insert:!0,project:!0,parent:!0}),r},_serialize:function(e,t){var r={},n=this;function s(u){for(var o in u){var h=n[o];T.equals(h,o==="leading"?u.fontSize*1.2:u[o])||(r[o]=T.serialize(h,e,o!=="data",t))}}return s(this._serializeFields),this instanceof He||s(this._style._defaults),[this._class,r]},_changed:function(e){var t=this._symbol,r=this._parent||t,n=this._project;e&8&&(this._bounds=this._position=this._decomposed=$),e&16&&(this._globalMatrix=$),r&&e&72&&I._clearBoundsCache(r),e&2&&I._clearBoundsCache(this),n&&n._changed(e,this),t&&t._changed(e)},getId:function(){return this._id},getName:function(){return this._name},setName:function(e){if(this._name&&this._removeNamed(),e===+e+"")throw new Error("Names consisting only of numbers are not supported.");var t=this._getOwner();if(e&&t){var r=t._children,n=t._namedChildren;(n[e]=n[e]||[]).push(this),e in r||(r[e]=this)}this._name=e||$,this._changed(256)},getStyle:function(){return this._style},setStyle:function(e){this.getStyle().set(e)}},T.each(["locked","visible","blendMode","opacity","guide"],function(e){var t=T.capitalize(e),r="_"+e,n={locked:256,visible:265};this["get"+t]=function(){return this[r]},this["set"+t]=function(s){s!=this[r]&&(this[r]=s,this._changed(n[e]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(e){if(e!==this._selection){this._selection=e;var t=this._project;t&&(t._updateSelection(this),this._changed(257))}},_changeSelection:function(e,t){var r=this._selection;this.setSelection(t?r|e:r&~e)},isSelected:function(){if(this._selectChildren){for(var e=this._children,t=0,r=e.length;t<r;t++)if(e[t].isSelected())return!0}return!!(this._selection&1)},setSelected:function(e){if(this._selectChildren)for(var t=this._children,r=0,n=t.length;r<n;r++)t[r].setSelected(e);this._changeSelection(1,e)},isFullySelected:function(){var e=this._children,t=!!(this._selection&1);if(e&&t){for(var r=0,n=e.length;r<n;r++)if(!e[r].isFullySelected())return!1;return!0}return t},setFullySelected:function(e){var t=this._children;if(t)for(var r=0,n=t.length;r<n;r++)t[r].setFullySelected(e);this._changeSelection(1,e)},isClipMask:function(){return this._clipMask},setClipMask:function(e){this._clipMask!=(e=!!e)&&(this._clipMask=e,e&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(e){this._data=e},getPosition:function(e){var t=e?V:xe,r=this._position||(this._position=this._getPositionFromBounds());return new t(r.x,r.y,this,"setPosition")},setPosition:function(){this.translate(V.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(e){return this._pivot?this._matrix._transformPoint(this._pivot):(e||this.getBounds()).getCenter(!0)},getPivot:function(){var e=this._pivot;return e?new xe(e.x,e.y,this,"setPivot"):null},setPivot:function(){this._pivot=V.read(arguments,0,{clone:!0,readNull:!0}),this._position=$}},T.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(e,t){this[t]=function(r){return this.getBounds(r,e)}},{beans:!0,getBounds:function(e,t){var r=t||e instanceof Ce,n=T.set({},r?t:e,this._boundsOptions);(!n.stroke||this.getStrokeScaling())&&(n.cacheItem=this);var s=this._getCachedBounds(r&&e,n).rect;return arguments.length?s:new Je(s.x,s.y,s.width,s.height,this,"setBounds")},setBounds:function(){var e=oe.read(arguments),t=this.getBounds(),r=this._matrix,n=new Ce,s=e.getCenter();n.translate(s),(e.width!=t.width||e.height!=t.height)&&(r.isInvertible()||(r.set(r._backup||new Ce().translate(r.getTranslation())),t=this.getBounds()),n.scale(t.width!==0?e.width/t.width:0,t.height!==0?e.height/t.height:0)),s=t.getCenter(),n.translate(-s.x,-s.y),this.transform(n)},_getBounds:function(e,t){var r=this._children;return!r||!r.length?new oe:(I._updateBoundsCache(this,t.cacheItem),I._getBounds(r,e,t))},_getBoundsCacheKey:function(e,t){return[e.stroke?1:0,e.handle?1:0,t?1:0].join("")},_getCachedBounds:function(e,t,r){e=e&&e._orNullIfIdentity();var n=t.internal&&!r,s=t.cacheItem,u=n?null:this._matrix._orNullIfIdentity(),o=s&&(!e||e.equals(u))&&this._getBoundsCacheKey(t,n),h=this._bounds;if(I._updateBoundsCache(this._parent||this._symbol,s),o&&h&&o in h){var l=h[o];return{rect:l.rect.clone(),nonscaling:l.nonscaling}}var f=this._getBounds(e||u,t),_=f.rect||f,m=this._style,p=f.nonscaling||m.hasStroke()&&!m.getStrokeScaling();if(o){h||(this._bounds=h={});var l=h[o]={rect:_.clone(),nonscaling:p,internal:n}}return{rect:_,nonscaling:p}},_getStrokeMatrix:function(e,t){var r=this.getStrokeScaling()?null:t&&t.internal?this:this._parent||this._symbol&&this._symbol._item,n=r?r.getViewMatrix().invert():e;return n&&n._shiftless()},statics:{_updateBoundsCache:function(e,t){if(e&&t){var r=t._id,n=e._boundsCache=e._boundsCache||{ids:{},list:[]};n.ids[r]||(n.list.push(t),n.ids[r]=t)}},_clearBoundsCache:function(e){var t=e._boundsCache;if(t){e._bounds=e._position=e._boundsCache=$;for(var r=0,n=t.list,s=n.length;r<s;r++){var u=n[r];u!==e&&(u._bounds=u._position=$,u._boundsCache&&I._clearBoundsCache(u))}}},_getBounds:function(e,t,r){var n=1/0,s=-n,u=n,o=s,h=!1;r=r||{};for(var l=0,f=e.length;l<f;l++){var _=e[l];if(_._visible&&!_.isEmpty(!0)){var m=_._getCachedBounds(t&&t.appended(_._matrix),r,!0),p=m.rect;n=Math.min(p.x,n),u=Math.min(p.y,u),s=Math.max(p.x+p.width,s),o=Math.max(p.y+p.height,o),m.nonscaling&&(h=!0)}}return{rect:isFinite(n)?new oe(n,u,s-n,o-u):new oe,nonscaling:h}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var e=this._decompose();return e?e.rotation:0},setRotation:function(e){var t=this.getRotation();if(t!=null&&e!=null){var r=this._decomposed;this.rotate(e-t),r&&(r.rotation=e,this._decomposed=r)}},getScaling:function(){var e=this._decompose(),t=e&&e.scaling;return new xe(t?t.x:1,t?t.y:1,this,"setScaling")},setScaling:function(){var e=this.getScaling(),t=V.read(arguments,0,{clone:!0,readNull:!0});if(e&&t&&!e.equals(t)){var r=this.getRotation(),n=this._decomposed,s=new Ce,u=te.isZero;if(u(e.x)||u(e.y))s.translate(n.translation),r&&s.rotate(r),s.scale(t.x,t.y),this._matrix.set(s);else{var o=this.getPosition(!0);s.translate(o),r&&s.rotate(r),s.scale(t.x/e.x,t.y/e.y),r&&s.rotate(-r),s.translate(o.negate()),this.transform(s)}n&&(n.scaling=t,this._decomposed=n)}},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.set.apply(e,arguments)},getGlobalMatrix:function(e){var t=this._globalMatrix;if(t)for(var r=this._parent,n=[];r;){if(!r._globalMatrix){t=null;for(var s=0,u=n.length;s<u;s++)n[s]._globalMatrix=null;break}n.push(r),r=r._parent}if(!t){t=this._globalMatrix=this._matrix.clone();var r=this._parent;r&&t.prepend(r.getGlobalMatrix(!0))}return e?t:t.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(e){(this._applyMatrix=this._canApplyMatrix&&!!e)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(e,t){if(this._project!==e){this._project&&this._installEvents(!1),this._project=e;for(var r=this._children,n=0,s=r&&r.length;n<s;n++)r[n]._setProject(e);t=!0}t&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function e(t){e.base.call(this,t);for(var r=this._children,n=0,s=r&&r.length;n<s;n++)r[n]._installEvents(t)},getLayer:function(){for(var e=this;e=e._parent;)if(e instanceof et)return e;return null},getParent:function(){return this._parent},setParent:function(e){return e.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(e){this.removeChildren(),this.addChildren(e)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var e=this._getOwner();return e&&e._children[this._index+1]||null},getPreviousSibling:function(){var e=this._getOwner();return e&&e._children[this._index-1]||null},getIndex:function(){return this._index},setIndex:function(e){var t=this._parent,r=t&&t._children;r&&t.insertChildren(e in r?e:$,[this])},equals:function(e){return e===this||e&&this._class===e._class&&this._style.equals(e._style)&&this._matrix.equals(e._matrix)&&this._locked===e._locked&&this._visible===e._visible&&this._blendMode===e._blendMode&&this._opacity===e._opacity&&this._clipMask===e._clipMask&&this._guide===e._guide&&this._equals(e)||!1},_equals:function(e){return T.equals(this._children,e._children)},clone:function(e){var t=new this.constructor(I.NO_INSERT),r=this._children,n=T.pick(e?e.insert:$,e===$||e===!0),s=T.pick(e?e.deep:$,!0);r&&t.copyAttributes(this),(!r||s)&&t.copyContent(this),r||t.copyAttributes(this),n&&t.insertAbove(this);var u=this._name,o=this._parent;if(u&&o){for(var r=o._children,h=u,l=1;r[u];)u=h+" "+l++;u!==h&&t.setName(u)}return t},copyContent:function(e){for(var t=e._children,r=0,n=t&&t.length;r<n;r++)this.addChild(t[r].clone(!1),!0)},copyAttributes:function(e,t){this.setStyle(e._style);for(var r=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],n=0,s=r.length;n<s;n++){var u=r[n];e.hasOwnProperty(u)&&(this[u]=e[u])}t||this._matrix.set(e._matrix,!0),this.setApplyMatrix(e._applyMatrix),this.setPivot(e._pivot),this.setSelection(e._selection);var o=e._data,h=e._name;this._data=o?T.clone(o):null,h&&this.setName(h)},rasterize:function(e,t){var r,n,s;T.isPlainObject(e)?(r=e.resolution,n=e.insert,s=e.raster):(r=e,n=t),s||(s=new dt(I.NO_INSERT));var u=this.getStrokeBounds(),o=(r||this.getView().getResolution())/72,h=u.getTopLeft().floor(),l=u.getBottomRight().ceil(),f=new ae(l.subtract(h)),_=f.multiply(o);if(s.setSize(_,!0),!_.isZero()){var m=s.getContext(!0),p=new Ce().scale(o).translate(h.negate());m.save(),p.applyToContext(m),this.draw(m,new T({matrices:[p]})),m.restore()}return s._matrix.set(new Ce().translate(h.add(f.divide(2))).scale(1/o)),(n===$||n)&&s.insertAbove(this),s},contains:function(){var e=this._matrix;return e.isInvertible()&&!!this._contains(e._inverseTransform(V.read(arguments)))},_contains:function(e){var t=this._children;if(t){for(var r=t.length-1;r>=0;r--)if(t[r].contains(e))return!0;return!1}return e.isInside(this.getInternalBounds())},isInside:function(){return oe.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new Oe.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(e,t){return e instanceof I?this._asPathItem().getIntersections(e._asPathItem(),null,t,!0).length>0:!1}},new function(){function e(){var n=arguments;return this._hitTest(V.read(n),ct.getOptions(n))}function t(){var n=arguments,s=V.read(n),u=ct.getOptions(n),o=[];return this._hitTest(s,new T({all:o},u)),o}function r(n,s,u,o){var h=this._children;if(h)for(var l=h.length-1;l>=0;l--){var f=h[l],_=f!==o&&f._hitTest(n,s,u);if(_&&!s.all)return _}return null}return ke.inject({hitTest:e,hitTestAll:t,_hitTest:r}),{hitTest:e,hitTestAll:t,_hitTestChildren:r}},{_hitTest:function(e,t,r){if(this._locked||!this._visible||this._guide&&!t.guides||this.isEmpty())return null;var n=this._matrix,s=r?r.appended(n):this.getGlobalMatrix().prepend(this.getView()._matrix),u=Math.max(t.tolerance,1e-12),o=t._tolerancePadding=new ae(Oe._getStrokePadding(u,n._shiftless().invert()));if(e=n._inverseTransform(e),!e||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(o.multiply(2))._containsPoint(e))return null;var h=!(t.guides&&!this._guide||t.selected&&!this.isSelected()||t.type&&t.type!==T.hyphenate(this._class)||t.class&&!(this instanceof t.class)),l=t.match,f=this,_,m;function p(c){return c&&l&&!l(c)&&(c=null),c&&t.all&&t.all.push(c),c}function d(c,x){var k=x?_["get"+x]():f.getPosition();if(e.subtract(k).divide(o).length<=1)return new ct(c,f,{name:x?T.hyphenate(x):c,point:k})}var C=t.position,b=t.center,S=t.bounds;if(h&&this._parent&&(C||b||S)){if((b||S)&&(_=this.getInternalBounds()),m=C&&d("position")||b&&d("center","Center"),!m&&S)for(var g=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],y=0;y<8&&!m;y++)m=d("bounds",g[y]);m=p(m)}return m||(m=this._hitTestChildren(e,t,s)||h&&p(this._hitTestSelf(e,t,s,this.getStrokeScaling()?null:s._shiftless().invert()))||null),m&&m.point&&(m.point=n.transform(m.point)),m},_hitTestSelf:function(e,t){if(t.fill&&this.hasFill()&&this._contains(e))return new ct("fill",this)},matches:function(e,t){function r(o,h){for(var l in o)if(o.hasOwnProperty(l)){var f=o[l],_=h[l];if(T.isPlainObject(f)&&T.isPlainObject(_)){if(!r(f,_))return!1}else if(!T.equals(f,_))return!1}return!0}var n=typeof e;if(n==="object"){for(var s in e)if(e.hasOwnProperty(s)&&!this.matches(s,e[s]))return!1;return!0}else{if(n==="function")return e(this);if(e==="match")return t(this);var u=/^(empty|editable)$/.test(e)?this["is"+T.capitalize(e)]():e==="type"?T.hyphenate(this._class):this[e];if(e==="class"){if(typeof t=="function")return this instanceof t;u=this._class}if(typeof t=="function")return!!t(u);if(t){if(t.test)return t.test(u);if(T.isPlainObject(t))return r(t,u)}return T.equals(u,t)}},getItems:function(e){return I._getItems(this,e,this._matrix)},getItem:function(e){return I._getItems(this,e,this._matrix,null,!0)[0]||null},statics:{_getItems:function e(t,r,n,s,u){if(!s){var o=typeof r=="object"&&r,h=o&&o.overlapping,l=o&&o.inside,f=h||l,p=f&&oe.read([f]);s={items:[],recursive:o&&o.recursive!==!1,inside:!!l,overlapping:!!h,rect:p,path:h&&new Oe.Rectangle({rectangle:p,insert:!1})},o&&(r=T.filter({},r,{recursive:!0,inside:!0,overlapping:!0}))}var _=t._children,m=s.items,p=s.rect;n=p&&(n||new Ce);for(var d=0,C=_&&_.length;d<C;d++){var b=_[d],S=n&&n.appended(b._matrix),g=!0;if(p){var f=b.getBounds(S);if(!p.intersects(f))continue;p.contains(f)||s.overlapping&&(f.contains(p)||s.path.intersects(b,S))||(g=!1)}if(g&&b.matches(r)&&(m.push(b),u)||(s.recursive!==!1&&e(b,r,S,s,u),u&&m.length>0))break}return m}}},{importJSON:function(e){var t=T.importJSON(e,this);return t!==this?this.addChild(t):t},addChild:function(e){return this.insertChild($,e)},insertChild:function(e,t){var r=t?this.insertChildren(e,[t]):null;return r&&r[0]},addChildren:function(e){return this.insertChildren(this._children.length,e)},insertChildren:function(e,t){var r=this._children;if(r&&t&&t.length>0){t=T.slice(t);for(var n={},s=t.length-1;s>=0;s--){var u=t[s],o=u&&u._id;!u||n[o]?t.splice(s,1):(u._remove(!1,!0),n[o]=!0)}T.splice(r,t,e,0);for(var h=this._project,l=h._changes,s=0,f=t.length;s<f;s++){var u=t[s],_=u._name;u._parent=this,u._setProject(h,!0),_&&u.setName(_),l&&u._changed(5)}this._changed(11)}else t=null;return t},_insertItem:"#insertChild",_insertAt:function(e,t){var r=e&&e._getOwner(),n=e!==this&&r?this:null;return n&&(n._remove(!1,!0),r._insertItem(e._index+t,n)),n},insertAbove:function(e){return this._insertAt(e,1)},insertBelow:function(e){return this._insertAt(e,0)},sendToBack:function(){var e=this._getOwner();return e?e._insertItem(0,this):null},bringToFront:function(){var e=this._getOwner();return e?e._insertItem($,this):null},appendTop:"#addChild",appendBottom:function(e){return this.insertChild(0,e)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(e){return e._insertItem($,this)},copyTo:function(e){return this.clone(!1).addTo(e)},reduce:function(e){var t=this._children;if(t&&t.length===1){var r=t[0].reduce(e);return this._parent?(r.insertAbove(this),this.remove()):r.remove(),r}return this},_removeNamed:function(){var e=this._getOwner();if(e){var t=e._children,r=e._namedChildren,n=this._name,s=r[n],u=s?s.indexOf(this):-1;u!==-1&&(t[n]==this&&delete t[n],s.splice(u,1),s.length?t[n]=s[0]:delete r[n])}},_remove:function(e,t){var r=this._getOwner(),n=this._project,s=this._index;return this._style&&this._style._dispose(),r?(this._name&&this._removeNamed(),s!=null&&(n._activeLayer===this&&(n._activeLayer=this.getNextSibling()||this.getPreviousSibling()),T.splice(r._children,null,s,1)),this._installEvents(!1),e&&n._changes&&this._changed(5),t&&r._changed(11,this),this._parent=null,!0):!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(e){var t=e&&e.insertBelow(this);return t&&this.remove(),t},removeChildren:function(e,t){if(!this._children)return null;e=e||0,t=T.pick(t,this._children.length);for(var r=T.splice(this._children,null,e,t-e),n=r.length-1;n>=0;n--)r[n]._remove(!0,!1);return r.length>0&&this._changed(11),r},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var e=0,t=this._children.length;e<t;e++)this._children[e]._index=e;this._changed(11)}},isEmpty:function(e){var t=this._children,r=t?t.length:0;if(e){for(var n=0;n<r;n++)if(!t[n].isEmpty(e))return!1;return!0}return!r},isEditable:function(){for(var e=this;e;){if(!e._visible||e._locked)return!1;e=e._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(e){function t(o){var h=[];do h.unshift(o);while(o=o._parent);return h}for(var r=t(this),n=t(e),s=0,u=Math.min(r.length,n.length);s<u;s++)if(r[s]!=n[s])return r[s]._index<n[s]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(e){return this._getOrder(e)===-1},isBelow:function(e){return this._getOrder(e)===1},isParent:function(e){return this._parent===e},isChild:function(e){return e&&e._parent===this},isDescendant:function(e){for(var t=this;t=t._parent;)if(t===e)return!0;return!1},isAncestor:function(e){return e?e.isDescendant(this):!1},isSibling:function(e){return this._parent===e._parent},isGroupedWith:function(e){for(var t=this._parent;t;){if(t._parent&&/^(Group|Layer|CompoundPath)$/.test(t._class)&&e.isDescendant(t))return!0;t=t._parent}return!1}},T.each(["rotate","scale","shear","skew"],function(e){var t=e==="rotate";this[e]=function(){var r=arguments,n=(t?T:V).read(r),s=V.read(r,0,{readNull:!0});return this.transform(new Ce()[e](n,s||this.getPosition(!0)))}},{translate:function(){var e=new Ce;return this.transform(e.translate.apply(e,arguments))},transform:function(e,t,r){var n=this._matrix,s=e&&!e.isIdentity(),u=r&&this._canApplyMatrix||this._applyMatrix&&(s||!n.isIdentity()||t&&this._children);if(!s&&!u)return this;if(s){!e.isInvertible()&&n.isInvertible()&&(n._backup=n.getValues()),n.prepend(e,!0);var o=this._style,h=o.getFillColor(!0),l=o.getStrokeColor(!0);h&&h.transform(e),l&&l.transform(e)}if(u&&(u=this._transformContent(n,t,r))){var f=this._pivot;f&&n._transformPoint(f,f,!0),n.reset(!0),r&&this._canApplyMatrix&&(this._applyMatrix=!0)}var _=this._bounds,m=this._position;(s||u)&&this._changed(25);var p=s&&_&&e.decompose();if(p&&p.skewing.isZero()&&p.rotation%90===0){for(var d in _){var C=_[d];if(C.nonscaling)delete _[d];else if(u||!C.internal){var b=C.rect;e._transformBounds(b,b)}}this._bounds=_;var S=_[this._getBoundsCacheKey(this._boundsOptions||{})];S&&(this._position=this._getPositionFromBounds(S.rect))}else s&&m&&this._pivot&&(this._position=e._transformPoint(m,m));return this},_transformContent:function(e,t,r){var n=this._children;if(n){for(var s=0,u=n.length;s<u;s++)n[s].transform(e,t,r);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(V.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(V.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(V.read(arguments))},localToParent:function(){return this._matrix._transformPoint(V.read(arguments))},fitBounds:function(e,t){e=oe.read(arguments);var r=this.getBounds(),n=r.height/r.width,s=e.height/e.width,u=(t?n>s:n<s)?e.width/r.width:e.height/r.height,o=new oe(new V,new ae(r.width*u,r.height*u));o.setCenter(e.getCenter()),this.setBounds(o)}}),{_setStyles:function(e,t,r){var n=this._style,s=this._matrix;if(n.hasFill()&&(e.fillStyle=n.getFillColor().toCanvasStyle(e,s)),n.hasStroke()){e.strokeStyle=n.getStrokeColor().toCanvasStyle(e,s),e.lineWidth=n.getStrokeWidth();var u=n.getStrokeJoin(),o=n.getStrokeCap(),h=n.getMiterLimit();if(u&&(e.lineJoin=u),o&&(e.lineCap=o),h&&(e.miterLimit=h),Ve.support.nativeDash){var l=n.getDashArray(),f=n.getDashOffset();l&&l.length&&("setLineDash"in e?(e.setLineDash(l),e.lineDashOffset=f):(e.mozDash=l,e.mozDashOffset=f))}}if(n.hasShadow()){var _=t.pixelRatio||1,m=r._shiftless().prepend(new Ce().scale(_,_)),p=m.transform(new V(n.getShadowBlur(),0)),d=m.transform(this.getShadowOffset());e.shadowColor=n.getShadowColor().toCanvasStyle(e),e.shadowBlur=p.getLength(),e.shadowOffsetX=d.x,e.shadowOffsetY=d.y}},draw:function(e,t,r){if(this._updateVersion=this._project._updateVersion,!(!this._visible||this._opacity===0)){var n=t.matrices,s=t.viewMatrix,u=this._matrix,o=n[n.length-1].appended(u);if(o.isInvertible()){s=s?s.appended(o):o,n.push(o),t.updateMatrix&&(this._globalMatrix=o);var h=this._blendMode,l=te.clamp(this._opacity,0,1),f=h==="normal",_=pt.nativeModes[h],m=f&&l===1||t.dontStart||t.clip||(_||f&&l<1)&&this._canComposite(),p=t.pixelRatio||1,d,C,b;if(!m){var S=this.getStrokeBounds(s);if(!S.width||!S.height){n.pop();return}b=t.offset,C=t.offset=S.getTopLeft().floor(),d=e,e=Ie.getContext(S.getSize().ceil().add(1).multiply(p)),p!==1&&e.scale(p,p)}e.save();var g=r?r.appended(u):this._canScaleStroke&&!this.getStrokeScaling(!0)&&s,y=!m&&t.clipItem,c=!g||y;if(m?(e.globalAlpha=l,_&&(e.globalCompositeOperation=h)):c&&e.translate(-C.x,-C.y),c&&(m?u:s).applyToContext(e),y&&t.clipItem.draw(e,t.extend({clip:!0})),g){e.setTransform(p,0,0,p,0,0);var x=t.offset;x&&e.translate(-x.x,-x.y)}this._draw(e,t,s,g),e.restore(),n.pop(),t.clip&&!t.dontFinish&&e.clip(this.getFillRule()),m||(pt.process(h,e,d,l,C.subtract(b).multiply(p)),Ie.release(e),t.offset=b)}}},_isUpdated:function(e){var t=this._parent;if(t instanceof ht)return t._isUpdated(e);var r=this._updateVersion===e;return!r&&t&&t._visible&&t._isUpdated(e)&&(this._updateVersion=e,r=!0),r},_drawSelection:function(e,t,r,n,s){var u=this._selection,o=u&1,h=u&2||o&&this._selectBounds,l=u&4;if(this._drawSelected||(o=!1),(o||h||l)&&this._isUpdated(s)){var f,_=this.getSelectedColor(!0)||(f=this.getLayer())&&f.getSelectedColor(!0),m=t.appended(this.getGlobalMatrix(!0)),p=r/2;if(e.strokeStyle=e.fillStyle=_?_.toCanvasStyle(e):"#009dec",o&&this._drawSelected(e,m,n),l){var d=this.getPosition(!0),C=this._parent,b=C?C.localToGlobal(d):d,S=b.x,g=b.y;e.beginPath(),e.arc(S,g,p,0,Math.PI*2,!0),e.stroke();for(var y=[[0,-1],[1,0],[0,1],[-1,0]],c=p,x=r+1,k=0;k<4;k++){var A=y[k],w=A[0],E=A[1];e.moveTo(S+w*c,g+E*c),e.lineTo(S+w*x,g+E*x),e.stroke()}}if(h){var O=m._transformCorners(this.getInternalBounds());e.beginPath();for(var k=0;k<8;k++)e[k?"lineTo":"moveTo"](O[k],O[++k]);e.closePath(),e.stroke();for(var k=0;k<8;k++)e.fillRect(O[k]-p,O[++k]-p,r,r)}}},_canComposite:function(){return!1}},T.each(["down","drag","up","move"],function(e){this["removeOn"+T.capitalize(e)]=function(){var t={};return t[e]=!0,this.removeOn(t)}},{removeOn:function(e){for(var t in e)if(e[t]){var r="mouse"+t,n=this._project,s=n._removeSets=n._removeSets||{};s[r]=s[r]||{},s[r][this._id]=this}return this}}),{tween:function(e,t,r){r||(r=t,t=e,e=null,r||(r=t,t=null));var n=r&&r.easing,s=r&&r.start,u=r!=null&&(typeof r=="number"?r:r.duration),o=new ni(this,e,t,u,n,s);function h(l){o._handleFrame(l.time*1e3),o.running||this.off("frame",h)}return u&&this.on("frame",h),o},tweenTo:function(e,t){return this.tween(null,e,t)},tweenFrom:function(e,t){return this.tween(e,null,t)}}),He=I.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||this.addChildren(Array.isArray(t)?t:arguments)},_changed:function e(t){e.base.call(this,t),t&2050&&(this._clipItem=$)},_getClipItem:function(){var e=this._clipItem;if(e===$){e=null;for(var t=this._children,r=0,n=t.length;r<n;r++)if(t[r]._clipMask){e=t[r];break}this._clipItem=e}return e},isClipped:function(){return!!this._getClipItem()},setClipped:function(e){var t=this.getFirstChild();t&&t.setClipMask(e)},_getBounds:function e(t,r){var n=this._getClipItem();return n?n._getCachedBounds(n._matrix.prepended(t),T.set({},r,{stroke:!1})):e.base.call(this,t,r)},_hitTestChildren:function e(t,r,n){var s=this._getClipItem();return(!s||s.contains(t))&&e.base.call(this,t,r,n,s)},_draw:function(e,t){var r=t.clip,n=!r&&this._getClipItem();t=t.extend({clipItem:n,clip:!1}),r?(e.beginPath(),t.dontStart=t.dontFinish=!0):n&&n.draw(e,t.extend({clip:!0}));for(var s=this._children,u=0,o=s.length;u<o;u++){var h=s[u];h!==n&&h.draw(e,t)}}}),et=He.extend({_class:"Layer",initialize:function(){He.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function e(){return this._parent?e.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),Fe=I.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(t,r){this._initialize(t,r)},_equals:function(e){return this._type===e._type&&this._size.equals(e._size)&&T.equals(this._radius,e._radius)},copyContent:function(e){this.setType(e._type),this.setSize(e._size),this.setRadius(e._radius)},getType:function(){return this._type},setType:function(e){this._type=e},getShape:"#getType",setShape:"#setType",getSize:function(){var e=this._size;return new ye(e.width,e.height,this,"setSize")},setSize:function(){var e=ae.read(arguments);if(!this._size)this._size=e.clone();else if(!this._size.equals(e)){var t=this._type,r=e.width,n=e.height;t==="rectangle"?this._radius.set(ae.min(this._radius,e.divide(2).abs())):t==="circle"?(r=n=(r+n)/2,this._radius=r/2):t==="ellipse"&&this._radius._set(r/2,n/2),this._size._set(r,n),this._changed(9)}},getRadius:function(){var e=this._radius;return this._type==="circle"?e:new ye(e.width,e.height,this,"setRadius")},setRadius:function(e){var t=this._type;if(t==="circle"){if(e===this._radius)return;var r=e*2;this._radius=e,this._size._set(r,r)}else if(e=ae.read(arguments),!this._radius)this._radius=e.clone();else{if(this._radius.equals(e))return;if(this._radius.set(e),t==="rectangle"){var r=ae.max(this._size,e.multiply(2));this._size.set(r)}else t==="ellipse"&&this._size._set(e.width*2,e.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(e){var t=new Oe[T.capitalize(this._type)]({center:new V,size:this._size,radius:this._radius,insert:!1});return t.copyAttributes(this),Ve.settings.applyMatrix&&t.setApplyMatrix(!0),(e===$||e)&&t.insertAbove(this),t},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(e,t,r,n){var s=this._style,u=s.hasFill(),o=s.hasStroke(),h=t.dontFinish||t.clip,l=!n;if(u||o||h){var f=this._type,_=this._radius,m=f==="circle";if(t.dontStart||e.beginPath(),l&&m)e.arc(0,0,_,0,Math.PI*2,!0);else{var p=m?_:_.width,d=m?_:_.height,C=this._size,b=C.width,S=C.height;if(l&&f==="rectangle"&&p===0&&d===0)e.rect(-b/2,-S/2,b,S);else{var g=b/2,y=S/2,c=1-.5522847498307936,x=p*c,k=d*c,A=[-g,-y+d,-g,-y+k,-g+x,-y,-g+p,-y,g-p,-y,g-x,-y,g,-y+k,g,-y+d,g,y-d,g,y-k,g-x,y,g-p,y,-g+p,y,-g+x,y,-g,y-k,-g,y-d];n&&n.transform(A,A,32),e.moveTo(A[0],A[1]),e.bezierCurveTo(A[2],A[3],A[4],A[5],A[6],A[7]),g!==p&&e.lineTo(A[8],A[9]),e.bezierCurveTo(A[10],A[11],A[12],A[13],A[14],A[15]),y!==d&&e.lineTo(A[16],A[17]),e.bezierCurveTo(A[18],A[19],A[20],A[21],A[22],A[23]),g!==p&&e.lineTo(A[24],A[25]),e.bezierCurveTo(A[26],A[27],A[28],A[29],A[30],A[31])}}e.closePath()}!h&&(u||o)&&(this._setStyles(e,t,r),u&&(e.fill(s.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),o&&e.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(e,t){var r=new oe(this._size).setCenter(0,0),n=this._style,s=t.stroke&&n.hasStroke()&&n.getStrokeWidth();return e&&(r=e._transformBounds(r)),s?r.expand(Oe._getStrokePadding(s,this._getStrokeMatrix(e,t))):r}},new function(){function e(r,n,s){var u=r._radius;if(!u.isZero())for(var o=r._size.divide(2),h=1;h<=4;h++){var l=new V(h>1&&h<4?-1:1,h>2?-1:1),f=l.multiply(o),_=f.subtract(l.multiply(u)),m=new oe(s?f.add(l.multiply(s)):f,_);if(m.contains(n))return{point:_,quadrant:h}}}function t(r,n,s,u){var o=r.divide(n);return(!u||o.isInQuadrant(u))&&o.subtract(o.normalize()).multiply(n).divide(s).length<=1}return{_contains:function r(n){if(this._type==="rectangle"){var s=e(this,n);return s?n.subtract(s.point).divide(this._radius).getLength()<=1:r.base.call(this,n)}else return n.divide(this.size).getLength()<=.5},_hitTestSelf:function r(n,s,u,o){var h=!1,l=this._style,f=s.stroke&&l.hasStroke(),_=s.fill&&l.hasFill();if(f||_){var m=this._type,p=this._radius,d=f?l.getStrokeWidth()/2:0,C=s._tolerancePadding.add(Oe._getStrokePadding(d,!l.getStrokeScaling()&&o));if(m==="rectangle"){var b=C.multiply(2),S=e(this,n,b);if(S)h=t(n.subtract(S.point),p,C,S.quadrant);else{var g=new oe(this._size).setCenter(0,0),y=g.expand(b),c=g.expand(b.negate());h=y._containsPoint(n)&&!c._containsPoint(n)}}else h=t(n,p,C)}return h?new ct(f?"stroke":"fill",this):r.base.apply(this,arguments)}}},{statics:new function(){function e(t,r,n,s,u){var o=T.create(Fe.prototype);return o._type=t,o._size=n,o._radius=s,o._initialize(T.getNamed(u),r),o}return{Circle:function(){var t=arguments,r=V.readNamed(t,"center"),n=T.readNamed(t,"radius");return e("circle",r,new ae(n*2),n,t)},Rectangle:function(){var t=arguments,r=oe.readNamed(t,"rectangle"),n=ae.min(ae.readNamed(t,"radius"),r.getSize(!0).divide(2));return e("rectangle",r.getCenter(!0),r.getSize(!0),n,t)},Ellipse:function(){var t=arguments,r=Fe._readEllipse(t),n=r.radius;return e("ellipse",r.center,n.multiply(2),n,t)},_readEllipse:function(t){var r,n;if(T.hasNamed(t,"radius"))r=V.readNamed(t,"center"),n=ae.readNamed(t,"radius");else{var s=oe.readNamed(t,"rectangle");r=s.getCenter(!0),n=s.getSize(!0).divide(2)}return{center:r,radius:n}}}}}),dt=I.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(t,r){if(!this._initialize(t,r!==$&&V.read(arguments))){var n,s=typeof t,u=s==="string"?Q.getElementById(t):s==="object"?t:null;if(u&&u!==I.NO_INSERT){if(u.getContext||u.naturalHeight!=null)n=u;else if(u){var o=ae.read(arguments);o.isZero()||(n=Ie.getCanvas(o))}}n?this.setImage(n):this.setSource(t)}this._size||(this._size=new ae,this._loaded=!1)},_equals:function(e){return this.getSource()===e.getSource()},copyContent:function(e){var t=e._image,r=e._canvas;if(t)this._setImage(t);else if(r){var n=Ie.getCanvas(e._size);n.getContext("2d").drawImage(r,0,0),this._setImage(n)}this._crossOrigin=e._crossOrigin},getSize:function(){var e=this._size;return new ye(e?e.width:0,e?e.height:0,this,"setSize")},setSize:function(e,t){var r=ae.read(arguments);if(r.equals(this._size))t&&this.clear();else if(r.width>0&&r.height>0){var n=!t&&this.getElement();this._setImage(Ie.getCanvas(r)),n&&this.getContext(!0).drawImage(n,0,0,r.width,r.height)}else this._canvas&&Ie.release(this._canvas),this._size=r.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(e){this.setSize(e,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(e){this.setSize(this.getWidth(),e)},getLoaded:function(){return this._loaded},isEmpty:function(){var e=this._size;return!e||e.width===0&&e.height===0},getResolution:function(){var e=this._matrix,t=new V(0,0).transform(e),r=new V(1,0).transform(e).subtract(t),n=new V(0,1).transform(e).subtract(t);return new ae(72/r.getLength(),72/n.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(e){var t=this;function r(n){var s=t.getView(),u=n&&n.type||"load";s&&t.responds(u)&&(Ve=s._scope,t.emit(u,new Gt(n)))}this._setImage(e),this._loaded?setTimeout(r,0):e&&nt.add(e,{load:function(n){t._setImage(e),r(n)},error:r})},_setImage:function(e){this._canvas&&Ie.release(this._canvas),e&&e.getContext?(this._image=null,this._canvas=e,this._loaded=!0):(this._image=e,this._canvas=null,this._loaded=!!(e&&e.src&&e.complete)),this._size=new ae(e?e.naturalWidth||e.width:0,e?e.naturalHeight||e.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var e=Ie.getContext(this._size);try{this._image&&e.drawImage(this._image,0,0),this._canvas=e.canvas}catch{Ie.release(e)}}return this._canvas},setCanvas:"#setImage",getContext:function(e){return this._context||(this._context=this.getCanvas().getContext("2d")),e&&(this._image=null,this._changed(1025)),this._context},setContext:function(e){this._context=e},getSource:function(){var e=this._image;return e&&e.src||this.toDataURL()},setSource:function(e){var t=new ee.Image,r=this._crossOrigin;r&&(t.crossOrigin=r),e&&(t.src=e),this.setImage(t)},getCrossOrigin:function(){var e=this._image;return e&&e.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(e){this._crossOrigin=e;var t=this._image;t&&(t.crossOrigin=e)},getSmoothing:function(){return this._smoothing},setSmoothing:function(e){this._smoothing=typeof e=="string"?e:e?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var e=oe.read(arguments),t=Ie.getContext(e.getSize());return t.drawImage(this.getCanvas(),e.x,e.y,e.width,e.height,0,0,e.width,e.height),t.canvas},getSubRaster:function(){var e=oe.read(arguments),t=new dt(I.NO_INSERT);return t._setImage(this.getSubCanvas(e)),t.translate(e.getCenter().subtract(this.getSize().divide(2))),t._matrix.prepend(this._matrix),t.insertAbove(this),t},toDataURL:function(){var e=this._image,t=e&&e.src;if(/^data:/.test(t))return t;var r=this.getCanvas();return r?r.toDataURL.apply(r,arguments):null},drawImage:function(e){var t=V.read(arguments,1);this.getContext(!0).drawImage(e,t.x,t.y)},getAverageColor:function(e){var t,r;if(e?e instanceof It?(r=e,t=e.getBounds()):typeof e=="object"&&("width"in e?t=new oe(e):"x"in e&&(t=new oe(e.x-.5,e.y-.5,1,1))):t=this.getBounds(),!t)return null;var n=32,s=Math.min(t.width,n),u=Math.min(t.height,n),o=dt._sampleContext;o?o.clearRect(0,0,n+1,n+1):o=dt._sampleContext=Ie.getContext(new ae(n)),o.save();var h=new Ce().scale(s/t.width,u/t.height).translate(-t.x,-t.y);h.applyToContext(o),r&&r.draw(o,new T({clip:!0,matrices:[h]})),this._matrix.applyToContext(o);var l=this.getElement(),f=this._size;l&&o.drawImage(l,-f.width/2,-f.height/2),o.restore();for(var _=o.getImageData(.5,.5,Math.ceil(s),Math.ceil(u)).data,m=[0,0,0],p=0,d=0,C=_.length;d<C;d+=4){var b=_[d+3];p+=b,b/=255,m[0]+=_[d]*b,m[1]+=_[d+1]*b,m[2]+=_[d+2]*b}for(var d=0;d<3;d++)m[d]/=p;return p?Ze.read(m):null},getPixel:function(){var e=V.read(arguments),t=this.getContext().getImageData(e.x,e.y,1,1).data;return new Ze("rgb",[t[0]/255,t[1]/255,t[2]/255],t[3]/255)},setPixel:function(){var e=arguments,t=V.read(e),r=Ze.read(e),n=r._convert("rgb"),s=r._alpha,u=this.getContext(!0),o=u.createImageData(1,1),h=o.data;h[0]=n[0]*255,h[1]=n[1]*255,h[2]=n[2]*255,h[3]=s!=null?s*255:255,u.putImageData(o,t.x,t.y)},clear:function(){var e=this._size;this.getContext(!0).clearRect(0,0,e.width+1,e.height+1)},createImageData:function(){var e=ae.read(arguments);return this.getContext().createImageData(e.width,e.height)},getImageData:function(){var e=oe.read(arguments);return e.isEmpty()&&(e=new oe(this._size)),this.getContext().getImageData(e.x,e.y,e.width,e.height)},putImageData:function(e){var t=V.read(arguments,1);this.getContext(!0).putImageData(e,t.x,t.y)},setImageData:function(e){this.setSize(e),this.getContext(!0).putImageData(e,0,0)},_getBounds:function(e,t){var r=new oe(this._size).setCenter(0,0);return e?e._transformBounds(r):r},_hitTestSelf:function(e){if(this._contains(e)){var t=this;return new ct("pixel",t,{offset:e.add(t._size.divide(2)).round(),color:{get:function(){return t.getPixel(this.offset)}}})}},_draw:function(e,t,r){var n=this.getElement();if(n&&n.width>0&&n.height>0){e.globalAlpha=te.clamp(this._opacity,0,1),this._setStyles(e,t,r);var s=this._smoothing,u=s==="off";it.setPrefixed(e,u?"imageSmoothingEnabled":"imageSmoothingQuality",u?!1:s),e.drawImage(n,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),mt=I.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(t,r){this._initialize(t,r!==$&&V.read(arguments,1))||this.setDefinition(t instanceof tt?t:new tt(t))},_equals:function(e){return this._definition===e._definition},copyContent:function(e){this.setDefinition(e._definition)},getDefinition:function(){return this._definition},setDefinition:function(e){this._definition=e,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(e,t){var r=this._definition._item;return r._getCachedBounds(r._matrix.prepended(e),t)},_hitTestSelf:function(e,t,r){var n=t.extend({all:!1}),s=this._definition._item._hitTest(e,n,r);return s&&(s.item=this),s},_draw:function(e,t){this._definition._item.draw(e,t)}}),tt=T.extend({_class:"SymbolDefinition",initialize:function(t,r){this._id=qe.get(),this.project=Ve.project,t&&this.setItem(t,r)},_serialize:function(e,t){return t.add(this,function(){return T.serialize([this._class,this._item],e,!1,t)})},_changed:function(e){e&8&&I._clearBoundsCache(this),e&1&&this.project._changed(e)},getItem:function(){return this._item},setItem:function(e,t){e._symbol&&(e=e.clone()),this._item&&(this._item._symbol=null),this._item=e,e.remove(),e.setSelected(!1),t||e.setPosition(new V),e._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(e){return new mt(this,e)},clone:function(){return new tt(this._item.clone(!1))},equals:function(e){return e===this||e&&this._item.equals(e._item)||!1}}),ct=T.extend({_class:"HitResult",initialize:function(t,r,n){this.type=t,this.item=r,n&&this.inject(n)},statics:{getOptions:function(e){var t=e&&T.read(e);return new T({type:null,tolerance:Ve.settings.hitTolerance,fill:!t,stroke:!t,segments:!t,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},t)}}}),we=T.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(t,r,n,s,u,o){var h=arguments.length,l,f,_,m;h>0&&(t==null||typeof t=="object"?h===1&&t&&"point"in t?(l=t.point,f=t.handleIn,_=t.handleOut,m=t.selection):(l=t,f=r,_=n,m=s):(l=[t,r],f=n!==$?[n,s]:null,_=u!==$?[u,o]:null)),new Zt(l,this,"_point"),new Zt(f,this,"_handleIn"),new Zt(_,this,"_handleOut"),m&&this.setSelection(m)},_serialize:function(e,t){var r=this._point,n=this._selection,s=n||this.hasHandles()?[r,this._handleIn,this._handleOut]:r;return n&&s.push(n),T.serialize(s,e,!0,t)},_changed:function(e){var t=this._path;if(t){var r=t._curves,n=this._index,s;r&&((!e||e===this._point||e===this._handleIn)&&(s=n>0?r[n-1]:t._closed?r[r.length-1]:null)&&s._changed(),(!e||e===this._point||e===this._handleOut)&&(s=r[n])&&s._changed()),t._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(V.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(V.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(V.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var e=this._handleIn,t=this._handleOut;return!e.isZero()&&!t.isZero()&&e.isCollinear(t)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(e){var t=this._selection,r=this._path;this._selection=e=e||0,r&&e!==t&&(r._updateSelection(this,t,e),r._changed(257))},_changeSelection:function(e,t){var r=this._selection;this.setSelection(t?r|e:r&~e)},isSelected:function(){return!!(this._selection&7)},setSelected:function(e){this._changeSelection(7,e)},getIndex:function(){return this._index!==$?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var e=this._path,t=this._index;return e?(t>0&&!e._closed&&t===e._segments.length-1&&t--,e.getCurves()[t]||null):null},getLocation:function(){var e=this.getCurve();return e?new bt(e,this===e._segment1?0:1):null},getNext:function(){var e=this._path&&this._path._segments;return e&&(e[this._index+1]||this._path._closed&&e[0])||null},smooth:function(e,t,r){var n=e||{},s=n.type,u=n.factor,o=this.getPrevious(),h=this.getNext(),l=(o||this)._point,f=this._point,_=(h||this)._point,m=l.getDistance(f),p=f.getDistance(_);if(!s||s==="catmull-rom"){var d=u===$?.5:u,C=Math.pow(m,d),b=C*C,S=Math.pow(p,d),g=S*S;if(!t&&o){var y=2*g+3*S*C+b,c=3*S*(S+C);this.setHandleIn(c!==0?new V((g*l._x+y*f._x-b*_._x)/c-f._x,(g*l._y+y*f._y-b*_._y)/c-f._y):new V)}if(!r&&h){var y=2*b+3*C*S+g,c=3*C*(C+S);this.setHandleOut(c!==0?new V((b*_._x+y*f._x-g*l._x)/c-f._x,(b*_._y+y*f._y-g*l._y)/c-f._y):new V)}}else if(s==="geometric"){if(o&&h){var x=l.subtract(_),k=u===$?.4:u,A=k*m/(m+p);t||this.setHandleIn(x.multiply(A)),r||this.setHandleOut(x.multiply(A-k))}}else throw new Error("Smoothing method '"+s+"' not supported.")},getPrevious:function(){var e=this._path&&this._path._segments;return e&&(e[this._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var e=this._path;return e&&this._index===e._segments.length-1||!1},reverse:function(){var e=this._handleIn,t=this._handleOut,r=e.clone();e.set(t),t.set(r)},reversed:function(){return new we(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new we(this._point,this._handleIn,this._handleOut)},equals:function(e){return e===this||e&&this._class===e._class&&this._point.equals(e._point)&&this._handleIn.equals(e._handleIn)&&this._handleOut.equals(e._handleOut)||!1},toString:function(){var e=["point: "+this._point];return this._handleIn.isZero()||e.push("handleIn: "+this._handleIn),this._handleOut.isZero()||e.push("handleOut: "+this._handleOut),"{ "+e.join(", ")+" }"},transform:function(e){this._transformCoordinates(e,new Array(6),!0),this._changed()},interpolate:function(e,t,r){var n=1-r,s=r,u=e._point,o=t._point,h=e._handleIn,l=t._handleIn,f=t._handleOut,_=e._handleOut;this._point._set(n*u._x+s*o._x,n*u._y+s*o._y,!0),this._handleIn._set(n*h._x+s*l._x,n*h._y+s*l._y,!0),this._handleOut._set(n*_._x+s*f._x,n*_._y+s*f._y,!0),this._changed()},_transformCoordinates:function(e,t,r){var n=this._point,s=!r||!this._handleIn.isZero()?this._handleIn:null,u=!r||!this._handleOut.isZero()?this._handleOut:null,o=n._x,h=n._y,l=2;return t[0]=o,t[1]=h,s&&(t[l++]=s._x+o,t[l++]=s._y+h),u&&(t[l++]=u._x+o,t[l++]=u._y+h),e&&(e._transformCoordinates(t,t,l/2),o=t[0],h=t[1],r?(n._x=o,n._y=h,l=2,s&&(s._x=t[l++]-o,s._y=t[l++]-h),u&&(u._x=t[l++]-o,u._y=t[l++]-h)):(s||(t[l++]=o,t[l++]=h),u||(t[l++]=o,t[l++]=h))),t}}),Zt=V.extend({initialize:function(t,r,n){var s,u,o;if(!t)s=u=0;else if((s=t[0])!==$)u=t[1];else{var h=t;(s=h.x)===$&&(h=V.read(arguments),s=h.x),u=h.y,o=h.selected}this._x=s,this._y=u,this._owner=r,r[n]=this,o&&this.setSelected(!0)},_set:function(e,t){return this._x=e,this._y=t,this._owner._changed(this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner._changed(this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner._changed(this)},isZero:function(){var e=te.isZero;return e(this._x)&&e(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){var e=this._owner;return this===e._point?1:this===e._handleIn?2:this===e._handleOut?4:0}}),ie=T.extend({_class:"Curve",beans:!0,initialize:function(t,r,n,s,u,o,h,l){var f=arguments.length,_,m,p,d,C,b;f===3?(this._path=t,_=r,m=n):f?f===1?"segment1"in t?(_=new we(t.segment1),m=new we(t.segment2)):"point1"in t?(p=t.point1,C=t.handle1,b=t.handle2,d=t.point2):Array.isArray(t)&&(p=[t[0],t[1]],d=[t[6],t[7]],C=[t[2]-t[0],t[3]-t[1]],b=[t[4]-t[6],t[5]-t[7]]):f===2?(_=new we(t),m=new we(r)):f===4?(p=t,C=r,b=n,d=s):f===8&&(p=[t,r],d=[h,l],C=[n-t,s-r],b=[u-h,o-l]):(_=new we,m=new we),this._segment1=_||new we(p,null,C),this._segment2=m||new we(d,b,null)},_serialize:function(e,t){return T.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],e,!0,t)},_changed:function(){this._length=this._bounds=$},clone:function(){return new ie(this._segment1,this._segment2)},toString:function(){var e=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||e.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||e.push("handle2: "+this._segment2._handleIn),e.push("point2: "+this._segment2._point),"{ "+e.join(", ")+" }"},classify:function(){return ie.classify(this.getValues())},remove:function(){var e=!1;if(this._path){var t=this._segment2,r=t._handleOut;e=t.remove(),e&&this._segment1._handleOut.set(r)}return e},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(V.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(V.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(V.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(V.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index+1]||this._path._closed&&e[0])||null},getPrevious:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var e=this._path;return e&&this._segment1._index===e._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(e){this.getPoint1().setSelected(e),this.getHandle1().setSelected(e),this.getHandle2().setSelected(e),this.getPoint2().setSelected(e)},getValues:function(e){return ie.getValues(this._segment1,this._segment2,e)},getPoints:function(){for(var e=this.getValues(),t=[],r=0;r<8;r+=2)t.push(new V(e[r],e[r+1]));return t}},{getLength:function(){return this._length==null&&(this._length=ie.getLength(this.getValues(),0,1)),this._length},getArea:function(){return ie.getArea(this.getValues())},getLine:function(){return new Qe(this._segment1._point,this._segment2._point)},getPart:function(e,t){return new ie(ie.getPart(this.getValues(),e,t))},getPartLength:function(e,t){return ie.getLength(this.getValues(),e,t)},divideAt:function(e){return this.divideAtTime(e&&e.curve===this?e.time:this.getTimeAt(e))},divideAtTime:function(e,t){var r=1e-8,n=1-r,s=null;if(e>=r&&e<=n){var u=ie.subdivide(this.getValues(),e),o=u[0],h=u[1],l=t||this.hasHandles(),f=this._segment1,_=this._segment2,m=this._path;l&&(f._handleOut._set(o[2]-o[0],o[3]-o[1]),_._handleIn._set(h[4]-h[6],h[5]-h[7]));var p=o[6],d=o[7],C=new we(new V(p,d),l&&new V(o[4]-p,o[5]-d),l&&new V(h[2]-p,h[3]-d));m?(m.insert(f._index+1,C),s=this.getNext()):(this._segment2=C,this._changed(),s=new ie(C,_))}return s},splitAt:function(e){var t=this._path;return t?t.splitAt(e):null},splitAtTime:function(e){return this.splitAt(this.getLocationAtTime(e))},divide:function(e,t){return this.divideAtTime(e===$?.5:t?e:this.getTimeAt(e))},split:function(e,t){return this.splitAtTime(e===$?.5:t?e:this.getTimeAt(e))},reversed:function(){return new ie(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(e,t,r,n){var s=e._point,u=e._handleOut,o=t._handleIn,h=t._point,l=s.x,f=s.y,_=h.x,m=h.y,p=n?[l,f,l,f,_,m,_,m]:[l,f,l+u._x,f+u._y,_+o._x,m+o._y,_,m];return r&&r._transformCoordinates(p,p,4),p},subdivide:function(e,t){var r=e[0],n=e[1],s=e[2],u=e[3],o=e[4],h=e[5],l=e[6],f=e[7];t===$&&(t=.5);var _=1-t,m=_*r+t*s,p=_*n+t*u,d=_*s+t*o,C=_*u+t*h,b=_*o+t*l,S=_*h+t*f,g=_*m+t*d,y=_*p+t*C,c=_*d+t*b,x=_*C+t*S,k=_*g+t*c,A=_*y+t*x;return[[r,n,m,p,g,y,k,A],[k,A,c,x,b,S,l,f]]},getMonoCurves:function(e,t){var r=[],n=t?0:1,s=e[n+0],u=e[n+2],o=e[n+4],h=e[n+6];if(s>=u==u>=o&&u>=o==o>=h||ie.isStraight(e))r.push(e);else{var l=3*(u-o)-s+h,f=2*(s+o)-4*u,_=u-s,m=1e-8,p=1-m,d=[],C=te.solveQuadratic(l,f,_,d,m,p);if(!C)r.push(e);else{d.sort();var b=d[0],S=ie.subdivide(e,b);r.push(S[0]),C>1&&(b=(d[1]-b)/(1-b),S=ie.subdivide(S[1],b),r.push(S[0])),r.push(S[1])}}return r},solveCubic:function(e,t,r,n,s,u){var o=e[t],h=e[t+2],l=e[t+4],f=e[t+6],_=0;if(!(o<r&&f<r&&h<r&&l<r||o>r&&f>r&&h>r&&l>r)){var m=3*(h-o),p=3*(l-h)-m,d=f-o-m-p;_=te.solveCubic(d,p,m,o-r,n,s,u)}return _},getTimeOf:function(e,t){var r=new V(e[0],e[1]),n=new V(e[6],e[7]),s=1e-12,u=1e-7,o=t.isClose(r,s)?0:t.isClose(n,s)?1:null;if(o===null)for(var h=[t.x,t.y],l=[],f=0;f<2;f++)for(var _=ie.solveCubic(e,f,h[f],l,0,1),m=0;m<_;m++){var p=l[m];if(t.isClose(ie.getPoint(e,p),u))return p}return t.isClose(r,u)?0:t.isClose(n,u)?1:null},getNearestTime:function(e,t){if(ie.isStraight(e)){var r=e[0],n=e[1],s=e[6],u=e[7],o=s-r,h=u-n,l=o*o+h*h;if(l===0)return 0;var f=((t.x-r)*o+(t.y-n)*h)/l;return f<1e-12?0:f>.999999999999?1:ie.getTimeOf(e,new V(r+f*o,n+f*h))}var _=100,m=1/0,p=0;function d(S){if(S>=0&&S<=1){var g=t.getDistance(ie.getPoint(e,S),!0);if(g<m)return m=g,p=S,!0}}for(var C=0;C<=_;C++)d(C/_);for(var b=1/(_*2);b>1e-8;)!d(p-b)&&!d(p+b)&&(b/=2);return p},getPart:function(e,t,r){var n=t>r;if(n){var s=t;t=r,r=s}return t>0&&(e=ie.subdivide(e,t)[1]),r<1&&(e=ie.subdivide(e,(r-t)/(1-t))[0]),n?[e[6],e[7],e[4],e[5],e[2],e[3],e[0],e[1]]:e},isFlatEnough:function(e,t){var r=e[0],n=e[1],s=e[2],u=e[3],o=e[4],h=e[5],l=e[6],f=e[7],_=3*s-2*r-l,m=3*u-2*n-f,p=3*o-2*l-r,d=3*h-2*f-n;return Math.max(_*_,p*p)+Math.max(m*m,d*d)<=16*t*t},getArea:function(e){var t=e[0],r=e[1],n=e[2],s=e[3],u=e[4],o=e[5],h=e[6],l=e[7];return 3*((l-r)*(n+u)-(h-t)*(s+o)+s*(t-u)-n*(r-o)+l*(u+t/3)-h*(o+r/3))/20},getBounds:function(e){for(var t=e.slice(0,2),r=t.slice(),n=[0,0],s=0;s<2;s++)ie._addBounds(e[s],e[s+2],e[s+4],e[s+6],s,0,t,r,n);return new oe(t[0],t[1],r[0]-t[0],r[1]-t[1])},_addBounds:function(e,t,r,n,s,u,o,h,l){function f(k,A){var w=k-A,E=k+A;w<o[s]&&(o[s]=w),E>h[s]&&(h[s]=E)}u/=2;var _=o[s]+u,m=h[s]-u;if(e<_||t<_||r<_||n<_||e>m||t>m||r>m||n>m)if(t<e!=t<n&&r<e!=r<n)f(e,0),f(n,0);else{var p=3*(t-r)-e+n,d=2*(e+r)-4*t,C=t-e,b=te.solveQuadratic(p,d,C,l),S=1e-8,g=1-S;f(n,0);for(var y=0;y<b;y++){var c=l[y],x=1-c;S<=c&&c<=g&&f(x*x*x*e+3*x*x*c*t+3*x*c*c*r+c*c*c*n,u)}}}}},T.each(["getBounds","getStrokeBounds","getHandleBounds"],function(e){this[e]=function(){this._bounds||(this._bounds={});var t=this._bounds[e];return t||(t=this._bounds[e]=Oe[e]([this._segment1,this._segment2],!1,this._path)),t.clone()}},{}),T.each({isStraight:function(e,t,r,n){if(t.isZero()&&r.isZero())return!0;var s=n.subtract(e);if(s.isZero())return!1;if(s.isCollinear(t)&&s.isCollinear(r)){var u=new Qe(e,n),o=1e-7;if(u.getDistance(e.add(t))<o&&u.getDistance(n.add(r))<o){var h=s.dot(s),l=s.dot(t)/h,f=s.dot(r)/h;return l>=0&&l<=1&&f<=0&&f>=-1}}return!1},isLinear:function(e,t,r,n){var s=n.subtract(e).divide(3);return t.equals(s)&&r.negate().equals(s)}},function(e,t){this[t]=function(r){var n=this._segment1,s=this._segment2;return e(n._point,n._handleOut,s._handleIn,s._point,r)},this.statics[t]=function(r,n){var s=r[0],u=r[1],o=r[6],h=r[7];return e(new V(s,u),new V(r[2]-s,r[3]-u),new V(r[4]-o,r[5]-h),new V(o,h),n)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(e){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(e||0)},isCollinear:function(e){return e&&this.isStraight()&&e.isStraight()&&this.getLine().isCollinear(e.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(e,t){return this.getLocationAtTime(t?e:this.getTimeAt(e))},getLocationAtTime:function(e){return e!=null&&e>=0&&e<=1?new bt(this,e):null},getTimeAt:function(e,t){return ie.getTimeAt(this.getValues(),e,t)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var e=V.read(arguments);return e.isZero()?[]:ie.getTimesWithTangent(this.getValues(),e)},getOffsetAtTime:function(e){return this.getPartLength(0,e)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(V.read(arguments)))},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getTimeOf:function(){return ie.getTimeOf(this.getValues(),V.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var e=V.read(arguments),t=this.getValues(),r=ie.getNearestTime(t,e),n=ie.getPoint(t,r);return new bt(this,r,n,null,e.getDistance(n))},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e&&e.getPoint()}},new function(){var e=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return T.each(e,function(t){this[t+"At"]=function(r,n){var s=this.getValues();return ie[t](s,n?r:ie.getTimeAt(s,r))},this[t+"AtTime"]=function(r){return ie[t](this.getValues(),r)}},{statics:{_evaluateMethods:e}})},new function(){function e(n){var s=n[0],u=n[1],o=n[2],h=n[3],l=n[4],f=n[5],_=n[6],m=n[7],p=9*(o-l)+3*(_-s),d=6*(s+l)-12*o,C=3*(o-s),b=9*(h-f)+3*(m-u),S=6*(u+f)-12*h,g=3*(h-u);return function(y){var c=(p*y+d)*y+C,x=(b*y+S)*y+g;return Math.sqrt(c*c+x*x)}}function t(n,s){return Math.max(2,Math.min(16,Math.ceil(Math.abs(s-n)*32)))}function r(n,s,u,o){if(s==null||s<0||s>1)return null;var h=n[0],l=n[1],f=n[2],_=n[3],m=n[4],p=n[5],d=n[6],C=n[7],b=te.isZero;b(f-h)&&b(_-l)&&(f=h,_=l),b(m-d)&&b(p-C)&&(m=d,p=C);var S=3*(f-h),g=3*(m-f)-S,y=d-h-S-g,c=3*(_-l),x=3*(p-_)-c,k=C-l-c-x,A,w;if(u===0)A=s===0?h:s===1?d:((y*s+g)*s+S)*s+h,w=s===0?l:s===1?C:((k*s+x)*s+c)*s+l;else{var E=1e-8,O=1-E;if(s<E?(A=S,w=c):s>O?(A=3*(d-m),w=3*(C-p)):(A=(3*y*s+2*g)*s+S,w=(3*k*s+2*x)*s+c),o){A===0&&w===0&&(s<E||s>O)&&(A=m-f,w=p-_);var M=Math.sqrt(A*A+w*w);M&&(A/=M,w/=M)}if(u===3){var m=6*y*s+2*g,p=6*k*s+2*x,B=Math.pow(A*A+w*w,3/2);A=B!==0?(A*p-w*m)/B:0,w=0}}return u===2?new V(w,-A):new V(A,w)}return{statics:{classify:function(n){var s=n[0],u=n[1],o=n[2],h=n[3],l=n[4],f=n[5],_=n[6],m=n[7],p=s*(m-f)+u*(l-_)+_*f-m*l,d=o*(u-m)+h*(_-s)+s*m-u*_,C=l*(h-u)+f*(s-o)+o*u-h*s,b=3*C,S=b-d,g=S-d+p,y=Math.sqrt(g*g+S*S+b*b),c=y!==0?1/y:0,x=te.isZero,k="serpentine";g*=c,S*=c,b*=c;function A(M,B,L){var z=B!==$,F=z&&B>0&&B<1,q=z&&L>0&&L<1;return z&&(!(F||q)||M==="loop"&&!(F&&q))&&(M="arch",F=q=!1),{type:M,roots:F||q?F&&q?B<L?[B,L]:[L,B]:[F?B:L]:null}}if(x(g))return x(S)?A(x(b)?"line":"quadratic"):A(k,b/(3*S));var w=3*S*S-4*g*b;if(x(w))return A("cusp",S/(2*g));var E=w>0?Math.sqrt(w/3):Math.sqrt(-w),O=2*g;return A(w>0?k:"loop",(S+E)/O,(S-E)/O)},getLength:function(n,s,u,o){if(s===$&&(s=0),u===$&&(u=1),ie.isStraight(n)){var h=n;u<1&&(h=ie.subdivide(h,u)[0],s/=u),s>0&&(h=ie.subdivide(h,s)[1]);var l=h[6]-h[0],f=h[7]-h[1];return Math.sqrt(l*l+f*f)}return te.integrate(o||e(n),s,u,t(s,u))},getTimeAt:function(n,s,u){if(u===$&&(u=s<0?1:0),s===0)return u;var o=Math.abs,h=1e-12,l=s>0,f=l?u:0,_=l?1:u,m=e(n),p=ie.getLength(n,f,_,m),d=o(s)-p;if(o(d)<h)return l?_:f;if(d>h)return null;var C=s/p,b=0;function S(g){return b+=te.integrate(m,u,g,t(u,g)),u=g,b-s}return te.findRoot(S,m,u+C,f,_,32,1e-12)},getPoint:function(n,s){return r(n,s,0,!1)},getTangent:function(n,s){return r(n,s,1,!0)},getWeightedTangent:function(n,s){return r(n,s,1,!1)},getNormal:function(n,s){return r(n,s,2,!0)},getWeightedNormal:function(n,s){return r(n,s,2,!1)},getCurvature:function(n,s){return r(n,s,3,!1).x},getPeaks:function(n){var s=n[0],u=n[1],o=n[2],h=n[3],l=n[4],f=n[5],_=n[6],m=n[7],p=-s+3*o-3*l+_,d=3*s-6*o+3*l,C=-3*s+3*o,b=-u+3*h-3*f+m,S=3*u-6*h+3*f,g=-3*u+3*h,y=1e-8,c=1-y,x=[];return te.solveCubic(9*(p*p+b*b),9*(p*d+S*b),2*(d*d+S*S)+3*(C*p+g*b),C*d+S*g,x,y,c),x.sort()}}}},new function(){function e(d,C,b,S,g,y,c){var x=!c&&b.getPrevious()===g,k=!c&&b!==g&&b.getNext()===g,A=1e-8,w=1-A;if(S!==null&&S>=(x?A:0)&&S<=(k?w:1)&&y!==null&&y>=(k?A:0)&&y<=(x?w:1)){var E=new bt(b,S,null,c),O=new bt(g,y,null,c);E._intersection=O,O._intersection=E,(!C||C(E))&&bt.insert(d,E,!0)}}function t(d,C,b,S,g,y,c,x,k,A,w,E,O){if(++k>=4096||++x>=40)return k;var M=1e-9,B=C[0],L=C[1],z=C[6],F=C[7],q=Qe.getSignedDistance,U=q(B,L,z,F,C[2],C[3]),G=q(B,L,z,F,C[4],C[5]),J=U*G>0?3/4:4/9,re=J*Math.min(0,U,G),he=J*Math.max(0,U,G),_e=q(B,L,z,F,d[0],d[1]),j=q(B,L,z,F,d[2],d[3]),X=q(B,L,z,F,d[4],d[5]),le=q(B,L,z,F,d[6],d[7]),me=r(_e,j,X,le),ve=me[0],Ae=me[1],Pe,Ne;if(U===0&&G===0&&_e===0&&j===0&&X===0&&le===0||(Pe=n(ve,Ae,re,he))==null||(Ne=n(ve.reverse(),Ae.reverse(),re,he))==null)return k;var De=A+(w-A)*Pe,Ee=A+(w-A)*Ne;if(Math.max(O-E,Ee-De)<M){var xt=(De+Ee)/2,gt=(E+O)/2;e(g,y,c?S:b,c?gt:xt,c?b:S,c?xt:gt)}else{d=ie.getPart(d,Pe,Ne);var kt=O-E;if(Ne-Pe>.8)if(Ee-De>kt){var _t=ie.subdivide(d,.5),xt=(De+Ee)/2;k=t(C,_t[0],S,b,g,y,!c,x,k,E,O,De,xt),k=t(C,_t[1],S,b,g,y,!c,x,k,E,O,xt,Ee)}else{var _t=ie.subdivide(C,.5),gt=(E+O)/2;k=t(_t[0],d,S,b,g,y,!c,x,k,E,gt,De,Ee),k=t(_t[1],d,S,b,g,y,!c,x,k,gt,O,De,Ee)}else kt===0||kt>=M?k=t(C,d,S,b,g,y,!c,x,k,E,O,De,Ee):k=t(d,C,b,S,g,y,c,x,k,De,Ee,E,O)}return k}function r(d,C,b,S){var g=[0,d],y=[1/3,C],c=[2/3,b],x=[1,S],k=C-(2*d+S)/3,A=b-(d+2*S)/3,w;if(k*A<0)w=[[g,y,x],[g,c,x]];else{var E=k/A;w=[E>=2?[g,y,x]:E<=.5?[g,c,x]:[g,y,c,x],[g,x]]}return(k||A)<0?w.reverse():w}function n(d,C,b,S){return d[0][1]<b?s(d,!0,b):C[0][1]>S?s(C,!1,S):d[0][0]}function s(d,C,b){for(var S=d[0][0],g=d[0][1],y=1,c=d.length;y<c;y++){var x=d[y][0],k=d[y][1];if(C?k>=b:k<=b)return k===b?x:S+(b-g)*(x-S)/(k-g);S=x,g=k}return null}function u(d,C,b,S,g){var y=te.isZero;if(y(S)&&y(g)){var c=ie.getTimeOf(d,new V(C,b));return c===null?[]:[c]}for(var x=Math.atan2(-g,S),k=Math.sin(x),A=Math.cos(x),w=[],E=[],O=0;O<8;O+=2){var M=d[O]-C,B=d[O+1]-b;w.push(M*A-B*k,M*k+B*A)}return ie.solveCubic(w,1,0,E,0,1),E}function o(d,C,b,S,g,y,c){for(var x=C[0],k=C[1],A=C[6],w=C[7],E=u(d,x,k,A-x,w-k),O=0,M=E.length;O<M;O++){var B=E[O],L=ie.getPoint(d,B),z=ie.getTimeOf(C,L);z!==null&&e(g,y,c?S:b,c?z:B,c?b:S,c?B:z)}}function h(d,C,b,S,g,y){var c=Qe.intersect(d[0],d[1],d[6],d[7],C[0],C[1],C[6],C[7]);c&&e(g,y,b,ie.getTimeOf(d,c),S,ie.getTimeOf(C,c))}function l(d,C,b,S,g,y){var c=1e-12,x=Math.min,k=Math.max;if(k(d[0],d[2],d[4],d[6])+c>x(C[0],C[2],C[4],C[6])&&x(d[0],d[2],d[4],d[6])-c<k(C[0],C[2],C[4],C[6])&&k(d[1],d[3],d[5],d[7])+c>x(C[1],C[3],C[5],C[7])&&x(d[1],d[3],d[5],d[7])-c<k(C[1],C[3],C[5],C[7])){var A=m(d,C);if(A)for(var w=0;w<2;w++){var E=A[w];e(g,y,b,E[0],S,E[1],!0)}else{var O=ie.isStraight(d),M=ie.isStraight(C),B=O&&M,L=O&&!M,z=g.length;if((B?h:O||M?o:t)(L?C:d,L?d:C,L?S:b,L?b:S,g,y,L,0,0,0,1,0,1),!B||g.length===z)for(var w=0;w<4;w++){var F=w>>1,q=w&1,U=F*6,G=q*6,J=new V(d[U],d[U+1]),re=new V(C[G],C[G+1]);J.isClose(re,c)&&e(g,y,b,F,S,q)}}}return g}function f(d,C,b,S){var g=ie.classify(d);if(g.type==="loop"){var y=g.roots;e(b,S,C,y[0],C,y[1])}return b}function _(d,C,b,S,g,y){var c=1e-7,x=!C;x&&(C=d);for(var k=d.length,A=C.length,w=new Array(k),E=x?w:new Array(A),O=[],M=0;M<k;M++)w[M]=d[M].getValues(S);if(!x)for(var M=0;M<A;M++)E[M]=C[M].getValues(g);for(var B=Se.findCurveBoundsCollisions(w,E,c),L=0;L<k;L++){var z=d[L],F=w[L];x&&f(F,z,O,b);var q=B[L];if(q)for(var U=0;U<q.length;U++){if(y&&O.length)return O;var G=q[U];if(!x||G>L){var J=C[G],re=E[G];l(F,re,z,J,O,b)}}}return O}function m(d,C){function b(le){var me=le[6]-le[0],ve=le[7]-le[1];return me*me+ve*ve}var S=Math.abs,g=Qe.getDistance,y=1e-8,c=1e-7,x=ie.isStraight(d),k=ie.isStraight(C),A=x&&k,w=b(d)<b(C),E=w?C:d,O=w?d:C,M=E[0],B=E[1],L=E[6]-M,z=E[7]-B;if(g(M,B,L,z,O[0],O[1],!0)<c&&g(M,B,L,z,O[6],O[7],!0)<c)!A&&g(M,B,L,z,E[2],E[3],!0)<c&&g(M,B,L,z,E[4],E[5],!0)<c&&g(M,B,L,z,O[2],O[3],!0)<c&&g(M,B,L,z,O[4],O[5],!0)<c&&(x=k=A=!0);else if(A)return null;if(x^k)return null;for(var F=[d,C],q=[],U=0;U<4&&q.length<2;U++){var G=U&1,J=G^1,re=U>>1,he=ie.getTimeOf(F[G],new V(F[J][re?6:0],F[J][re?7:1]));if(he!=null){var _e=G?[re,he]:[he,re];(!q.length||S(_e[0]-q[0][0])>y&&S(_e[1]-q[0][1])>y)&&q.push(_e)}if(U>2&&!q.length)break}if(q.length!==2)q=null;else if(!A){var j=ie.getPart(d,q[0][0],q[1][0]),X=ie.getPart(C,q[0][1],q[1][1]);(S(X[2]-j[2])>c||S(X[3]-j[3])>c||S(X[4]-j[4])>c||S(X[5]-j[5])>c)&&(q=null)}return q}function p(d,C){var b=d[0],S=d[1],g=d[2],y=d[3],c=d[4],x=d[5],k=d[6],A=d[7],w=C.normalize(),E=w.x,O=w.y,M=3*k-9*c+9*g-3*b,B=3*A-9*x+9*y-3*S,L=6*c-12*g+6*b,z=6*x-12*y+6*S,F=3*g-3*b,q=3*y-3*S,U=2*M*O-2*B*E,G=[];if(Math.abs(U)<te.CURVETIME_EPSILON){var J=M*q-B*F,U=M*z-B*L;if(U!=0){var re=-J/U;re>=0&&re<=1&&G.push(re)}}else{var he=(L*L-4*M*F)*O*O+(-2*L*z+4*B*F+4*M*q)*E*O+(z*z-4*B*q)*E*E,_e=L*O-z*E;if(he>=0&&U!=0){var j=Math.sqrt(he),X=-(_e+j)/U,le=(-_e+j)/U;X>=0&&X<=1&&G.push(X),le>=0&&le<=1&&G.push(le)}}return G}return{getIntersections:function(d){var C=this.getValues(),b=d&&d!==this&&d.getValues();return b?l(C,b,this,d,[]):f(C,this,[])},statics:{getOverlaps:m,getIntersections:_,getCurveLineIntersections:u,getTimesWithTangent:p}}}),bt=T.extend({_class:"CurveLocation",initialize:function(t,r,n,s,u){if(r>=.99999999){var o=t.getNext();o&&(r=0,t=o)}this._setCurve(t),this._time=r,this._point=n||t.getPointAtTime(r),this._overlap=s,this._distance=u,this._intersection=this._next=this._previous=null},_setPath:function(e){this._path=e,this._version=e?e._version:0},_setCurve:function(e){this._setPath(e._path),this._curve=e,this._segment=null,this._segment1=e._segment1,this._segment2=e._segment2},_setSegment:function(e){var t=e.getCurve();t?this._setCurve(t):(this._setPath(e._path),this._segment1=e,this._segment2=null),this._segment=e,this._time=e===this._segment1?0:1,this._point=e._point.clone()},getSegment:function(){var e=this._segment;if(!e){var t=this.getCurve(),r=this.getTime();r===0?e=t._segment1:r===1?e=t._segment2:r!=null&&(e=t.getPartLength(0,r)<t.getPartLength(r,1)?t._segment1:t._segment2),this._segment=e}return e},getCurve:function(){var e=this._path,t=this;e&&e._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null);function r(n){var s=n&&n.getCurve();if(s&&(t._time=s.getTimeOf(t._point))!=null)return t._setCurve(s),s}return this._curve||r(this._segment)||r(this._segment1)||r(this._segment2.getPrevious())},getPath:function(){var e=this.getCurve();return e&&e._path},getIndex:function(){var e=this.getCurve();return e&&e.getIndex()},getTime:function(){var e=this.getCurve(),t=this._time;return e&&t==null?this._time=e.getTimeOf(this._point):t},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var e=this._offset;if(e==null){e=0;var t=this.getPath(),r=this.getIndex();if(t&&r!=null)for(var n=t.getCurves(),s=0;s<r;s++)e+=n[s].getLength();this._offset=e+=this.getCurveOffset()}return e},getCurveOffset:function(){var e=this._curveOffset;if(e==null){var t=this.getCurve(),r=this.getTime();this._curveOffset=e=r!=null&&t&&t.getPartLength(0,r)}return e},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var e=this.getCurve(),t=e&&e.divideAtTime(this.getTime());return t&&this._setSegment(t._segment1),t},split:function(){var e=this.getCurve(),t=e._path,r=e&&e.splitAtTime(this.getTime());return r&&this._setSegment(t.getLastSegment()),r},equals:function(e,t){var r=this===e;if(!r&&e instanceof bt){var n=this.getCurve(),s=e.getCurve(),u=n._path,o=s._path;if(u===o){var h=Math.abs,l=1e-7,f=h(this.getOffset()-e.getOffset()),_=!t&&this._intersection,m=!t&&e._intersection;r=(f<l||u&&h(u.getLength()-f)<l)&&(!_&&!m||_&&m&&_.equals(m,!0))}}return r},toString:function(){var e=[],t=this.getPoint(),r=pe.instance;t&&e.push("point: "+t);var n=this.getIndex();n!=null&&e.push("index: "+n);var s=this.getTime();return s!=null&&e.push("time: "+r.number(s)),this._distance!=null&&e.push("distance: "+r.number(this._distance)),"{ "+e.join(", ")+" }"},isTouching:function(){var e=this._intersection;if(e&&this.getTangent().isCollinear(e.getTangent())){var t=this.getCurve(),r=e.getCurve();return!(t.isStraight()&&r.isStraight()&&t.getLine().intersect(r.getLine()))}return!1},isCrossing:function(){var e=this._intersection;if(!e)return!1;var t=this.getTime(),r=e.getTime(),n=1e-8,s=1-n,u=t>=n&&t<=s,o=r>=n&&r<=s;if(u&&o)return!this.isTouching();var h=this.getCurve(),l=h&&t<n?h.getPrevious():h,f=e.getCurve(),_=f&&r<n?f.getPrevious():f;if(t>s&&(h=h.getNext()),r>s&&(f=f.getNext()),!l||!h||!_||!f)return!1;var m=[];function p(E,O){var M=E.getValues(),B=ie.classify(M).roots||ie.getPeaks(M),L=B.length,z=ie.getLength(M,O&&L?B[L-1]:0,!O&&L?B[0]:1);m.push(L?z:z/32)}function d(E,O,M){return O<M?E>O&&E<M:E>O||E<M}u||(p(l,!0),p(h,!1)),o||(p(_,!0),p(f,!1));var C=this.getPoint(),b=Math.min.apply(Math,m),S=u?h.getTangentAtTime(t):h.getPointAt(b).subtract(C),g=u?S.negate():l.getPointAt(-b).subtract(C),y=o?f.getTangentAtTime(r):f.getPointAt(b).subtract(C),c=o?y.negate():_.getPointAt(-b).subtract(C),x=g.getAngle(),k=S.getAngle(),A=c.getAngle(),w=y.getAngle();return!!(u?d(x,A,w)^d(k,A,w)&&d(x,w,A)^d(k,w,A):d(A,x,k)^d(w,x,k)&&d(A,k,x)^d(w,k,x))},hasOverlap:function(){return!!this._overlap}},T.each(ie._evaluateMethods,function(e){var t=e+"At";this[e]=function(){var r=this.getCurve(),n=this.getTime();return n!=null&&r&&r[t](n,!0)}},{preserve:!0}),new function(){function e(t,r,n){var s=t.length,u=0,o=s-1;function h(C,b){for(var S=C+b;S>=-1&&S<=s;S+=b){var g=t[(S%s+s)%s];if(!r.getPoint().isClose(g.getPoint(),1e-7))break;if(r.equals(g))return g}return null}for(;u<=o;){var l=u+o>>>1,f=t[l],_;if(n&&(_=r.equals(f)?f:h(l,-1)||h(l,1)))return r._overlap&&(_._overlap=_._intersection._overlap=!0),_;var m=r.getPath(),p=f.getPath(),d=m!==p?m._id-p._id:r.getIndex()+r.getTime()-(f.getIndex()+f.getTime());d<0?o=l-1:u=l+1}return t.splice(u,0,r),r}return{statics:{insert:e,expand:function(t){for(var r=t.slice(),n=t.length-1;n>=0;n--)e(r,t[n]._intersection,!1);return r}}}}),It=I.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(e){var t,r,n;if(T.isPlainObject(e)?(r=e.segments,t=e.pathData):Array.isArray(e)?r=e:typeof e=="string"&&(t=e),r){var s=r[0];n=s&&Array.isArray(s[0])}else t&&(n=(t.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(t));var u=n?ht:Oe;return new u(e)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(e){this.isClockwise()!=(e=!!e)&&this.reverse()},setPathData:function(e){var t=e&&e.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),r,n=!1,s,u,o=new V,h=new V;function l(c,x){var k=+r[c];return n&&(k+=o[x]),k}function f(c){return new V(l(c,"x"),l(c+1,"y"))}this.clear();for(var _=0,m=t&&t.length;_<m;_++){var p=t[_],d=p[0],C=d.toLowerCase();r=p.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var b=r&&r.length;switch(n=d===C,s==="z"&&!/[mz]/.test(C)&&this.moveTo(o),C){case"m":case"l":for(var S=C==="m",g=0;g<b;g+=2)this[S?"moveTo":"lineTo"](o=f(g)),S&&(h=o,S=!1);u=o;break;case"h":case"v":var y=C==="h"?"x":"y";o=o.clone();for(var g=0;g<b;g++)o[y]=l(g,y),this.lineTo(o);u=o;break;case"c":for(var g=0;g<b;g+=6)this.cubicCurveTo(f(g),u=f(g+2),o=f(g+4));break;case"s":for(var g=0;g<b;g+=4)this.cubicCurveTo(/[cs]/.test(s)?o.multiply(2).subtract(u):o,u=f(g),o=f(g+2)),s=C;break;case"q":for(var g=0;g<b;g+=4)this.quadraticCurveTo(u=f(g),o=f(g+2));break;case"t":for(var g=0;g<b;g+=2)this.quadraticCurveTo(u=/[qt]/.test(s)?o.multiply(2).subtract(u):o,o=f(g)),s=C;break;case"a":for(var g=0;g<b;g+=7)this.arcTo(o=f(g+5),new ae(+r[g],+r[g+1]),+r[g+2],+r[g+4],+r[g+3]);break;case"z":this.closePath(1e-12),o=h;break}s=C}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(e){var t=e.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(e):{};return t.onPath||!!(this.getFillRule()==="evenodd"?t.windingL&1||t.windingR&1:t.winding)},getIntersections:function(e,t,r,n){var s=this===e||!e,u=this._matrix._orNullIfIdentity(),o=s?u:(r||e._matrix)._orNullIfIdentity();return s||this.getBounds(u).intersects(e.getBounds(o),1e-12)?ie.getIntersections(this.getCurves(),!s&&e.getCurves(),t,u,o,n):[]},getCrossings:function(e){return this.getIntersections(e,function(t){return t.isCrossing()})},getNearestLocation:function(){for(var e=V.read(arguments),t=this.getCurves(),r=1/0,n=null,s=0,u=t.length;s<u;s++){var o=t[s].getNearestLocation(e);o._distance<r&&(r=o._distance,n=o)}return n},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e&&e.getPoint()},interpolate:function(e,t,r){var n=!this._children,s=n?"_segments":"_children",u=e[s],o=t[s],h=this[s];if(!u||!o||u.length!==o.length)throw new Error("Invalid operands in interpolate() call: "+e+", "+t);var l=h.length,f=o.length;if(l<f)for(var _=n?we:Oe,m=l;m<f;m++)this.add(new _);else l>f&&this[n?"removeSegments":"removeChildren"](f,l);for(var m=0;m<f;m++)h[m].interpolate(u[m],o[m],r);n&&(this.setClosed(e._closed),this._changed(9))},compare:function(e){var t=!1;if(e){var r=this._children||[this],n=e._children?e._children.slice():[e],s=r.length,u=n.length,o=[],h=0;t=!0;for(var l=Se.findItemBoundsCollisions(r,n,te.GEOMETRIC_EPSILON),f=s-1;f>=0&&t;f--){var _=r[f];t=!1;var m=l[f];if(m)for(var p=m.length-1;p>=0&&!t;p--)_.compare(n[m[p]])&&(o[m[p]]||(o[m[p]]=!0,h++),t=!0)}t=t&&h===u}return t}}),Oe=It.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(t){this._closed=!1,this._segments=[],this._version=0;var r=arguments,n=Array.isArray(t)?typeof t[0]=="object"?t:r:t&&t.size===$&&(t.x!==$||t.point!==$)?r:null;n&&n.length>0?this.setSegments(n):(this._curves=$,this._segmentSelection=0,!n&&typeof t=="string"&&(this.setPathData(t),t=null)),this._initialize(!n&&t)},_equals:function(e){return this._closed===e._closed&&T.equals(this._segments,e._segments)},copyContent:function(e){this.setSegments(e._segments),this._closed=e._closed},_changed:function e(t){if(e.base.call(this,t),t&8){if(this._length=this._area=$,t&32)this._version++;else if(this._curves)for(var r=0,n=this._curves.length;r<n;r++)this._curves[r]._changed()}else t&64&&(this._bounds=$)},getStyle:function(){var e=this._parent;return(e instanceof ht?e:this)._style},getSegments:function(){return this._segments},setSegments:function(e){var t=this.isFullySelected(),r=e&&e.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=$,r){var n=e[r-1];typeof n=="boolean"&&(this.setClosed(n),r--),this._add(we.readList(e,0,{},r))}t&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var e=this._curves,t=this._segments;if(!e){var r=this._countCurves();e=this._curves=new Array(r);for(var n=0;n<r;n++)e[n]=new ie(this,t[n],t[n+1]||t[0])}return e},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var e=this.getCurves();return e[e.length-1]},isClosed:function(){return this._closed},setClosed:function(e){if(this._closed!=(e=!!e)){if(this._closed=e,this._curves){var t=this._curves.length=this._countCurves();e&&(this._curves[t-1]=new ie(this,this._segments[t-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(e,t){var r=this._segments,n=r.length,s=new pe(t),u=new Array(6),o=!0,h,l,f,_,m,p,d,C,b=[];function S(y,c){if(y._transformCoordinates(e,u),h=u[0],l=u[1],o)b.push("M"+s.pair(h,l)),o=!1;else if(m=u[2],p=u[3],m===h&&p===l&&d===f&&C===_){if(!c){var x=h-f,k=l-_;b.push(x===0?"v"+s.number(k):k===0?"h"+s.number(x):"l"+s.pair(x,k))}}else b.push("c"+s.pair(d-f,C-_)+" "+s.pair(m-f,p-_)+" "+s.pair(h-f,l-_));f=h,_=l,d=u[4],C=u[5]}if(!n)return"";for(var g=0;g<n;g++)S(r[g]);return this._closed&&n>0&&(S(r[0],!0),b.push("z")),b.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(e){for(var t=this._segments,r=new Array(6),n=0,s=t.length;n<s;n++)t[n]._transformCoordinates(e,r,!0);return!0},_add:function(e,o){for(var r=this._segments,n=this._curves,s=e.length,u=o==null,o=u?r.length:o,h=0;h<s;h++){var l=e[h];l._path&&(l=e[h]=l.clone()),l._path=this,l._index=o+h,l._selection&&this._updateSelection(l,0,l._selection)}if(u)T.push(r,e);else{r.splice.apply(r,[o,0].concat(e));for(var h=o+s,f=r.length;h<f;h++)r[h]._index=h}if(n){var _=this._countCurves(),m=o>0&&o+s-1===_?o-1:o,p=m,d=Math.min(m+s,_);e._curves&&(n.splice.apply(n,[m,0].concat(e._curves)),p+=e._curves.length);for(var h=p;h<d;h++)n.splice(h,0,new ie(this,null,null));this._adjustCurves(m,d)}return this._changed(41),e},_adjustCurves:function(e,t){for(var r=this._segments,n=this._curves,s,u=e;u<t;u++)s=n[u],s._path=this,s._segment1=r[u],s._segment2=r[u+1]||r[0],s._changed();(s=n[this._closed&&!e?r.length-1:e-1])&&(s._segment2=r[e]||r[0],s._changed()),(s=n[t])&&(s._segment1=r[t],s._changed())},_countCurves:function(){var e=this._segments.length;return!this._closed&&e>0?e-1:e},add:function(e){var t=arguments;return t.length>1&&typeof e!="number"?this._add(we.readList(t)):this._add([we.read(t)])[0]},insert:function(e,t){var r=arguments;return r.length>2&&typeof t!="number"?this._add(we.readList(r,1),e):this._add([we.read(r,1)],e)[0]},addSegment:function(){return this._add([we.read(arguments)])[0]},insertSegment:function(e){return this._add([we.read(arguments,1)],e)[0]},addSegments:function(e){return this._add(we.readList(e))},insertSegments:function(e,t){return this._add(we.readList(t),e)},removeSegment:function(e){return this.removeSegments(e,e+1)[0]||null},removeSegments:function(e,t,r){e=e||0,t=T.pick(t,this._segments.length);var n=this._segments,s=this._curves,u=n.length,o=n.splice(e,t-e),h=o.length;if(!h)return o;for(var l=0;l<h;l++){var f=o[l];f._selection&&this._updateSelection(f,f._selection,0),f._index=f._path=null}for(var l=e,_=n.length;l<_;l++)n[l]._index=l;if(s){for(var m=e>0&&t===u+(this._closed?1:0)?e-1:e,s=s.splice(m,h),l=s.length-1;l>=0;l--)s[l]._path=null;r&&(o._curves=s.slice(1)),this._adjustCurves(m,m)}return this._changed(41),o},clear:"#removeSegments",hasHandles:function(){for(var e=this._segments,t=0,r=e.length;t<r;t++)if(e[t].hasHandles())return!0;return!1},clearHandles:function(){for(var e=this._segments,t=0,r=e.length;t<r;t++)e[t].clearHandles()},getLength:function(){if(this._length==null){for(var e=this.getCurves(),t=0,r=0,n=e.length;r<n;r++)t+=e[r].getLength();this._length=t}return this._length},getArea:function(){var e=this._area;if(e==null){var t=this._segments,r=this._closed;e=0;for(var n=0,s=t.length;n<s;n++){var u=n+1===s;e+=ie.getArea(ie.getValues(t[n],t[u?0:n+1],null,u&&!r))}this._area=e}return e},isFullySelected:function(){var e=this._segments.length;return this.isSelected()&&e>0&&this._segmentSelection===e*7},setFullySelected:function(e){e&&this._selectSegments(!0),this.setSelected(e)},setSelection:function e(t){t&1||this._selectSegments(!1),e.base.call(this,t)},_selectSegments:function(e){var t=this._segments,r=t.length,n=e?7:0;this._segmentSelection=n*r;for(var s=0;s<r;s++)t[s]._selection=n},_updateSelection:function(e,t,r){e._selection=r;var n=this._segmentSelection+=r-t;n>0&&this.setSelected(!0)},divideAt:function(e){var t=this.getLocationAt(e),r;return t&&(r=t.getCurve().divideAt(t.getCurveOffset()))?r._segment1:null},splitAt:function(e){var t=this.getLocationAt(e),r=t&&t.index,n=t&&t.time,s=1e-8,u=1-s;n>u&&(r++,n=0);var o=this.getCurves();if(r>=0&&r<o.length){n>=s&&o[r++].divideAtTime(n);var h=this.removeSegments(r,this._segments.length,!0),l;return this._closed?(this.setClosed(!1),l=this):(l=new Oe(I.NO_INSERT),l.insertAbove(this),l.copyAttributes(this)),l._add(h,0),this.addSegment(h[0]),l}return null},split:function(e,t){var r,n=t===$?e:(r=this.getCurves()[e])&&r.getLocationAtTime(t);return n!=null?this.splitAt(n):null},join:function(e,t){var r=t||0;if(e&&e!==this){var n=e._segments,s=this.getLastSegment(),u=e.getLastSegment();if(!u)return this;s&&s._point.isClose(u._point,r)&&e.reverse();var o=e.getFirstSegment();if(s&&s._point.isClose(o._point,r))s.setHandleOut(o._handleOut),this._add(n.slice(1));else{var h=this.getFirstSegment();h&&h._point.isClose(o._point,r)&&e.reverse(),u=e.getLastSegment(),h&&h._point.isClose(u._point,r)?(h.setHandleIn(u._handleIn),this._add(n.slice(0,n.length-1),0)):this._add(n.slice())}e._closed&&this._add([n[0]]),e.remove()}var l=this.getFirstSegment(),f=this.getLastSegment();return l!==f&&l._point.isClose(f._point,r)&&(l.setHandleIn(f._handleIn),f.remove(),this.setClosed(!0)),this},reduce:function(e){for(var t=this.getCurves(),r=e&&e.simplify,n=r?1e-7:0,s=t.length-1;s>=0;s--){var u=t[s];!u.hasHandles()&&(!u.hasLength(n)||r&&u.isCollinear(u.getNext()))&&u.remove()}return this},reverse:function(){this._segments.reverse();for(var e=0,t=this._segments.length;e<t;e++){var r=this._segments[e],n=r._handleIn;r._handleIn=r._handleOut,r._handleOut=n,r._index=e}this._curves=null,this._changed(9)},flatten:function(e){for(var t=new Ht(this,e||.25,256,!0),r=t.parts,n=r.length,s=[],u=0;u<n;u++)s.push(new we(r[u].curve.slice(0,2)));!this._closed&&n>0&&s.push(new we(r[n-1].curve.slice(6))),this.setSegments(s)},simplify:function(e){var t=new Ft(this).fit(e||2.5);return t&&this.setSegments(t),!!t},smooth:function(e){var t=this,r=e||{},n=r.type||"asymmetric",s=this._segments,u=s.length,o=this._closed;function h(ve,Ae){var Pe=ve&&ve.index;if(Pe!=null){var Ne=ve.path;if(Ne&&Ne!==t)throw new Error(ve._class+" "+Pe+" of "+Ne+" is not part of "+t);Ae&&ve instanceof ie&&Pe++}else Pe=typeof ve=="number"?ve:Ae;return Math.min(Pe<0&&o?Pe%u:Pe<0?Pe+u:Pe,u-1)}var l=o&&r.from===$&&r.to===$,f=h(r.from,0),_=h(r.to,u-1);if(f>_)if(o)f-=u;else{var m=f;f=_,_=m}if(/^(?:asymmetric|continuous)$/.test(n)){var p=n==="asymmetric",d=Math.min,C=_-f+1,b=C-1,S=l?d(C,4):1,g=S,y=S,c=[];if(o||(g=d(1,f),y=d(1,u-_-1)),b+=g+y,b<=1)return;for(var x=0,k=f-g;x<=b;x++,k++)c[x]=s[(k<0?k+u:k)%u]._point;for(var A=c[0]._x+2*c[1]._x,w=c[0]._y+2*c[1]._y,E=2,O=b-1,M=[A],B=[w],L=[E],z=[],F=[],x=1;x<b;x++){var q=x<O,U=q||p?1:2,G=q?4:p?2:7,J=q?4:p?3:8,re=q?2:p?0:1,he=U/E;E=L[x]=G-he,A=M[x]=J*c[x]._x+re*c[x+1]._x-he*A,w=B[x]=J*c[x]._y+re*c[x+1]._y-he*w}z[O]=M[O]/L[O],F[O]=B[O]/L[O];for(var x=b-2;x>=0;x--)z[x]=(M[x]-z[x+1])/L[x],F[x]=(B[x]-F[x+1])/L[x];z[b]=(3*c[b]._x-z[O])/2,F[b]=(3*c[b]._y-F[O])/2;for(var x=g,_e=b-y,k=f;x<=_e;x++,k++){var j=s[k<0?k+u:k],X=j._point,le=z[x]-X._x,me=F[x]-X._y;(l||x<_e)&&j.setHandleOut(le,me),(l||x>g)&&j.setHandleIn(-le,-me)}}else for(var x=f;x<=_;x++)s[x<0?x+u:x].smooth(r,!l&&x===f,!l&&x===_)},toShape:function(e){if(!this._closed)return null;var t=this._segments,r,n,s,u;function o(p,d){var C=t[p],b=C.getNext(),S=t[d],g=S.getNext();return C._handleOut.isZero()&&b._handleIn.isZero()&&S._handleOut.isZero()&&g._handleIn.isZero()&&b._point.subtract(C._point).isCollinear(g._point.subtract(S._point))}function h(p){var d=t[p],C=d.getPrevious(),b=d.getNext();return C._handleOut.isZero()&&d._handleIn.isZero()&&d._handleOut.isZero()&&b._handleIn.isZero()&&d._point.subtract(C._point).isOrthogonal(b._point.subtract(d._point))}function l(p){var d=t[p],C=d.getNext(),b=d._handleOut,S=C._handleIn,g=.5522847498307936;if(b.isOrthogonal(S)){var y=d._point,c=C._point,x=new Qe(y,b,!0).intersect(new Qe(c,S,!0),!0);return x&&te.isZero(b.getLength()/x.subtract(y).getLength()-g)&&te.isZero(S.getLength()/x.subtract(c).getLength()-g)}return!1}function f(p,d){return t[p]._point.getDistance(t[d]._point)}if(!this.hasHandles()&&t.length===4&&o(0,2)&&o(1,3)&&h(1)?(r=Fe.Rectangle,n=new ae(f(0,3),f(0,1)),u=t[1]._point.add(t[2]._point).divide(2)):t.length===8&&l(0)&&l(2)&&l(4)&&l(6)&&o(1,5)&&o(3,7)?(r=Fe.Rectangle,n=new ae(f(1,6),f(0,3)),s=n.subtract(new ae(f(0,7),f(1,2))).divide(2),u=t[3]._point.add(t[4]._point).divide(2)):t.length===4&&l(0)&&l(1)&&l(2)&&l(3)&&(te.isZero(f(0,2)-f(1,3))?(r=Fe.Circle,s=f(0,2)/2):(r=Fe.Ellipse,s=new ae(f(2,0)/2,f(3,1)/2)),u=t[1]._point),r){var _=this.getPosition(!0),m=new r({center:_,size:n,radius:s,insert:!1});return m.copyAttributes(this,!0),m._matrix.prepend(this._matrix),m.rotate(u.subtract(_).getAngle()+90),(e===$||e)&&m.insertAbove(this),m}return null},toPath:"#clone",compare:function e(t){if(!t||t instanceof ht)return e.base.call(this,t);var r=this.getCurves(),n=t.getCurves(),s=r.length,u=n.length;if(!s||!u)return s==u;for(var o=r[0].getValues(),h=[],l=0,f,_=0,m,p=0;p<u;p++){var S=n[p].getValues();h.push(S);var d=ie.getOverlaps(o,S);if(d){f=!p&&d[0][0]>0?u-1:p,m=d[0][1];break}}for(var C=Math.abs,b=1e-8,S=h[f],g;o&&S;){var d=ie.getOverlaps(o,S);if(d){var y=d[0][0];if(C(y-_)<b){_=d[1][0],_===1&&(o=++l<s?r[l].getValues():null,_=0);var c=d[0][1];if(C(c-m)<b){if(g||(g=[f,c]),m=d[1][1],m===1&&(++f>=u&&(f=0),S=h[f]||n[f].getValues(),m=0),!o)return g[0]===f&&g[1]===m;continue}}}break}return!1},_hitTestSelf:function(e,t,r,n){var s=this,u=this.getStyle(),o=this._segments,h=o.length,l=this._closed,f=t._tolerancePadding,_=f,m,p,d,C,b,S,g=t.stroke&&u.hasStroke(),y=t.fill&&u.hasFill(),c=t.curves,x=g?u.getStrokeWidth()/2:y&&t.tolerance>0||c?0:null;x!==null&&(x>0?(m=u.getStrokeJoin(),p=u.getStrokeCap(),d=u.getMiterLimit(),_=_.add(Oe._getStrokePadding(x,n))):m=p="round");function k(z,F){return e.subtract(z).divide(F).length<=1}function A(z,F,q){if(!t.selected||F.isSelected()){var U=z._point;if(F!==U&&(F=F.add(U)),k(F,_))return new ct(q,s,{segment:z,point:F})}}function w(z,F){return(F||t.segments)&&A(z,z._point,"segment")||!F&&t.handles&&(A(z,z._handleIn,"handle-in")||A(z,z._handleOut,"handle-out"))}function E(z){C.add(z)}function O(z){var F=l||z._index>0&&z._index<h-1;if((F?m:p)==="round")return k(z._point,_);if(C=new Oe({internal:!0,closed:!0}),F?z.isSmooth()||Oe._addBevelJoin(z,m,x,d,null,n,E,!0):p==="square"&&Oe._addSquareCap(z,p,x,null,n,E,!0),!C.isEmpty()){var q;return C.contains(e)||(q=C.getNearestLocation(e))&&k(q.getPoint(),f)}}if(t.ends&&!t.segments&&!l){if(S=w(o[0],!0)||w(o[h-1],!0))return S}else if(t.segments||t.handles){for(var M=0;M<h;M++)if(S=w(o[M]))return S}if(x!==null){if(b=this.getNearestLocation(e),b){var B=b.getTime();B===0||B===1&&h>1?O(b.getSegment())||(b=null):k(b.getPoint(),_)||(b=null)}if(!b&&m==="miter"&&h>1)for(var M=0;M<h;M++){var L=o[M];if(e.getDistance(L._point)<=d*x&&O(L)){b=L.getLocation();break}}}return!b&&y&&this._contains(e)||b&&!g&&!c?new ct("fill",this):b?new ct(g?"stroke":"curve",this,{location:b,point:b.getPoint()}):null}},T.each(ie._evaluateMethods,function(e){this[e+"At"]=function(t){var r=this.getLocationAt(t);return r&&r[e]()}},{beans:!1,getLocationOf:function(){for(var e=V.read(arguments),t=this.getCurves(),r=0,n=t.length;r<n;r++){var s=t[r].getLocationOf(e);if(s)return s}return null},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getLocationAt:function(e){if(typeof e=="number"){for(var t=this.getCurves(),r=0,n=0,s=t.length;n<s;n++){var u=r,o=t[n];if(r+=o.getLength(),r>e)return o.getLocationAt(e-u)}if(t.length>0&&e<=this.getLength())return new bt(t[t.length-1],1)}else if(e&&e.getPath&&e.getPath()===this)return e;return null},getOffsetsWithTangent:function(){var e=V.read(arguments);if(e.isZero())return[];for(var t=[],r=0,n=this.getCurves(),s=0,u=n.length;s<u;s++){for(var o=n[s],h=o.getTimesWithTangent(e),l=0,f=h.length;l<f;l++){var _=r+o.getOffsetAtTime(h[l]);t.indexOf(_)<0&&t.push(_)}r+=o.length}return t}}),new function(){function e(r,n,s,u){if(u<=0)return;var o=u/2,h=u-2,l=o-1,f=new Array(6),_,m;function p(y){var c=f[y],x=f[y+1];(_!=c||m!=x)&&(r.beginPath(),r.moveTo(_,m),r.lineTo(c,x),r.stroke(),r.beginPath(),r.arc(c,x,o,0,Math.PI*2,!0),r.fill())}for(var d=0,C=n.length;d<C;d++){var b=n[d],S=b._selection;if(b._transformCoordinates(s,f),_=f[0],m=f[1],S&2&&p(2),S&4&&p(4),r.fillRect(_-o,m-o,u,u),h>0&&!(S&1)){var g=r.fillStyle;r.fillStyle="#ffffff",r.fillRect(_-l,m-l,h,h),r.fillStyle=g}}}function t(r,n,s){var u=n._segments,o=u.length,h=new Array(6),l=!0,f,_,m,p,d,C,b,S;function g(c){if(s)c._transformCoordinates(s,h),f=h[0],_=h[1];else{var x=c._point;f=x._x,_=x._y}if(l)r.moveTo(f,_),l=!1;else{if(s)d=h[2],C=h[3];else{var k=c._handleIn;d=f+k._x,C=_+k._y}d===f&&C===_&&b===m&&S===p?r.lineTo(f,_):r.bezierCurveTo(b,S,d,C,f,_)}if(m=f,p=_,s)b=h[4],S=h[5];else{var k=c._handleOut;b=m+k._x,S=p+k._y}}for(var y=0;y<o;y++)g(u[y]);n._closed&&o>0&&g(u[0])}return{_draw:function(r,n,s,u){var o=n.dontStart,h=n.dontFinish||n.clip,l=this.getStyle(),f=l.hasFill(),_=l.hasStroke(),m=l.getDashArray(),p=!Ve.support.nativeDash&&_&&m&&m.length;o||r.beginPath(),(f||_&&!p||h)&&(t(r,this,u),this._closed&&r.closePath());function d(c){return m[(c%p+p)%p]}if(!h&&(f||_)&&(this._setStyles(r,n,s),f&&(r.fill(l.getFillRule()),r.shadowColor="rgba(0,0,0,0)"),_)){if(p){o||r.beginPath();for(var C=new Ht(this,.25,32,!1,u),b=C.length,S=-l.getDashOffset(),g,y=0;S>0;)S-=d(y--)+d(y--);for(;S<b;)g=S+d(y++),(S>0||g>0)&&C.drawPart(r,Math.max(S,0),Math.max(g,0)),S=g+d(y++)}r.stroke()}},_drawSelected:function(r,n){r.beginPath(),t(r,this,n),r.stroke(),e(r,this._segments,n,Ve.settings.handleSize)}}},new function(){function e(t){var r=t._segments;if(!r.length)throw new Error("Use a moveTo() command first");return r[r.length-1]}return{moveTo:function(){var t=this._segments;t.length===1&&this.removeSegment(0),t.length||this._add([new we(V.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new we(V.read(arguments))])},cubicCurveTo:function(){var t=arguments,r=V.read(t),n=V.read(t),s=V.read(t),u=e(this);u.setHandleOut(r.subtract(u._point)),this._add([new we(s,n.subtract(s))])},quadraticCurveTo:function(){var t=arguments,r=V.read(t),n=V.read(t),s=e(this)._point;this.cubicCurveTo(r.add(s.subtract(r).multiply(1/3)),r.add(n.subtract(r).multiply(1/3)),n)},curveTo:function(){var t=arguments,r=V.read(t),n=V.read(t),s=T.pick(T.read(t),.5),u=1-s,o=e(this)._point,h=r.subtract(o.multiply(u*u)).subtract(n.multiply(s*s)).divide(2*s*u);if(h.isNaN())throw new Error("Cannot put a curve through points with parameter = "+s);this.quadraticCurveTo(h,n)},arcTo:function(){var t=arguments,r=Math.abs,n=Math.sqrt,s=e(this),u=s._point,o=V.read(t),h,l=T.peek(t),f=T.pick(l,!0),_,m,p,d;if(typeof f=="boolean")var C=u.add(o).divide(2),h=C.add(C.subtract(u).rotate(f?-90:90));else if(T.remain(t)<=2)h=o,o=V.read(t);else if(!u.equals(o)){var b=ae.read(t),S=te.isZero;if(S(b.width)||S(b.height))return this.lineTo(o);var g=T.read(t),f=!!T.read(t),y=!!T.read(t),C=u.add(o).divide(2),c=u.subtract(C).rotate(-g),x=c.x,k=c.y,A=r(b.width),w=r(b.height),E=A*A,O=w*w,M=x*x,B=k*k,L=n(M/E+B/O);if(L>1&&(A*=L,w*=L,E=A*A,O=w*w),L=(E*O-E*B-O*M)/(E*B+O*M),r(L)<1e-12&&(L=0),L<0)throw new Error("Cannot create an arc with the given arguments");_=new V(A*k/w,-w*x/A).multiply((y===f?-1:1)*n(L)).rotate(g).add(C),d=new Ce().translate(_).rotate(g).scale(A,w),p=d._inverseTransform(u),m=p.getDirectedAngle(d._inverseTransform(o)),!f&&m>0?m-=360:f&&m<0&&(m+=360)}if(h){var z=new Qe(u.add(h).divide(2),h.subtract(u).rotate(90),!0),F=new Qe(h.add(o).divide(2),o.subtract(h).rotate(90),!0),q=new Qe(u,o),U=q.getSide(h);if(_=z.intersect(F,!0),!_){if(!U)return this.lineTo(o);throw new Error("Cannot create an arc with the given arguments")}p=u.subtract(_),m=p.getDirectedAngle(o.subtract(_));var G=q.getSide(_,!0);G===0?m=U*r(m):U===G&&(m+=m<0?360:-360)}if(m){for(var J=1e-5,re=r(m),he=re>=360?4:Math.ceil((re-J)/90),_e=m/he,j=_e*Math.PI/360,X=4/3*Math.sin(j)/(1+Math.cos(j)),le=[],me=0;me<=he;me++){var c=o,ve=null;if(me<he&&(ve=p.rotate(90).multiply(X),d?(c=d._transformPoint(p),ve=d._transformPoint(p.add(ve)).subtract(c)):c=_.add(p)),!me)s.setHandleOut(ve);else{var Ae=p.rotate(-90).multiply(X);d&&(Ae=d._transformPoint(p.add(Ae)).subtract(c)),le.push(new we(c,Ae,ve))}p=p.rotate(_e)}this._add(le)}},lineBy:function(){var t=V.read(arguments),r=e(this)._point;this.lineTo(r.add(t))},curveBy:function(){var t=arguments,r=V.read(t),n=V.read(t),s=T.read(t),u=e(this)._point;this.curveTo(u.add(r),u.add(n),s)},cubicCurveBy:function(){var t=arguments,r=V.read(t),n=V.read(t),s=V.read(t),u=e(this)._point;this.cubicCurveTo(u.add(r),u.add(n),u.add(s))},quadraticCurveBy:function(){var t=arguments,r=V.read(t),n=V.read(t),s=e(this)._point;this.quadraticCurveTo(s.add(r),s.add(n))},arcBy:function(){var t=arguments,r=e(this)._point,n=r.add(V.read(t)),s=T.pick(T.peek(t),!0);typeof s=="boolean"?this.arcTo(n,s):this.arcTo(n,r.add(V.read(t)))},closePath:function(t){this.setClosed(!0),this.join(this,t)}}},{_getBounds:function(e,t){var r=t.handle?"getHandleBounds":t.stroke?"getStrokeBounds":"getBounds";return Oe[r](this._segments,this._closed,this,e,t)},statics:{getBounds:function(e,t,r,n,s,u){var o=e[0];if(!o)return new oe;var h=new Array(6),l=o._transformCoordinates(n,new Array(6)),f=l.slice(0,2),_=f.slice(),m=new Array(2);function p(b){b._transformCoordinates(n,h);for(var S=0;S<2;S++)ie._addBounds(l[S],l[S+4],h[S+2],h[S],S,u?u[S]:0,f,_,m);var g=l;l=h,h=g}for(var d=1,C=e.length;d<C;d++)p(e[d]);return t&&p(o),new oe(f[0],f[1],_[0]-f[0],_[1]-f[1])},getStrokeBounds:function(e,t,r,n,s){var u=r.getStyle(),o=u.hasStroke(),h=u.getStrokeWidth(),l=o&&r._getStrokeMatrix(n,s),f=o&&Oe._getStrokePadding(h,l),_=Oe.getBounds(e,t,r,n,s,f);if(!o)return _;var m=h/2,p=u.getStrokeJoin(),d=u.getStrokeCap(),C=u.getMiterLimit(),b=new oe(new ae(f));function S(A){_=_.include(A)}function g(A){_=_.unite(b.setCenter(A._point.transform(n)))}function y(A,w){w==="round"||A.isSmooth()?g(A):Oe._addBevelJoin(A,w,m,C,n,l,S)}function c(A,w){w==="round"?g(A):Oe._addSquareCap(A,w,m,n,l,S)}var x=e.length-(t?0:1);if(x>0){for(var k=1;k<x;k++)y(e[k],p);t?y(e[0],p):(c(e[0],d),c(e[e.length-1],d))}return _},_getStrokePadding:function(e,t){if(!t)return[e,e];var r=new V(e,0).transform(t),n=new V(0,e).transform(t),s=r.getAngleInRadians(),u=r.getLength(),o=n.getLength(),h=Math.sin(s),l=Math.cos(s),f=Math.tan(s),_=Math.atan2(o*f,u),m=Math.atan2(o,f*u);return[Math.abs(u*Math.cos(_)*l+o*Math.sin(_)*h),Math.abs(o*Math.sin(m)*l+u*Math.cos(m)*h)]},_addBevelJoin:function(e,t,r,n,s,u,o,h){var l=e.getCurve(),f=l.getPrevious(),_=l.getPoint1().transform(s),m=f.getNormalAtTime(1).multiply(r).transform(u),p=l.getNormalAtTime(0).multiply(r).transform(u),d=m.getDirectedAngle(p);if((d<0||d>=180)&&(m=m.negate(),p=p.negate()),h&&o(_),o(_.add(m)),t==="miter"){var C=new Qe(_.add(m),new V(-m.y,m.x),!0).intersect(new Qe(_.add(p),new V(-p.y,p.x),!0),!0);C&&_.getDistance(C)<=n*r&&o(C)}o(_.add(p))},_addSquareCap:function(e,t,r,n,s,u,o){var h=e._point.transform(n),l=e.getLocation(),f=l.getNormal().multiply(l.getTime()===0?r:-r).transform(s);t==="square"&&(o&&(u(h.subtract(f)),u(h.add(f))),h=h.add(f.rotate(-90))),u(h.add(f)),u(h.subtract(f))},getHandleBounds:function(e,t,r,n,s){var u=r.getStyle(),o=s.stroke&&u.hasStroke(),h,l;if(o){var f=r._getStrokeMatrix(n,s),_=u.getStrokeWidth()/2,m=_;u.getStrokeJoin()==="miter"&&(m=_*u.getMiterLimit()),u.getStrokeCap()==="square"&&(m=Math.max(m,_*Math.SQRT2)),h=Oe._getStrokePadding(_,f),l=Oe._getStrokePadding(m,f)}for(var p=new Array(6),d=1/0,C=-d,b=d,S=C,g=0,y=e.length;g<y;g++){var c=e[g];c._transformCoordinates(n,p);for(var x=0;x<6;x+=2){var k=x?h:l,A=k?k[0]:0,w=k?k[1]:0,E=p[x],O=p[x+1],M=E-A,B=E+A,L=O-w,z=O+w;M<d&&(d=M),B>C&&(C=B),L<b&&(b=L),z>S&&(S=z)}}return new oe(d,b,C-d,S-b)}}});Oe.inject({statics:new function(){var e=.5522847498307936,t=[new we([-1,0],[0,e],[0,-.5522847498307936]),new we([0,-1],[-.5522847498307936,0],[e,0]),new we([1,0],[0,-.5522847498307936],[0,e]),new we([0,1],[e,0],[-.5522847498307936,0])];function r(s,u,o){var h=T.getNamed(o),l=new Oe(h&&(h.insert==!0?I.INSERT:h.insert==!1?I.NO_INSERT:null));return l._add(s),l._closed=u,l.set(h,I.INSERT)}function n(s,u,o){for(var h=new Array(4),l=0;l<4;l++){var f=t[l];h[l]=new we(f._point.multiply(u).add(s),f._handleIn.multiply(u),f._handleOut.multiply(u))}return r(h,!0,o)}return{Line:function(){var s=arguments;return r([new we(V.readNamed(s,"from")),new we(V.readNamed(s,"to"))],!1,s)},Circle:function(){var s=arguments,u=V.readNamed(s,"center"),o=T.readNamed(s,"radius");return n(u,new ae(o),s)},Rectangle:function(){var s=arguments,u=oe.readNamed(s,"rectangle"),o=ae.readNamed(s,"radius",0,{readNull:!0}),h=u.getBottomLeft(!0),l=u.getTopLeft(!0),f=u.getTopRight(!0),_=u.getBottomRight(!0),m;if(!o||o.isZero())m=[new we(h),new we(l),new we(f),new we(_)];else{o=ae.min(o,u.getSize(!0).divide(2));var p=o.width,d=o.height,C=p*e,b=d*e;m=[new we(h.add(p,0),null,[-C,0]),new we(h.subtract(0,d),[0,b]),new we(l.add(0,d),null,[0,-b]),new we(l.add(p,0),[-C,0],null),new we(f.subtract(p,0),null,[C,0]),new we(f.add(0,d),[0,-b],null),new we(_.subtract(0,d),null,[0,b]),new we(_.subtract(p,0),[C,0])]}return r(m,!0,s)},RoundRectangle:"#Rectangle",Ellipse:function(){var s=arguments,u=Fe._readEllipse(s);return n(u.center,u.radius,s)},Oval:"#Ellipse",Arc:function(){var s=arguments,u=V.readNamed(s,"from"),o=V.readNamed(s,"through"),h=V.readNamed(s,"to"),l=T.getNamed(s),f=new Oe(l&&l.insert==!1&&I.NO_INSERT);return f.moveTo(u),f.arcTo(o,h),f.set(l)},RegularPolygon:function(){for(var s=arguments,u=V.readNamed(s,"center"),o=T.readNamed(s,"sides"),h=T.readNamed(s,"radius"),l=360/o,f=o%3===0,_=new V(0,f?-h:h),m=f?-1:.5,p=new Array(o),d=0;d<o;d++)p[d]=new we(u.add(_.rotate((d+m)*l)));return r(p,!0,s)},Star:function(){for(var s=arguments,u=V.readNamed(s,"center"),o=T.readNamed(s,"points")*2,h=T.readNamed(s,"radius1"),l=T.readNamed(s,"radius2"),f=360/o,_=new V(0,-1),m=new Array(o),p=0;p<o;p++)m[p]=new we(u.add(_.rotate(f*p).multiply(p%2?l:h)));return r(m,!0,s)}}}});var ht=It.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||(typeof t=="string"?this.setPathData(t):this.addChildren(Array.isArray(t)?t:arguments))},insertChildren:function e(t,r){var n=r,s=n[0];s&&typeof s[0]=="number"&&(n=[n]);for(var u=r.length-1;u>=0;u--){var o=n[u];n===r&&!(o instanceof Oe)&&(n=T.slice(n)),Array.isArray(o)?n[u]=new Oe({segments:o,insert:!1}):o instanceof ht&&(n.splice.apply(n,[u,1].concat(o.removeChildren())),o.remove())}return e.base.call(this,t,n)},reduce:function e(t){for(var r=this._children,n=r.length-1;n>=0;n--){var s=r[n].reduce(t);s.isEmpty()&&s.remove()}if(!r.length){var s=new Oe(I.NO_INSERT);return s.copyAttributes(this),s.insertAbove(this),this.remove(),s}return e.base.call(this)},isClosed:function(){for(var e=this._children,t=0,r=e.length;t<r;t++)if(!e[t]._closed)return!1;return!0},setClosed:function(e){for(var t=this._children,r=0,n=t.length;r<n;r++)t[r].setClosed(e)},getFirstSegment:function(){var e=this.getFirstChild();return e&&e.getFirstSegment()},getLastSegment:function(){var e=this.getLastChild();return e&&e.getLastSegment()},getCurves:function(){for(var e=this._children,t=[],r=0,n=e.length;r<n;r++)T.push(t,e[r].getCurves());return t},getFirstCurve:function(){var e=this.getFirstChild();return e&&e.getFirstCurve()},getLastCurve:function(){var e=this.getLastChild();return e&&e.getLastCurve()},getArea:function(){for(var e=this._children,t=0,r=0,n=e.length;r<n;r++)t+=e[r].getArea();return t},getLength:function(){for(var e=this._children,t=0,r=0,n=e.length;r<n;r++)t+=e[r].getLength();return t},getPathData:function(e,t){for(var r=this._children,n=[],s=0,u=r.length;s<u;s++){var o=r[s],h=o._matrix;n.push(o.getPathData(e&&!h.isIdentity()?e.appended(h):e,t))}return n.join("")},_hitTestChildren:function e(t,r,n){return e.base.call(this,t,r.class===Oe||r.type==="path"?r:T.set({},r,{fill:!1}),n)},_draw:function(e,t,r,n){var s=this._children;if(s.length){t=t.extend({dontStart:!0,dontFinish:!0}),e.beginPath();for(var u=0,o=s.length;u<o;u++)s[u].draw(e,t,n);if(!t.clip){this._setStyles(e,t,r);var h=this._style;h.hasFill()&&(e.fill(h.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),h.hasStroke()&&e.stroke()}}},_drawSelected:function(e,t,r){for(var n=this._children,s=0,u=n.length;s<u;s++){var o=n[s],h=o._matrix;r[o._id]||o._drawSelected(e,h.isIdentity()?t:t.appended(h))}}},new function(){function e(t,r){var n=t._children;if(r&&!n.length)throw new Error("Use a moveTo() command first");return n[n.length-1]}return T.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(t){this[t]=function(){var r=e(this,!0);r[t].apply(r,arguments)}},{moveTo:function(){var t=e(this),r=t&&t.isEmpty()?t:new Oe(I.NO_INSERT);r!==t&&this.addChild(r),r.moveTo.apply(r,arguments)},moveBy:function(){var t=e(this,!0),r=t&&t.getLastSegment(),n=V.read(arguments);this.moveTo(r?n.add(r._point):n)},closePath:function(t){e(this,!0).closePath(t)}})},T.each(["reverse","flatten","simplify","smooth"],function(e){this[e]=function(t){for(var r=this._children,n,s=0,u=r.length;s<u;s++)n=r[s][e](t)||n;return n}},{}));It.inject(new function(){var e=Math.min,t=Math.max,r=Math.abs,n={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function s(g){return g._children||[g]}function u(g,y){var c=g.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(y){for(var x=s(c),k=0,A=x.length;k<A;k++){var g=x[k];!g._closed&&!g.isEmpty()&&(g.closePath(1e-12),g.getFirstSegment().setHandleIn(0,0),g.getLastSegment().setHandleOut(0,0))}c=c.resolveCrossings().reorient(c.getFillRule()==="nonzero",!0)}return c}function o(g,y,c,x,k){var A=new ht(I.NO_INSERT);return A.addChildren(g,!0),A=A.reduce({simplify:y}),k&&k.insert==!1||A.insertAbove(x&&c.isSibling(x)&&c.getIndex()<x.getIndex()?x:c),A.copyAttributes(c,!0),A}function h(g){return g.hasOverlap()||g.isCrossing()}function l(g,y,c,x){if(x&&(x.trace==!1||x.stroke)&&/^(subtract|intersect)$/.test(c))return f(g,y,c);var k=u(g,!0),A=y&&g!==y&&u(y,!0),w=n[c];w[c]=!0,A&&(w.subtract||w.exclude)^(A.isClockwise()^k.isClockwise())&&A.reverse();var E=d(bt.expand(k.getIntersections(A,h))),O=s(k),M=A&&s(A),B=[],L=[],z;function F(ve){for(var Ae=0,Pe=ve.length;Ae<Pe;Ae++){var Ne=ve[Ae];T.push(B,Ne._segments),T.push(L,Ne.getCurves()),Ne._overlapsOnly=!0}}function q(ve){for(var Ae=[],Pe=0,Ne=ve&&ve.length;Pe<Ne;Pe++)Ae.push(L[ve[Pe]]);return Ae}if(E.length){F(O),M&&F(M);for(var U=new Array(L.length),G=0,J=L.length;G<J;G++)U[G]=L[G].getValues();for(var re=Se.findCurveBoundsCollisions(U,U,0,!0),he={},G=0;G<L.length;G++){var _e=L[G],j=_e._path._id,X=he[j]=he[j]||{};X[_e.getIndex()]={hor:q(re[G].hor),ver:q(re[G].ver)}}for(var G=0,J=E.length;G<J;G++)b(E[G]._segment,k,A,he,w);for(var G=0,J=B.length;G<J;G++){var le=B[G],me=le._intersection;le._winding||b(le,k,A,he,w),me&&me._overlap||(le._path._overlapsOnly=!1)}z=S(B,w)}else z=p(M?O.concat(M):O.slice(),function(ve){return!!w[ve]});return o(z,!0,g,y,x)}function f(g,y,c){var x=u(g),k=u(y),A=x.getIntersections(k,h),w=c==="subtract",E=c==="divide",O={},M=[];function B(F){if(!O[F._id]&&(E||k.contains(F.getPointAt(F.getLength()/2))^w))return M.unshift(F),O[F._id]=!0}for(var L=A.length-1;L>=0;L--){var z=A[L].split();z&&(B(z)&&z.getFirstSegment().setHandleIn(0,0),x.getLastSegment().setHandleOut(0,0))}return B(x),o(M,!1,g,y)}function _(g,y){for(var c=g;c;){if(c===y)return;c=c._previous}for(;g._next&&g._next!==y;)g=g._next;if(!g._next){for(;y._previous;)y=y._previous;g._next=y,y._previous=g}}function m(g){for(var y=g.length-1;y>=0;y--)g[y].clearHandles()}function p(g,y,c){var x=g&&g.length;if(x){var k=T.each(g,function(re,he){this[re._id]={container:null,winding:re.isClockwise()?1:-1,index:he}},{}),A=g.slice().sort(function(re,he){return r(he.getArea())-r(re.getArea())}),w=A[0],E=Se.findItemBoundsCollisions(A,null,te.GEOMETRIC_EPSILON);c==null&&(c=w.isClockwise());for(var O=0;O<x;O++){var M=A[O],B=k[M._id],L=0,z=E[O];if(z){for(var F=null,q=z.length-1;q>=0;q--)if(z[q]<O){F=F||M.getInteriorPoint();var U=A[z[q]];if(U.contains(F)){var G=k[U._id];L=G.winding,B.winding+=L,B.container=G.exclude?G.container:U;break}}}if(y(B.winding)===y(L))B.exclude=!0,g[B.index]=null;else{var J=B.container;M.setClockwise(J?!J.isClockwise():c)}}}return g}function d(g,y,c){var x=y&&[],k=1e-8,A=1-k,w=!1,E=c||[],O=c&&{},M,B,L;function z(Ae){return Ae._path._id+"."+Ae._segment1._index}for(var F=(c&&c.length)-1;F>=0;F--){var q=c[F];q._path&&(O[z(q)]=!0)}for(var F=g.length-1;F>=0;F--){var U=g[F],G=U._time,J=G,re=y&&!y(U),q=U._curve,he;if(q&&(q!==B?(w=!q.hasHandles()||O&&O[z(q)],M=[],L=null,B=q):L>=k&&(G/=L)),re){M&&M.push(U);continue}else y&&x.unshift(U);if(L=J,G<k)he=q._segment1;else if(G>A)he=q._segment2;else{var _e=q.divideAtTime(G,!0);w&&E.push(q,_e),he=_e._segment1;for(var j=M.length-1;j>=0;j--){var X=M[j];X._time=(X._time-G)/(1-G)}}U._setSegment(he);var le=he._intersection,me=U._intersection;if(le){_(le,me);for(var ve=le;ve;)_(ve._intersection,le),ve=ve._next}else he._intersection=me}return c||m(E),x||g}function C(g,y,c,x,k){var A=Array.isArray(y)?y:y[c?"hor":"ver"],w=c?1:0,E=w^1,O=[g.x,g.y],M=O[w],B=O[E],L=1e-9,z=1e-6,F=M-L,q=M+L,U=0,G=0,J=0,re=0,he=!1,_e=!1,j=1,X=[],le,me;function ve(se){var lt=se[E+0],ft=se[E+6];if(!(B<e(lt,ft)||B>t(lt,ft))){var yt=se[w+0],Wt=se[w+2],si=se[w+4],jt=se[w+6];if(lt===ft){(yt<q&&jt>F||jt<q&&yt>F)&&(he=!0);return}var Kt=B===lt?0:B===ft||F>t(yt,Wt,si,jt)||q<e(yt,Wt,si,jt)?1:ie.solveCubic(se,E,B,X,0,1)>0?X[0]:1,Nt=Kt===0?yt:Kt===1?jt:ie.getPoint(se,Kt)[c?"y":"x"],$t=lt>ft?1:-1,ai=le[E]>le[E+6]?1:-1,wt=le[w+6];return B!==lt?(Nt<F?J+=$t:Nt>q?re+=$t:he=!0,Nt>M-z&&Nt<M+z&&(j/=2)):($t!==ai?yt<F?J+=$t:yt>q&&(re+=$t):yt!=wt&&(wt<q&&Nt>q?(re+=$t,he=!0):wt>F&&Nt<F&&(J+=$t,he=!0)),j/=4),le=se,!k&&Nt>F&&Nt<q&&ie.getTangent(se,Kt)[c?"x":"y"]===0&&C(g,y,!c,x,!0)}}function Ae(se){var lt=se[E+0],ft=se[E+2],yt=se[E+4],Wt=se[E+6];if(B<=t(lt,ft,yt,Wt)&&B>=e(lt,ft,yt,Wt)){for(var si=se[w+0],jt=se[w+2],Kt=se[w+4],Nt=se[w+6],$t=F>t(si,jt,Kt,Nt)||q<e(si,jt,Kt,Nt)?[se]:ie.getMonoCurves(se,c),ai,wt=0,Mt=$t.length;wt<Mt;wt++)if(ai=ve($t[wt]))return ai}}for(var Pe=0,Ne=A.length;Pe<Ne;Pe++){var De=A[Pe],Ee=De._path,xt=De.getValues(),gt;if((!Pe||A[Pe-1]._path!==Ee)&&(le=null,Ee._closed||(me=ie.getValues(Ee.getLastCurve().getSegment2(),De.getSegment1(),null,!x),me[E]!==me[E+6]&&(le=me)),!le)){le=xt;for(var kt=Ee.getLastCurve();kt&&kt!==De;){var _t=kt.getValues();if(_t[E]!==_t[E+6]){le=_t;break}kt=kt.getPrevious()}}if(gt=Ae(xt))return gt;if(Pe+1===Ne||A[Pe+1]._path!==Ee){if(me&&(gt=Ae(me)))return gt;he&&!J&&!re&&(J=re=Ee.isClockwise(x)^c?1:-1),U+=J,G+=re,J=re=0,he&&(_e=!0,he=!1),me=null}}return U=r(U),G=r(G),{winding:t(U,G),windingL:U,windingR:G,quality:j,onPath:_e}}function b(g,y,c,x,k){var A=[],w=g,E=0,L;do{var O=g.getCurve();if(O){var M=O.getLength();A.push({segment:g,curve:O,length:M}),E+=M}g=g.getNext()}while(g&&!g._intersection&&g!==w);for(var B=[.5,.25,.75],L={winding:0,quality:-1},z=.001,F=1-z,q=0;q<B.length&&L.quality<.5;q++)for(var M=E*B[q],U=0,G=A.length;U<G;U++){var J=A[U],re=J.length;if(M<=re){var O=J.curve,he=O._path,_e=he._parent,j=_e instanceof ht?_e:he,X=te.clamp(O.getTimeAt(M),z,F),le=O.getPointAtTime(X),me=r(O.getTangentAtTime(X).y)<Math.SQRT1_2,ve=null;if(k.subtract&&c){var Ae=j===y?c:y,Pe=Ae._getWinding(le,me,!0);if(j===y&&Pe.winding||j===c&&!Pe.winding){if(Pe.quality<1)continue;ve={winding:0,quality:1}}}ve=ve||C(le,x[he._id][O.getIndex()],me,!0),ve.quality>L.quality&&(L=ve);break}M-=re}for(var U=A.length-1;U>=0;U--)A[U].segment._winding=L}function S(g,y){var c=[],x;function k(Ne){var De;return!!(Ne&&!Ne._visited&&(!y||y[(De=Ne._winding||{}).winding]&&!(y.unite&&De.winding===2&&De.windingL&&De.windingR)))}function A(Ne){if(Ne){for(var De=0,Ee=x.length;De<Ee;De++)if(Ne===x[De])return!0}return!1}function w(Ne){for(var De=Ne._segments,Ee=0,xt=De.length;Ee<xt;Ee++)De[Ee]._visited=!0}function E(Ne,De){var Ee=Ne._intersection,xt=Ee,gt=[];De&&(x=[Ne]);function kt(_t,se){for(;_t&&_t!==se;){var lt=_t._segment,ft=lt&&lt._path;if(ft){var yt=lt.getNext()||ft.getFirstSegment(),Wt=yt._intersection;lt!==Ne&&(A(lt)||A(yt)||yt&&k(lt)&&(k(yt)||Wt&&k(Wt._segment)))&&gt.push(lt),De&&x.push(lt)}_t=_t._next}}if(Ee){for(kt(Ee);Ee&&Ee._previous;)Ee=Ee._previous;kt(Ee,xt)}return gt}g.sort(function(Ne,De){var Ee=Ne._intersection,xt=De._intersection,gt=!!(Ee&&Ee._overlap),kt=!!(xt&&xt._overlap),_t=Ne._path,se=De._path;return gt^kt?gt?1:-1:!Ee^!xt?Ee?1:-1:_t!==se?_t._id-se._id:Ne._index-De._index});for(var O=0,M=g.length;O<M;O++){var B=g[O],L=k(B),z=null,F=!1,q=!0,U=[],G,J,re;if(L&&B._path._overlapsOnly){var he=B._path,_e=B._intersection._segment._path;he.compare(_e)&&(he.getArea()&&c.push(he.clone(!1)),w(he),w(_e),L=!1)}for(;L;){var j=!z,X=E(B,j),le=X.shift(),F=!j&&(A(B)||A(le)),me=!F&&le;if(j&&(z=new Oe(I.NO_INSERT),G=null),F){(B.isFirst()||B.isLast())&&(q=B._path._closed),B._visited=!0;break}if(me&&G&&(U.push(G),G=null),G||(me&&X.push(B),G={start:z._segments.length,crossings:X,visited:J=[],handleIn:re}),me&&(B=le),!k(B)){z.removeSegments(G.start);for(var ve=0,Ae=J.length;ve<Ae;ve++)J[ve]._visited=!1;J.length=0;do B=G&&G.crossings.shift(),(!B||!B._path)&&(B=null,G=U.pop(),G&&(J=G.visited,re=G.handleIn));while(G&&!k(B));if(!B)break}var Pe=B.getNext();z.add(new we(B._point,re,Pe&&B._handleOut)),B._visited=!0,J.push(B),B=Pe||B._path.getFirstSegment(),re=Pe&&Pe._handleIn}F&&(q&&(z.getFirstSegment().setHandleIn(re),z.setClosed(q)),z.getArea()!==0&&c.push(z))}return c}return{_getWinding:function(g,y,c){return C(g,this.getCurves(),y,c)},unite:function(g,y){return l(this,g,"unite",y)},intersect:function(g,y){return l(this,g,"intersect",y)},subtract:function(g,y){return l(this,g,"subtract",y)},exclude:function(g,y){return l(this,g,"exclude",y)},divide:function(g,y){return y&&(y.trace==!1||y.stroke)?f(this,g,"divide"):o([this.subtract(g,y),this.intersect(g,y)],!0,this,g,y)},resolveCrossings:function(){var g=this._children,y=g||[this];function c(G,J){var re=G&&G._intersection;return re&&re._overlap&&re._path===J}var x=!1,k=!1,A=this.getIntersections(null,function(G){return G.hasOverlap()&&(x=!0)||G.isCrossing()&&(k=!0)}),w=x&&k&&[];if(A=bt.expand(A),x)for(var E=d(A,function(G){return G.hasOverlap()},w),O=E.length-1;O>=0;O--){var M=E[O],B=M._path,L=M._segment,z=L.getPrevious(),F=L.getNext();c(z,B)&&c(F,B)&&(L.remove(),z._handleOut._set(0,0),F._handleIn._set(0,0),z!==L&&!z.getCurve().hasLength()&&(F._handleIn.set(z._handleIn),z.remove()))}k&&(d(A,x&&function(G){var J=G.getCurve(),re=G.getSegment(),he=G._intersection,_e=he._curve,j=he._segment;if(J&&_e&&J._path&&_e._path)return!0;re&&(re._intersection=null),j&&(j._intersection=null)},w),w&&m(w),y=S(T.each(y,function(G){T.push(this,G._segments)},[])));var q=y.length,U;return q>1&&g?(y!==g&&this.setChildren(y),U=this):q===1&&!g&&(y[0]!==this&&this.setSegments(y[0].removeSegments()),U=this),U||(U=new ht(I.NO_INSERT),U.addChildren(y),U=U.reduce(),U.copyAttributes(this),this.replaceWith(U)),U},reorient:function(g,y){var c=this._children;return c&&c.length?this.setChildren(p(this.removeChildren(),function(x){return!!(g?x:x&1)},y)):y!==$&&this.setClockwise(y),this},getInteriorPoint:function(){var g=this.getBounds(),y=g.getCenter(!0);if(!this.contains(y)){for(var c=this.getCurves(),x=y.y,k=[],A=[],w=0,E=c.length;w<E;w++){var O=c[w].getValues(),M=O[1],B=O[3],L=O[5],z=O[7];if(x>=e(M,B,L,z)&&x<=t(M,B,L,z))for(var F=ie.getMonoCurves(O),q=0,U=F.length;q<U;q++){var G=F[q],J=G[1],re=G[7];if(J!==re&&(x>=J&&x<=re||x>=re&&x<=J)){var he=x===J?G[0]:x===re?G[6]:ie.solveCubic(G,1,x,A,0,1)===1?ie.getPoint(G,A[0]).x:(G[0]+G[6])/2;k.push(he)}}}k.length>1&&(k.sort(function(_e,j){return _e-j}),y.x=(k[0]+k[1])/2)}return y}}});var Ht=T.extend({_class:"PathFlattener",initialize:function(e,t,r,n,s){var u=[],o=[],h=0,l=1/(r||32),f=e._segments,_=f[0],m;function p(S,g){var y=ie.getValues(S,g,s);u.push(y),d(y,S._index,0,1)}function d(S,g,y,c){if(c-y>l&&!(n&&ie.isStraight(S))&&!ie.isFlatEnough(S,t||.25)){var x=ie.subdivide(S,.5),k=(y+c)/2;d(x[0],g,y,k),d(x[1],g,k,c)}else{var A=S[6]-S[0],w=S[7]-S[1],E=Math.sqrt(A*A+w*w);E>0&&(h+=E,o.push({offset:h,curve:S,index:g,time:c}))}}for(var C=1,b=f.length;C<b;C++)m=f[C],p(_,m),_=m;e._closed&&p(m||_,f[0]),this.curves=u,this.parts=o,this.length=h,this.index=0},_get:function(e){for(var t=this.parts,r=t.length,n,s=this.index;n=s,!(!s||t[--s].offset<e););for(;n<r;n++){var u=t[n];if(u.offset>=e){this.index=n;var o=t[n-1],h=o&&o.index===u.index?o.time:0,l=o?o.offset:0;return{index:u.index,time:h+(u.time-h)*(e-l)/(u.offset-l)}}}return{index:t[r-1].index,time:1}},drawPart:function(e,t,r){for(var n=this._get(t),s=this._get(r),u=n.index,o=s.index;u<=o;u++){var h=ie.getPart(this.curves[u],u===n.index?n.time:0,u===s.index?s.time:1);u===n.index&&e.moveTo(h[0],h[1]),e.bezierCurveTo.apply(e,h.slice(2))}}},T.each(ie._evaluateMethods,function(e){this[e+"At"]=function(t){var r=this._get(t);return ie[e](this.curves[r.index],r.time)}},{})),Ft=T.extend({initialize:function(e){for(var t=this.points=[],r=e._segments,n=e._closed,s=0,u,o=r.length;s<o;s++){var h=r[s].point;(!u||!u.equals(h))&&t.push(u=h.clone())}n&&(t.unshift(t[t.length-1]),t.push(t[1])),this.closed=n},fit:function(e){var t=this.points,r=t.length,n=null;return r>0&&(n=[new we(t[0])],r>1&&(this.fitCubic(n,e,0,r-1,t[1].subtract(t[0]),t[r-2].subtract(t[r-1])),this.closed&&(n.shift(),n.pop()))),n},fitCubic:function(e,t,r,n,s,u){var o=this.points;if(n-r===1){var h=o[r],l=o[n],f=h.getDistance(l)/3;this.addCurve(e,[h,h.add(s.normalize(f)),l.add(u.normalize(f)),l]);return}for(var _=this.chordLengthParameterize(r,n),m=Math.max(t,t*t),p,d=!0,C=0;C<=4;C++){var b=this.generateBezier(r,n,_,s,u),S=this.findMaxError(r,n,b,_);if(S.error<t&&d){this.addCurve(e,b);return}if(p=S.index,S.error>=m)break;d=this.reparameterize(r,n,_,b),m=S.error}var g=o[p-1].subtract(o[p+1]);this.fitCubic(e,t,r,p,s,g),this.fitCubic(e,t,p,n,g.negate(),u)},addCurve:function(e,t){var r=e[e.length-1];r.setHandleOut(t[1].subtract(t[0])),e.push(new we(t[3],t[2].subtract(t[3])))},generateBezier:function(e,t,r,n,s){for(var u=1e-12,o=Math.abs,h=this.points,l=h[e],f=h[t],_=[[0,0],[0,0]],m=[0,0],p=0,d=t-e+1;p<d;p++){var C=r[p],b=1-C,S=3*C*b,g=b*b*b,y=S*b,c=S*C,x=C*C*C,k=n.normalize(y),A=s.normalize(c),w=h[e+p].subtract(l.multiply(g+y)).subtract(f.multiply(c+x));_[0][0]+=k.dot(k),_[0][1]+=k.dot(A),_[1][0]=_[0][1],_[1][1]+=A.dot(A),m[0]+=k.dot(w),m[1]+=A.dot(w)}var E=_[0][0]*_[1][1]-_[1][0]*_[0][1],O,M;if(o(E)>u){var B=_[0][0]*m[1]-_[1][0]*m[0],L=m[0]*_[1][1]-m[1]*_[0][1];O=L/E,M=B/E}else{var z=_[0][0]+_[0][1],F=_[1][0]+_[1][1];O=M=o(z)>u?m[0]/z:o(F)>u?m[1]/F:0}var q=f.getDistance(l),U=u*q,G,J;if(O<U||M<U)O=M=q/3;else{var re=f.subtract(l);G=n.normalize(O),J=s.normalize(M),G.dot(re)-J.dot(re)>q*q&&(O=M=q/3,G=J=null)}return[l,l.add(G||n.normalize(O)),f.add(J||s.normalize(M)),f]},reparameterize:function(e,t,r,n){for(var s=e;s<=t;s++)r[s-e]=this.findRoot(n,this.points[s],r[s-e]);for(var s=1,u=r.length;s<u;s++)if(r[s]<=r[s-1])return!1;return!0},findRoot:function(e,t,r){for(var n=[],s=[],u=0;u<=2;u++)n[u]=e[u+1].subtract(e[u]).multiply(3);for(var u=0;u<=1;u++)s[u]=n[u+1].subtract(n[u]).multiply(2);var o=this.evaluate(3,e,r),h=this.evaluate(2,n,r),l=this.evaluate(1,s,r),f=o.subtract(t),_=h.dot(h)+f.dot(l);return te.isMachineZero(_)?r:r-f.dot(h)/_},evaluate:function(e,t,r){for(var n=t.slice(),s=1;s<=e;s++)for(var u=0;u<=e-s;u++)n[u]=n[u].multiply(1-r).add(n[u+1].multiply(r));return n[0]},chordLengthParameterize:function(e,t){for(var r=[0],n=e+1;n<=t;n++)r[n-e]=r[n-e-1]+this.points[n].getDistance(this.points[n-1]);for(var n=1,s=t-e;n<=s;n++)r[n]/=r[s];return r},findMaxError:function(e,t,r,n){for(var s=Math.floor((t-e+1)/2),u=0,o=e+1;o<t;o++){var h=this.evaluate(3,r,n[o-e]),l=h.subtract(this.points[o]),f=l.x*l.x+l.y*l.y;f>=u&&(u=f,s=o)}return{error:u,index:s}}}),Et=I.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(t){this._content="",this._lines=[];var r=t&&T.isPlainObject(t)&&t.x===$&&t.y===$;this._initialize(r&&t,!r&&V.read(arguments))},_equals:function(e){return this._content===e._content},copyContent:function(e){this.setContent(e._content)},getContent:function(){return this._content},setContent:function(e){this._content=""+e,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),Jt=Et.extend({_class:"PointText",initialize:function(){Et.apply(this,arguments)},getPoint:function(){var e=this._matrix.getTranslation();return new xe(e.x,e.y,this,"setPoint")},setPoint:function(){var e=V.read(arguments);this.translate(e.subtract(this._matrix.getTranslation()))},_draw:function(e,t,r){if(this._content){this._setStyles(e,t,r);var n=this._lines,s=this._style,u=s.hasFill(),o=s.hasStroke(),h=s.getLeading(),l=e.shadowColor;e.font=s.getFontStyle(),e.textAlign=s.getJustification();for(var f=0,_=n.length;f<_;f++){e.shadowColor=l;var m=n[f];u&&(e.fillText(m,0,0),e.shadowColor="rgba(0,0,0,0)"),o&&e.strokeText(m,0,0),e.translate(0,h)}}},_getBounds:function(e,t){var r=this._style,n=this._lines,s=n.length,u=r.getJustification(),o=r.getLeading(),h=this.getView().getTextWidth(r.getFontStyle(),n),l=0;u!=="left"&&(l-=h/(u==="center"?2:1));var f=new oe(l,s?-.75*o:0,h,s*o);return e?e._transformBounds(f,f):f}}),Ze=T.extend(new function(){var e={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},t={},r={transparent:[0,0,0,0]},n;function s(h){var l=h.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||h.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),f="rgb",_;if(l){var m=l[4]?4:3;_=new Array(m);for(var p=0;p<m;p++){var d=l[p+1];_[p]=parseInt(d.length==1?d+d:d,16)/255}}else if(l=h.match(/^(rgb|hsl)a?\((.*)\)$/)){f=l[1],_=l[2].trim().split(/[,\s]+/g);for(var C=f==="hsl",p=0,b=Math.min(_.length,4);p<b;p++){var S=_[p],d=parseFloat(S);if(C)if(p===0){var g=S.match(/([a-z]*)$/)[1];d*={turn:360,rad:180/Math.PI,grad:.9}[g]||1}else p<3&&(d/=100);else p<3&&(d/=/%$/.test(S)?100:255);_[p]=d}}else{var y=r[h];if(!y)if(fe){n||(n=Ie.getContext(1,1,{willReadFrequently:!0}),n.globalCompositeOperation="copy"),n.fillStyle="rgba(0,0,0,0)",n.fillStyle=h,n.fillRect(0,0,1,1);var c=n.getImageData(0,0,1,1).data;y=r[h]=[c[0]/255,c[1]/255,c[2]/255]}else y=[0,0,0];_=y.slice()}return[f,_]}var u=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],o={"rgb-hsb":function(h,l,f){var _=Math.max(h,l,f),m=Math.min(h,l,f),p=_-m,d=p===0?0:(_==h?(l-f)/p+(l<f?6:0):_==l?(f-h)/p+2:(h-l)/p+4)*60;return[d,_===0?0:p/_,_]},"hsb-rgb":function(h,l,f){h=(h/60%6+6)%6;var m=Math.floor(h),_=h-m,m=u[m],p=[f,f*(1-l),f*(1-l*_),f*(1-l*(1-_))];return[p[m[0]],p[m[1]],p[m[2]]]},"rgb-hsl":function(h,l,f){var _=Math.max(h,l,f),m=Math.min(h,l,f),p=_-m,d=p===0,C=d?0:(_==h?(l-f)/p+(l<f?6:0):_==l?(f-h)/p+2:(h-l)/p+4)*60,b=(_+m)/2,S=d?0:b<.5?p/(_+m):p/(2-_-m);return[C,S,b]},"hsl-rgb":function(h,l,f){if(h=(h/360%1+1)%1,l===0)return[f,f,f];for(var _=[h+1/3,h,h-1/3],m=f<.5?f*(1+l):f+l-f*l,p=2*f-m,d=[],C=0;C<3;C++){var b=_[C];b<0&&(b+=1),b>1&&(b-=1),d[C]=6*b<1?p+(m-p)*6*b:2*b<1?m:3*b<2?p+(m-p)*(2/3-b)*6:p}return d},"rgb-gray":function(h,l,f){return[h*.2989+l*.587+f*.114]},"gray-rgb":function(h){return[h,h,h]},"gray-hsb":function(h){return[0,0,h]},"gray-hsl":function(h){return[0,0,h]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return T.each(e,function(h,l){t[l]=[],T.each(h,function(f,_){var m=T.capitalize(f),p=/^(hue|saturation)$/.test(f),d=t[l][_]=l==="gradient"?f==="gradient"?function(C){var b=this._components[0];return C=Dt.read(Array.isArray(C)?C:arguments,0,{readNull:!0}),b!==C&&(b&&b._removeOwner(this),C&&C._addOwner(this)),C}:function(){return V.read(arguments,0,{readNull:f==="highlight",clone:!0})}:function(C){return C==null||isNaN(C)?0:+C};this["get"+m]=function(){return this._type===l||p&&/^hs[bl]$/.test(this._type)?this._components[_]:this._convert(l)[_]},this["set"+m]=function(C){this._type!==l&&!(p&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(l),this._properties=e[l],this._type=l),this._components[_]=d.call(this,C),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function h(l){var f=arguments,_=this.__read,m=0,p,d,C,b;Array.isArray(l)&&(f=l,l=f[0]);var S=l!=null&&typeof l;if(S==="string"&&l in e&&(p=l,l=f[1],Array.isArray(l)?(d=l,C=f[2]):(_&&(m=1),f=T.slice(f,1),S=typeof l)),!d){if(b=S==="number"?f:S==="object"&&l.length!=null?l:null,b){p||(p=b.length>=3?"rgb":"gray");var g=e[p].length;C=b[g],_&&(m+=b===arguments?g+(C!=null?1:0):1),b.length>g&&(b=T.slice(b,0,g))}else if(S==="string"){var y=s(l);p=y[0],d=y[1],d.length===4&&(C=d[3],d.length--)}else if(S==="object")if(l.constructor===h){if(p=l._type,d=l._components.slice(),C=l._alpha,p==="gradient")for(var c=1,x=d.length;c<x;c++){var k=d[c];k&&(d[c]=k.clone())}}else if(l.constructor===Dt)p="gradient",b=f;else{p="hue"in l?"lightness"in l?"hsl":"hsb":"gradient"in l||"stops"in l||"radial"in l?"gradient":"gray"in l?"gray":"rgb";var A=e[p],w=t[p];this._components=d=[];for(var c=0,x=A.length;c<x;c++){var E=l[A[c]];E==null&&!c&&p==="gradient"&&"stops"in l&&(E={stops:l.stops,radial:l.radial}),E=w[c].call(this,E),E!=null&&(d[c]=E)}C=l.alpha}_&&p&&(m=1)}if(this._type=p||"rgb",!d){this._components=d=[];for(var w=t[this._type],c=0,x=w.length;c<x;c++){var E=w[c].call(this,b&&b[c]);E!=null&&(d[c]=E)}}return this._components=d,this._properties=e[this._type],this._alpha=C,_&&(this.__read=m),this},set:"#initialize",_serialize:function(h,l){var f=this.getComponents();return T.serialize(/^(gray|rgb)$/.test(this._type)?f:[this._type].concat(f),h,!0,l)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(h){var l;return this._type===h?this._components.slice():(l=o[this._type+"-"+h])?l.apply(this,this._components):o["rgb-"+h].apply(this,o[this._type+"-rgb"].apply(this,this._components))},convert:function(h){return new Ze(h,this._convert(h),this._alpha)},getType:function(){return this._type},setType:function(h){this._components=this._convert(h),this._properties=e[h],this._type=h},getComponents:function(){var h=this._components.slice();return this._alpha!=null&&h.push(this._alpha),h},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(h){this._alpha=h==null?null:Math.min(Math.max(h,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(h){var l=T.isPlainValue(h,!0)?Ze.read(arguments):h;return l===this||l&&this._class===l._class&&this._type===l._type&&this.getAlpha()===l.getAlpha()&&T.equals(this._components,l._components)||!1},toString:function(){for(var h=this._properties,l=[],f=this._type==="gradient",_=pe.instance,m=0,p=h.length;m<p;m++){var d=this._components[m];d!=null&&l.push(h[m]+": "+(f?d:_.number(d)))}return this._alpha!=null&&l.push("alpha: "+_.number(this._alpha)),"{ "+l.join(", ")+" }"},toCSS:function(h){var l=this._convert("rgb"),f=h||this._alpha==null?1:this._alpha;function _(m){return Math.round((m<0?0:m>1?1:m)*255)}return l=[_(l[0]),_(l[1]),_(l[2])],f<1&&l.push(f<0?0:f),h?"#"+((1<<24)+(l[0]<<16)+(l[1]<<8)+l[2]).toString(16).slice(1):(l.length==4?"rgba(":"rgb(")+l.join(",")+")"},toCanvasStyle:function(h,l){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var f=this._components,_=f[0],m=_._stops,p=f[1],d=f[2],C=f[3],b=l&&l.inverted(),S;if(b&&(p=b._transformPoint(p),d=b._transformPoint(d),C&&(C=b._transformPoint(C))),_._radial){var g=d.getDistance(p);if(C){var y=C.subtract(p);y.getLength()>g&&(C=p.add(y.normalize(g-.1)))}var c=C||p;S=h.createRadialGradient(c.x,c.y,0,p.x,p.y,g)}else S=h.createLinearGradient(p.x,p.y,d.x,d.y);for(var x=0,k=m.length;x<k;x++){var A=m[x],w=A._offset;S.addColorStop(w??x/(k-1),A._color.toCanvasStyle())}return this._canvasStyle=S},transform:function(h){if(this._type==="gradient"){for(var l=this._components,f=1,_=l.length;f<_;f++){var m=l[f];h._transformPoint(m,m,!0)}this._changed()}},statics:{_types:e,random:function(){var h=Math.random;return new Ze(h(),h(),h())},_setOwner:function(h,l,f){return h&&(h._owner&&l&&h._owner!==l&&(h=h.clone()),!h._owner^!l&&(h._owner=l||null,h._setter=f||null)),h}}})},new function(){var e={add:function(t,r){return t+r},subtract:function(t,r){return t-r},multiply:function(t,r){return t*r},divide:function(t,r){return t/r}};return T.each(e,function(t,r){this[r]=function(n){n=Ze.read(arguments);for(var s=this._type,u=this._components,o=n._convert(s),h=0,l=u.length;h<l;h++)o[h]=t(u[h],o[h]);return new Ze(s,o,this._alpha!=null?t(this._alpha,n.getAlpha()):null)}},{})}),Dt=T.extend({_class:"Gradient",initialize:function(t,r){this._id=qe.get(),t&&T.isPlainObject(t)&&(this.set(t),t=r=null),this._stops==null&&this.setStops(t||["white","black"]),this._radial==null&&this.setRadial(typeof r=="string"&&r==="radial"||r||!1)},_serialize:function(e,t){return t.add(this,function(){return T.serialize([this._stops,this._radial],e,!0,t)})},_changed:function(){for(var e=0,t=this._owners&&this._owners.length;e<t;e++)this._owners[e]._changed()},_addOwner:function(e){this._owners||(this._owners=[]),this._owners.push(e)},_removeOwner:function(e){var t=this._owners?this._owners.indexOf(e):-1;t!=-1&&(this._owners.splice(t,1),this._owners.length||(this._owners=$))},clone:function(){for(var e=[],t=0,r=this._stops.length;t<r;t++)e[t]=this._stops[t].clone();return new Dt(e,this._radial)},getStops:function(){return this._stops},setStops:function(e){if(e.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var t=this._stops;if(t)for(var r=0,n=t.length;r<n;r++)t[r]._owner=$;t=this._stops=At.readList(e,0,{clone:!0});for(var r=0,n=t.length;r<n;r++)t[r]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(e){this._radial=e,this._changed()},equals:function(e){if(e===this)return!0;if(e&&this._class===e._class){var t=this._stops,r=e._stops,n=t.length;if(n===r.length){for(var s=0;s<n;s++)if(!t[s].equals(r[s]))return!1;return!0}}return!1}}),At=T.extend({_class:"GradientStop",initialize:function(t,r){var n=t,s=r;typeof t=="object"&&r===$&&(Array.isArray(t)&&typeof t[0]!="number"?(n=t[0],s=t[1]):("color"in t||"offset"in t||"rampPoint"in t)&&(n=t.color,s=t.offset||t.rampPoint||0)),this.setColor(n),this.setOffset(s)},clone:function(){return new At(this._color.clone(),this._offset)},_serialize:function(e,t){var r=this._color,n=this._offset;return T.serialize(n==null?[r]:[r,n],e,!0,t)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(e){this._offset=e,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){Ze._setOwner(this._color,null),this._color=Ze._setOwner(Ze.read(arguments,0),this,"setColor"),this._changed()},equals:function(e){return e===this||e&&this._class===e._class&&this._color.equals(e._color)&&this._offset==e._offset||!1}}),fi=T.extend(new function(){var e={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new V,selectedColor:null},t=T.set({},e,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),r=T.set({},t,{fillColor:new Ze}),n={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},s={beans:!0},u={_class:"Style",beans:!0,initialize:function(h,l,f){this._values={},this._owner=l,this._project=l&&l._project||f||Ve.project,this._defaults=!l||l instanceof He?t:l instanceof Et?r:e,h&&this.set(h)}};return T.each(t,function(o,h){var l=/Color$/.test(h),f=h==="shadowOffset",_=T.capitalize(h),m=n[h],p="set"+_,d="get"+_;u[p]=function(C){var b=this._owner,S=b&&b._children,g=S&&S.length>0&&!(b instanceof ht);if(g)for(var y=0,c=S.length;y<c;y++)S[y]._style[p](C);if((h==="selectedColor"||!g)&&h in this._defaults){var x=this._values[h];x!==C&&(l&&(x&&(Ze._setOwner(x,null),x._canvasStyle=null),C&&C.constructor===Ze&&(C=Ze._setOwner(C,b,g&&p))),this._values[h]=C,b&&b._changed(m||129))}},u[d]=function(C){var b=this._owner,S=b&&b._children,g=S&&S.length>0&&!(b instanceof ht),y;if(g&&!C)for(var c=0,x=S.length;c<x;c++){var k=S[c]._style[d]();if(!c)y=k;else if(!T.equals(y,k))return $}else if(h in this._defaults){var y=this._values[h];if(y===$)y=this._defaults[h],y&&y.clone&&(y=y.clone());else{var A=l?Ze:f?V:null;A&&!(y&&y.constructor===A)&&(this._values[h]=y=A.read([y],0,{readNull:!0,clone:!0}))}}return y&&l&&(y=Ze._setOwner(y,b,g&&p)),y},s[d]=function(C){return this._style[d](C)},s[p]=function(C){this._style[p](C)}}),T.each({Font:"FontFamily",WindingRule:"FillRule"},function(o,h){var l="get"+h,f="set"+h;u[l]=s[l]="#get"+o,u[f]=s[f]="#set"+o}),I.inject(s),u},{set:function(e){var t=e instanceof fi,r=t?e._values:e;if(r){for(var n in r)if(n in this._defaults){var s=r[n];this[n]=s&&t&&s.clone?s.clone():s}}},equals:function(e){function t(r,n,s){var u=r._values,o=n._values,h=n._defaults;for(var l in u){var f=u[l],_=o[l];if(!(s&&l in o)&&!T.equals(f,_===$?h[l]:_))return!1}return!0}return e===this||e&&this._class===e._class&&t(this,e)&&t(e,this,!0)||!1},_dispose:function(){var e;e=this.getFillColor(),e&&(e._canvasStyle=null),e=this.getStrokeColor(),e&&(e._canvasStyle=null),e=this.getShadowColor(),e&&(e._canvasStyle=null)},hasFill:function(){var e=this.getFillColor();return!!e&&e.alpha>0},hasStroke:function(){var e=this.getStrokeColor();return!!e&&e.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var e=this.getShadowColor();return!!e&&e.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var e=this.getFontSize();return this.getFontWeight()+" "+e+(/[a-z]/i.test(e+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function e(){var t=e.base.call(this),r=this.getFontSize();return/pt|em|%|px/.test(r)&&(r=this.getView().getPixelSize(r)),t??r*1.2}}),it=new function(){function e(t,r,n,s){for(var u=["","webkit","moz","Moz","ms","o"],o=r[0].toUpperCase()+r.substring(1),h=0;h<6;h++){var l=u[h],f=l?l+o:r;if(f in t){if(n)t[f]=s;else return t[f];break}}}return{getStyles:function(t){var r=t&&t.nodeType!==9?t.ownerDocument:t,n=r&&r.defaultView;return n&&n.getComputedStyle(t,"")},getBounds:function(t,r){var n=t.ownerDocument,s=n.body,u=n.documentElement,o;try{o=t.getBoundingClientRect()}catch{o={left:0,top:0,width:0,height:0}}var h=o.left-(u.clientLeft||s.clientLeft||0),l=o.top-(u.clientTop||s.clientTop||0);if(!r){var f=n.defaultView;h+=f.pageXOffset||u.scrollLeft||s.scrollLeft,l+=f.pageYOffset||u.scrollTop||s.scrollTop}return new oe(h,l,o.width,o.height)},getViewportBounds:function(t){var r=t.ownerDocument,n=r.defaultView,s=r.documentElement;return new oe(0,0,n.innerWidth||s.clientWidth,n.innerHeight||s.clientHeight)},getOffset:function(t,r){return it.getBounds(t,r).getPoint()},getSize:function(t){return it.getBounds(t,!0).getSize()},isInvisible:function(t){return it.getSize(t).equals(new ae(0,0))},isInView:function(t){return!it.isInvisible(t)&&it.getViewportBounds(t).intersects(it.getBounds(t,!0))},isInserted:function(t){return Q.body.contains(t)},getPrefixed:function(t,r){return t&&e(t,r)},setPrefixed:function(t,r,n){if(typeof r=="object")for(var s in r)e(t,s,!0,r[s]);else e(t,r,!0,n)}}},nt={add:function(e,t){if(e)for(var r in t)for(var n=t[r],s=r.split(/[\s,]+/g),u=0,o=s.length;u<o;u++){var h=s[u],l=e===Q&&(h==="touchstart"||h==="touchmove")?{passive:!1}:!1;e.addEventListener(h,n,l)}},remove:function(e,t){if(e)for(var r in t)for(var n=t[r],s=r.split(/[\s,]+/g),u=0,o=s.length;u<o;u++)e.removeEventListener(s[u],n,!1)},getPoint:function(e){var t=e.targetTouches?e.targetTouches.length?e.targetTouches[0]:e.changedTouches[0]:e;return new V(t.pageX||t.clientX+Q.documentElement.scrollLeft,t.pageY||t.clientY+Q.documentElement.scrollTop)},getTarget:function(e){return e.target||e.srcElement},getRelatedTarget:function(e){return e.relatedTarget||e.toElement},getOffset:function(e,t){return nt.getPoint(e).subtract(it.getOffset(t||nt.getTarget(e)))}};nt.requestAnimationFrame=new function(){var e=it.getPrefixed(fe,"requestAnimationFrame"),t=!1,r=[],n;function s(){var u=r;r=[];for(var o=0,h=u.length;o<h;o++)u[o]();t=e&&r.length,t&&e(s)}return function(u){r.push(u),e?t||(e(s),t=!0):n||(n=setInterval(s,1e3/60))}};var ut=T.extend(ne,{_class:"View",initialize:function e(t,r){function n(m){return r[m]||parseInt(r.getAttribute(m),10)}function s(){var m=it.getSize(r);return m.isNaN()||m.isZero()?new ae(n("width"),n("height")):m}var u;if(fe&&r){this._id=r.getAttribute("id"),this._id==null&&r.setAttribute("id",this._id="paper-view-"+e._id++),nt.add(r,this._viewEvents);var o="none";if(it.setPrefixed(r.style,{userDrag:o,userSelect:o,touchCallout:o,contentZooming:o,tapHighlightColor:"rgba(0,0,0,0)"}),de.hasAttribute(r,"resize")){var h=this;nt.add(fe,this._windowEvents={resize:function(){h.setViewSize(s())}})}if(u=s(),de.hasAttribute(r,"stats")&&typeof Stats<"u"){this._stats=new Stats;var l=this._stats.domElement,f=l.style,_=it.getOffset(r);f.position="absolute",f.left=_.x+"px",f.top=_.y+"px",Q.body.appendChild(l)}}else u=new ae(r),r=null;this._project=t,this._scope=t._scope,this._element=r,this._pixelRatio||(this._pixelRatio=fe&&fe.devicePixelRatio||1),this._setElementSize(u.width,u.height),this._viewSize=u,e._views.push(this),e._viewsById[this._id]=this,(this._matrix=new Ce)._owner=this,e._focused||(e._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!Ve.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;ut._focused===this&&(ut._focused=null),ut._views.splice(ut._views.indexOf(this),1),delete ut._viewsById[this._id];var e=this._project;return e._view===this&&(e._view=null),nt.remove(this._element,this._viewEvents),nt.remove(fe,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:T.each(I._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(e){this[e]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(e){this._autoUpdate=e,e&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var e=this;nt.requestAnimationFrame(function(){if(e._requested=!1,e._animate){e.requestUpdate();var t=e._element;(!it.getPrefixed(Q,"hidden")||de.getAttribute(t,"keepalive")==="true")&&it.isInView(t)&&e._handleFrame()}e._autoUpdate&&e.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){Ve=this._scope;var e=Date.now()/1e3,t=this._last?e-this._last:0;this._last=e,this.emit("frame",new T({delta:t,time:this._time+=t,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(e,t){var r=this._frameItems;t?(r[e._id]={item:e,time:0,count:0},++this._frameItemCount===1&&this.on("frame",this._handleFrameItems)):(delete r[e._id],--this._frameItemCount===0&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(e){for(var t in this._frameItems){var r=this._frameItems[t];r.item.emit("frame",new T(e,{time:r.time+=e.delta,count:r.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=$},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var e=this._viewSize;return new ye(e.width,e.height,this,"setViewSize")},setViewSize:function(){var e=ae.read(arguments),t=e.subtract(this._viewSize);t.isZero()||(this._setElementSize(e.width,e.height),this._viewSize.set(e),this._changed(),this.emit("resize",{size:e,delta:t}),this._autoUpdate&&this.update())},_setElementSize:function(e,t){var r=this._element;r&&(r.width!==e&&(r.width=e),r.height!==t&&(r.height=t))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new oe(new V,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return it.isInView(this._element)},isInserted:function(){return it.isInserted(this._element)},getPixelSize:function(e){var t=this._element,r;if(t){var n=t.parentNode,s=Q.createElement("div");s.style.fontSize=e,n.appendChild(s),r=parseFloat(it.getStyles(s).fontSize),n.removeChild(s)}else r=parseFloat(r);return r},getTextWidth:function(e,t){return 0}},T.each(["rotate","scale","shear","skew"],function(e){var t=e==="rotate";this[e]=function(){var r=arguments,n=(t?T:V).read(r),s=V.read(r,0,{readNull:!0});return this.transform(new Ce()[e](n,s||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var e=new Ce;return this.transform(e.translate.apply(e,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var e=V.read(arguments);this.translate(this.getCenter().subtract(e))},getZoom:function(){var e=this._decompose().scaling;return(e.x+e.y)/2},setZoom:function(e){this.transform(new Ce().scale(e/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(e){var t=this.getRotation();t!=null&&e!=null&&this.rotate(e-t)},getScaling:function(){var e=this._decompose().scaling;return new xe(e.x,e.y,this,"setScaling")},setScaling:function(){var e=this.getScaling(),t=V.read(arguments,0,{clone:!0,readNull:!0});e&&t&&this.scale(t.x/e.x,t.y/e.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.set.apply(e,arguments)},transform:function(e){this._matrix.append(e)},scrollBy:function(){this.translate(V.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(V.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(V.read(arguments))},getEventPoint:function(e){return this.viewToProject(nt.getOffset(e,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(e,t){Q&&typeof t=="string"&&(t=Q.getElementById(t));var r=fe?_i:ut;return new r(e,t)}}},new function(){if(!fe)return;var e,t,r=!1,n=!1;function s(L){var z=nt.getTarget(L);return z.getAttribute&&ut._viewsById[z.getAttribute("id")]}function u(){var L=ut._focused;if(!L||!L.isVisible()){for(var z=0,F=ut._views.length;z<F;z++)if((L=ut._views[z]).isVisible()){ut._focused=t=L;break}}}function o(L,z,F){L._handleMouseEvent("mousemove",z,F)}var h=fe.navigator,l,f,_;h.pointerEnabled||h.msPointerEnabled?(l="pointerdown MSPointerDown",f="pointermove MSPointerMove",_="pointerup pointercancel MSPointerUp MSPointerCancel"):(l="touchstart",f="touchmove",_="touchend touchcancel","ontouchstart"in fe&&h.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(l+=" mousedown",f+=" mousemove",_+=" mouseup"));var m={},p={mouseout:function(L){var z=ut._focused,F=nt.getRelatedTarget(L);if(z&&(!F||F.nodeName==="HTML")){var q=nt.getOffset(L,z._element),U=q.x,G=Math.abs,J=G(U),re=1<<25,he=J-re;q.x=G(he)<J?he*(U<0?-1:1):U,o(z,L,z.viewToProject(q))}},scroll:u};m[l]=function(L){var z=ut._focused=s(L);r||(r=!0,z._handleMouseEvent("mousedown",L))},p[f]=function(L){var z=ut._focused;if(!n){var F=s(L);F?z!==F&&(z&&o(z,L),e||(e=z),z=ut._focused=t=F):t&&t===z&&(e&&!e.isInserted()&&(e=null),z=ut._focused=e,e=null,u())}z&&o(z,L)},p[l]=function(){n=!0},p[_]=function(L){var z=ut._focused;z&&r&&z._handleMouseEvent("mouseup",L),n=r=!1},nt.add(Q,p),nt.add(fe,{load:u});var d=!1,C=!1,b={doubleclick:"click",mousedrag:"mousemove"},S=!1,g,y,c,x,k,A,w,E;function O(L,z,F,q,U,G,J){var re=!1,he;function _e(j,X){if(j.responds(X)){if(he||(he=new st(X,q,U,z||j,G?U.subtract(G):null)),j.emit(X,he)&&(d=!0,he.prevented&&(C=!0),he.stopped))return re=!0}else{var le=b[X];if(le)return _e(j,le)}}for(;L&&L!==J&&!_e(L,F);)L=L._parent;return re}function M(L,z,F,q,U,G){return L._project.removeOn(F),C=d=!1,k&&O(k,null,F,q,U,G)||z&&z!==k&&!z.isDescendant(k)&&O(z,null,F==="mousedrag"?"mousemove":F,q,U,G,k)||O(L,k||z||L,F,q,U,G)}var B={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:m,_handleMouseEvent:function(L,z,F){var q=this._itemEvents,U=q.native[L],G=L==="mousemove",J=this._scope.tool,re=this;function he(Ae){return q.virtual[Ae]||re.responds(Ae)||J&&J.responds(Ae)}G&&r&&he("mousedrag")&&(L="mousedrag"),F||(F=this.getEventPoint(z));var _e=this.getBounds().contains(F),j=U&&_e&&re._project.hitTest(F,{tolerance:0,fill:!0,stroke:!0}),X=j&&j.item||null,le=!1,me={};if(me[L.substr(5)]=!0,U&&X!==x&&(x&&O(x,null,"mouseleave",z,F),X&&O(X,null,"mouseenter",z,F),x=X),S^_e&&(O(this,null,_e?"mouseenter":"mouseleave",z,F),le=!0),(_e||me.drag)&&!F.equals(y)&&(M(this,X,G?L:"mousemove",z,F,y),le=!0),S=_e,me.down&&_e||me.up&&g){if(M(this,X,L,z,F,g),me.down){if(E=X===A&&Date.now()-w<300,c=A=X,!C&&X){for(var ve=X;ve&&!ve.responds("mousedrag");)ve=ve._parent;ve&&(k=X)}g=F}else me.up&&(!C&&X===c&&(w=Date.now(),M(this,X,E?"doubleclick":"click",z,F,g),E=!1),c=k=null);S=!1,le=!0}y=F,le&&J&&(d=J._handleMouseEvent(L,z,F,me)||d),z.cancelable!==!1&&(d&&!me.move||me.down&&he("mouseup"))&&z.preventDefault()},_handleKeyEvent:function(L,z,F,q){var U=this._scope,G=U.tool,J;function re(he){he.responds(L)&&(Ve=U,he.emit(L,J=J||new Ci(L,z,F,q)))}this.isVisible()&&(re(this),G&&G.responds(L)&&re(G))},_countItemEvent:function(L,z){var F=this._itemEvents,q=F.native,U=F.virtual;for(var G in B)q[G]=(q[G]||0)+(B[G][L]||0)*z;U[L]=(U[L]||0)+z},statics:{updateFocus:u,_resetState:function(){r=n=d=S=!1,e=t=g=y=c=x=k=A=w=E=null}}}}),_i=ut.extend({_class:"CanvasView",initialize:function(t,r){if(!(r instanceof fe.HTMLCanvasElement)){var n=ae.read(arguments,1);if(n.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+T.slice(arguments,1));r=Ie.getCanvas(n)}var s=this._context=r.getContext("2d");if(s.save(),this._pixelRatio=1,!/^off|false$/.test(de.getAttribute(r,"hidpi"))){var u=fe.devicePixelRatio||1,o=it.getPrefixed(s,"backingStorePixelRatio")||1;this._pixelRatio=u/o}ut.call(this,t,r),this._needsUpdate=!0},remove:function e(){return this._context.restore(),e.base.call(this)},_setElementSize:function e(t,r){var n=this._pixelRatio;if(e.base.call(this,t*n,r*n),n!==1){var s=this._element,u=this._context;if(!de.hasAttribute(s,"resize")){var o=s.style;o.width=t+"px",o.height=r+"px"}u.restore(),u.save(),u.scale(n,n)}},getContext:function(){return this._context},getPixelSize:function e(t){var r=Ve.agent,n;if(r&&r.firefox)n=e.base.call(this,t);else{var s=this._context,u=s.font;s.font=t+" serif",n=parseFloat(s.font),s.font=u}return n},getTextWidth:function(e,t){var r=this._context,n=r.font,s=0;r.font=e;for(var u=0,o=t.length;u<o;u++)s=Math.max(s,r.measureText(t[u]).width);return r.font=n,s},update:function(){if(!this._needsUpdate)return!1;var e=this._project,t=this._context,r=this._viewSize;return t.clearRect(0,0,r.width+1,r.height+1),e&&e.draw(t,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),Gt=T.extend({_class:"Event",initialize:function(t){this.event=t,this.type=t&&t.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return ri.modifiers}}),Ci=Gt.extend({_class:"KeyEvent",initialize:function(t,r,n,s){this.type=t,this.event=r,this.key=n,this.character=s},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),ri=new function(){var e={"	":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},t={tab:"	",space:" ",enter:"\r"},r={},n={},s,u,o=new T({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var f=Ve&&Ve.agent;return f&&f.mac?this.meta:this.control}}});function h(f){var _=f.key||f.keyIdentifier;return _=/^U\+/.test(_)?String.fromCharCode(parseInt(_.substr(2),16)):/^Arrow[A-Z]/.test(_)?_.substr(5):_==="Unidentified"||_===$?String.fromCharCode(f.keyCode):_,e[_]||(_.length>1?T.hyphenate(_):_.toLowerCase())}function l(f,_,m,p){var d=ut._focused,C;if(r[_]=f,f?n[_]=m:delete n[_],_.length>1&&(C=T.camelize(_))in o){o[C]=f;var b=Ve&&Ve.agent;if(C==="meta"&&b&&b.mac)if(f)s={};else{for(var S in s)S in n&&l(!1,S,s[S],p);s=null}}else f&&s&&(s[_]=m);d&&d._handleKeyEvent(f?"keydown":"keyup",p,_,m)}return nt.add(Q,{keydown:function(f){var _=h(f),m=Ve&&Ve.agent;_.length>1||m&&m.chrome&&(f.altKey||m.mac&&f.metaKey||!m.mac&&f.ctrlKey)?l(!0,_,t[_]||(_.length>1?"":_),f):u=_},keypress:function(f){if(u){var _=h(f),m=f.charCode,p=m>=32?String.fromCharCode(m):_.length>1?"":_;_!==u&&(_=p.toLowerCase()),l(!0,_,p,f),u=null}},keyup:function(f){var _=h(f);_ in n&&l(!1,_,n[_],f)}}),nt.add(fe,{blur:function(f){for(var _ in n)l(!1,_,n[_],f)}}),{modifiers:o,isDown:function(f){return!!r[f]}}},st=Gt.extend({_class:"MouseEvent",initialize:function(t,r,n,s,u){this.type=t,this.event=r,this.point=n,this.target=s,this.delta=u},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),Ke=Gt.extend({_class:"ToolEvent",_item:null,initialize:function(t,r,n){this.tool=t,this.type=r,this.event=n},_choosePoint:function(e,t){return e||(t?t.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(e){this._point=e},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(e){this._lastPoint=e},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(e){this._downPoint=e},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(e){this._middlePoint=e},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(e){this._delta=e},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(e){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=e},getItem:function(){if(!this._item){var e=this.tool._scope.project.hitTest(this.getPoint());if(e){for(var t=e.item,r=t._parent;/^(Group|CompoundPath)$/.test(r._class);)t=r,r=r._parent;this._item=t}}return this._item},setItem:function(e){this._item=e},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),Ct=Ge.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(t){Ge.call(this),this._moveCount=-1,this._downCount=-1,this.set(t)},getMinDistance:function(){return this._minDistance},setMinDistance:function(e){this._minDistance=e,e!=null&&this._maxDistance!=null&&e>this._maxDistance&&(this._maxDistance=e)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(e){this._maxDistance=e,this._minDistance!=null&&e!=null&&e<this._minDistance&&(this._minDistance=e)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(e){this._minDistance=this._maxDistance=e},_handleMouseEvent:function(e,t,r,n){Ve=this._scope,n.drag&&!this.responds(e)&&(e="mousemove");var s=n.move||n.drag,u=this.responds(e),o=!1,h=this;function l(_,m){var p=r,d=s?h._point:h._downPoint||p;if(s){if(h._moveCount>=0&&p.equals(d))return!1;if(d&&(_!=null||m!=null)){var C=p.subtract(d),b=C.getLength();if(b<(_||0))return!1;m&&(p=d.add(C.normalize(Math.min(b,m))))}h._moveCount++}return h._point=p,h._lastPoint=d||p,n.down&&(h._moveCount=-1,h._downPoint=p,h._downCount++),!0}function f(){u&&(o=h.emit(e,new Ke(h,e,t))||o)}if(n.down)l(),f();else if(n.up)l(null,this._maxDistance),f();else if(u)for(;l(this._minDistance,this._maxDistance);)f();return o}}),ni=T.extend(ne,{_class:"Tween",statics:{easings:new T({linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+2*(2-e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}})},initialize:function e(t,r,n,s,u,o){this.object=t;var h=typeof u,l=h==="function";this.type=l?h:h==="string"?u:"linear",this.easing=l?u:e.easings[this.type],this.duration=s,this.running=!1,this._then=null,this._startTime=null;var f=r||n;this._keys=f?Object.keys(f):[],this._parsedKeys=this._parseKeys(this._keys),this._from=f&&this._getState(r),this._to=f&&this._getState(n),o!==!1&&this.start()},then:function(e){return this._then=e,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(e){if(this.running){e>=1&&(e=1,this.running=!1);for(var t=this.easing(e),r=this._keys,n=function(_){return typeof _=="function"?_(t,e):_},s=0,u=r&&r.length;s<u;s++){var o=r[s],h=n(this._from[o]),l=n(this._to[o]),f=h&&l&&h.__add&&l.__add?l.__subtract(h).__multiply(t).__add(h):(l-h)*t+h;this._setProperty(this._parsedKeys[o],f)}this.responds("update")&&this.emit("update",new T({progress:e,factor:t})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(e){var t=this._startTime,r=t?(e-t)/this.duration:0;t||(this._startTime=e),this.update(r)},_getState:function(e){for(var t=this._keys,r={},n=0,s=t.length;n<s;n++){var u=t[n],o=this._parsedKeys[u],h=this._getProperty(o),l;if(e){var f=this._resolveValue(h,e[u]);this._setProperty(o,f),l=this._getProperty(o),l=l&&l.clone?l.clone():l,this._setProperty(o,h)}else l=h&&h.clone?h.clone():h;r[u]=l}return r},_resolveValue:function(e,t){if(t){if(Array.isArray(t)&&t.length===2){var r=t[0];return r&&r.match&&r.match(/^[+\-\*\/]=/)?this._calculate(e,r[0],t[1]):t}else if(typeof t=="string"){var n=t.match(/^[+\-*/]=(.*)/);if(n){var s=JSON.parse(n[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(e,t[0],s)}}}return t},_calculate:function(e,t,r){return Ve.PaperScript.calculateBinary(e,t,r)},_parseKeys:function(e){for(var t={},r=0,n=e.length;r<n;r++){var s=e[r],u=s.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");t[s]=u.split("/")}return t},_getProperty:function(e,t){for(var r=this.object,n=0,s=e.length-(t||0);n<s&&r;n++)r=r[e[n]];return r},_setProperty:function(e,t){var r=this._getProperty(e,1);r&&(r[e[e.length-1]]=t)}}),Xe={request:function(e){var t=new ee.XMLHttpRequest;return t.open((e.method||"get").toUpperCase(),e.url,T.pick(e.async,!0)),e.mimeType&&t.overrideMimeType(e.mimeType),t.onload=function(){var r=t.status;r===0||r===200?e.onLoad&&e.onLoad.call(t,t.responseText):t.onerror()},t.onerror=function(){var r=t.status,n='Could not load "'+e.url+'" (Status: '+r+")";if(e.onError)e.onError(n,r);else throw new Error(n)},t.send(null)}},Ie=T.exports.CanvasProvider={canvases:[],getCanvas:function(e,t,r){if(!fe)return null;var n,s=!0;typeof e=="object"&&(t=e.height,e=e.width),this.canvases.length?n=this.canvases.pop():(n=Q.createElement("canvas"),s=!1);var u=n.getContext("2d",r||{});if(!u)throw new Error("Canvas "+n+" is unable to provide a 2D context.");return n.width===e&&n.height===t?s&&u.clearRect(0,0,e+1,t+1):(n.width=e,n.height=t),u.save(),n},getContext:function(e,t,r){var n=this.getCanvas(e,t,r);return n?n.getContext("2d",r||{}):null},release:function(e){var t=e&&e.canvas?e.canvas:e;t&&t.getContext&&(t.getContext("2d").restore(),this.canvases.push(t))}},pt=new function(){var e=Math.min,t=Math.max,r=Math.abs,n,s,u,o,h,l,f,_,m,p,d;function C(k,A,w){return .2989*k+.587*A+.114*w}function b(k,A,w,M){var O=M-C(k,A,w);m=k+O,p=A+O,d=w+O;var M=C(m,p,d),B=e(m,p,d),L=t(m,p,d);if(B<0){var z=M-B;m=M+(m-M)*M/z,p=M+(p-M)*M/z,d=M+(d-M)*M/z}if(L>255){var F=255-M,q=L-M;m=M+(m-M)*F/q,p=M+(p-M)*F/q,d=M+(d-M)*F/q}}function S(k,A,w){return t(k,A,w)-e(k,A,w)}function g(k,A,w,E){var O=[k,A,w],M=t(k,A,w),B=e(k,A,w),L;B=B===k?0:B===A?1:2,M=M===k?0:M===A?1:2,L=e(B,M)===0?t(B,M)===1?2:1:0,O[M]>O[B]?(O[L]=(O[L]-O[B])*E/(O[M]-O[B]),O[M]=E):O[L]=O[M]=0,O[B]=0,m=O[0],p=O[1],d=O[2]}var y={multiply:function(){m=h*n/255,p=l*s/255,d=f*u/255},screen:function(){m=h+n-h*n/255,p=l+s-l*s/255,d=f+u-f*u/255},overlay:function(){m=h<128?2*h*n/255:255-2*(255-h)*(255-n)/255,p=l<128?2*l*s/255:255-2*(255-l)*(255-s)/255,d=f<128?2*f*u/255:255-2*(255-f)*(255-u)/255},"soft-light":function(){var k=n*h/255;m=k+h*(255-(255-h)*(255-n)/255-k)/255,k=s*l/255,p=k+l*(255-(255-l)*(255-s)/255-k)/255,k=u*f/255,d=k+f*(255-(255-f)*(255-u)/255-k)/255},"hard-light":function(){m=n<128?2*n*h/255:255-2*(255-n)*(255-h)/255,p=s<128?2*s*l/255:255-2*(255-s)*(255-l)/255,d=u<128?2*u*f/255:255-2*(255-u)*(255-f)/255},"color-dodge":function(){m=h===0?0:n===255?255:e(255,255*h/(255-n)),p=l===0?0:s===255?255:e(255,255*l/(255-s)),d=f===0?0:u===255?255:e(255,255*f/(255-u))},"color-burn":function(){m=h===255?255:n===0?0:t(0,255-(255-h)*255/n),p=l===255?255:s===0?0:t(0,255-(255-l)*255/s),d=f===255?255:u===0?0:t(0,255-(255-f)*255/u)},darken:function(){m=h<n?h:n,p=l<s?l:s,d=f<u?f:u},lighten:function(){m=h>n?h:n,p=l>s?l:s,d=f>u?f:u},difference:function(){m=h-n,m<0&&(m=-m),p=l-s,p<0&&(p=-p),d=f-u,d<0&&(d=-d)},exclusion:function(){m=h+n*(255-h-h)/255,p=l+s*(255-l-l)/255,d=f+u*(255-f-f)/255},hue:function(){g(n,s,u,S(h,l,f)),b(m,p,d,C(h,l,f))},saturation:function(){g(h,l,f,S(n,s,u)),b(m,p,d,C(h,l,f))},luminosity:function(){b(h,l,f,C(n,s,u))},color:function(){b(n,s,u,C(h,l,f))},add:function(){m=e(h+n,255),p=e(l+s,255),d=e(f+u,255)},subtract:function(){m=t(h-n,0),p=t(l-s,0),d=t(f-u,0)},average:function(){m=(h+n)/2,p=(l+s)/2,d=(f+u)/2},negation:function(){m=255-r(255-n-h),p=255-r(255-s-l),d=255-r(255-u-f)}},c=this.nativeModes=T.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(k){this[k]=!0},{}),x=Ie.getContext(1,1,{willReadFrequently:!0});x&&(T.each(y,function(k,A){var w=A==="darken",E=!1;x.save();try{x.fillStyle=w?"#300":"#a00",x.fillRect(0,0,1,1),x.globalCompositeOperation=A,x.globalCompositeOperation===A&&(x.fillStyle=w?"#a00":"#300",x.fillRect(0,0,1,1),E=x.getImageData(0,0,1,1).data[0]!==w?170:51)}catch{}x.restore(),c[A]=E}),Ie.release(x)),this.process=function(k,A,w,E,O){var M=A.canvas,B=k==="normal";if(B||c[k])w.save(),w.setTransform(1,0,0,1,0,0),w.globalAlpha=E,B||(w.globalCompositeOperation=k),w.drawImage(M,O.x,O.y),w.restore();else{var L=y[k];if(!L)return;for(var z=w.getImageData(O.x,O.y,M.width,M.height),F=z.data,q=A.getImageData(0,0,M.width,M.height).data,U=0,G=F.length;U<G;U+=4){n=q[U],h=F[U],s=q[U+1],l=F[U+1],u=q[U+2],f=F[U+2],o=q[U+3],_=F[U+3],L();var J=o*E/255,re=1-J;F[U]=J*m+re*h,F[U+1]=J*p+re*l,F[U+2]=J*d+re*f,F[U+3]=o*E+re*_}w.putImageData(z,O.x,O.y)}}},je=new function(){var e="http://www.w3.org/2000/svg",t="http://www.w3.org/2000/xmlns",r="http://www.w3.org/1999/xlink",n={href:r,xlink:t,xmlns:t+"/","xmlns:xlink":t+"/"};function s(h,l,f){return o(Q.createElementNS(e,h),l,f)}function u(h,l){var f=n[l],_=f?h.getAttributeNS(f,l):h.getAttribute(l);return _==="null"?null:_}function o(h,l,f){for(var _ in l){var m=l[_],p=n[_];typeof m=="number"&&f&&(m=f.number(m)),p?h.setAttributeNS(p,_,m):h.setAttribute(_,m)}return h}return{svg:e,xmlns:t,xlink:r,create:s,get:u,set:o}},ci=T.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(e,t){return!t&&(e instanceof It||e instanceof Fe||e instanceof Et)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(e,t){var r=T.capitalize(t),n=e[2];this[t]={type:e[1],property:t,attribute:e[0],toSVG:n,fromSVG:n&&T.each(n,function(s,u){this[s]=u},{}),exportFilter:e[3],get:"get"+r,set:"set"+r}},{});new function(){var e;function t(y,c,x){var k=new T,A=y.getTranslation();if(c){var w;y.isInvertible()?(y=y._shiftless(),w=y._inverseTransform(A),A=null):w=new V,k[x?"cx":"x"]=w.x,k[x?"cy":"y"]=w.y}if(!y.isIdentity()){var E=y.decompose();if(E){var O=[],M=E.rotation,B=E.scaling,L=E.skewing;A&&!A.isZero()&&O.push("translate("+e.point(A)+")"),M&&O.push("rotate("+e.number(M)+")"),(!te.isZero(B.x-1)||!te.isZero(B.y-1))&&O.push("scale("+e.point(B)+")"),L.x&&O.push("skewX("+e.number(L.x)+")"),L.y&&O.push("skewY("+e.number(L.y)+")"),k.transform=O.join(" ")}else k.transform="matrix("+y.getValues().join(",")+")"}return k}function r(y,c){for(var x=t(y._matrix),k=y._children,A=je.create("g",x,e),w=0,E=k.length;w<E;w++){var O=k[w],M=S(O,c);if(M)if(O.isClipMask()){var B=je.create("clipPath");B.appendChild(M),C(O,B,"clip"),je.set(A,{"clip-path":"url(#"+B.id+")"})}else A.appendChild(M)}return A}function n(y,c){var x=t(y._matrix,!0),k=y.getSize(),A=y.getImage();return x.x-=k.width/2,x.y-=k.height/2,x.width=k.width,x.height=k.height,x.href=c.embedImages==!1&&A&&A.src||y.toDataURL(),je.create("image",x,e)}function s(y,c){var x=c.matchShapes;if(x){var k=y.toShape(!1);if(k)return u(k)}var A=y._segments,w=A.length,E,O=t(y._matrix);if(x&&w>=2&&!y.hasHandles())if(w>2){E=y._closed?"polygon":"polyline";for(var M=[],B=0;B<w;B++)M.push(e.point(A[B]._point));O.points=M.join(" ")}else{E="line";var L=A[0]._point,z=A[1]._point;O.set({x1:L.x,y1:L.y,x2:z.x,y2:z.y})}else E="path",O.d=y.getPathData(null,c.precision);return je.create(E,O,e)}function u(y){var c=y._type,x=y._radius,k=t(y._matrix,!0,c!=="rectangle");if(c==="rectangle"){c="rect";var A=y._size,w=A.width,E=A.height;k.x-=w/2,k.y-=E/2,k.width=w,k.height=E,x.isZero()&&(x=null)}return x&&(c==="circle"?k.r=x:(k.rx=x.width,k.ry=x.height)),je.create(c,k,e)}function o(y,c){var x=t(y._matrix),k=y.getPathData(null,c.precision);return k&&(x.d=k),je.create("path",x,e)}function h(y,c){var x=t(y._matrix,!0),k=y._definition,A=d(k,"symbol"),w=k._item,E=w.getStrokeBounds();return A||(A=je.create("symbol",{viewBox:e.rectangle(E)}),A.appendChild(S(w,c)),C(k,A,"symbol")),x.href="#"+A.id,x.x+=E.x,x.y+=E.y,x.width=E.width,x.height=E.height,x.overflow="visible",je.create("use",x,e)}function l(y){var c=d(y,"color");if(!c){var x=y.getGradient(),k=x._radial,A=y.getOrigin(),w=y.getDestination(),E;if(k){E={cx:A.x,cy:A.y,r:A.getDistance(w)};var O=y.getHighlight();O&&(E.fx=O.x,E.fy=O.y)}else E={x1:A.x,y1:A.y,x2:w.x,y2:w.y};E.gradientUnits="userSpaceOnUse",c=je.create((k?"radial":"linear")+"Gradient",E,e);for(var M=x._stops,B=0,L=M.length;B<L;B++){var z=M[B],F=z._color,q=F.getAlpha(),U=z._offset;E={offset:U??B/(L-1)},F&&(E["stop-color"]=F.toCSS(!0)),q<1&&(E["stop-opacity"]=q),c.appendChild(je.create("stop",E,e))}C(y,c,"color")}return"url(#"+c.id+")"}function f(y){var c=je.create("text",t(y._matrix,!0),e);return c.textContent=y._content,c}var _={Group:r,Layer:r,Raster:n,Path:s,Shape:u,CompoundPath:o,SymbolItem:h,PointText:f};function m(y,c,x,k){var A={},w=!k&&y.getParent(),E=[];return y._name!=null&&(A.id=y._name),T.each(ci,function(O){var M=O.get,B=O.type,L=y[M]();if(O.exportFilter?O.exportFilter(y,L):x.reduceAttributes==!1||!w||!T.equals(w[M](),L)){if(B==="color"&&L!=null){var z=L.getAlpha();z<1&&(A[O.attribute+"-opacity"]=z)}B==="style"?E.push(O.attribute+": "+L):A[O.attribute]=L==null?"none":B==="color"?L.gradient?l(L):L.toCSS(!0):B==="array"?L.join(","):B==="lookup"?O.toSVG[L]:L}}),E.length&&(A.style=E.join(";")),A.opacity===1&&delete A.opacity,y._visible||(A.visibility="hidden"),je.set(c,A,e)}var p;function d(y,c){return p||(p={ids:{},svgs:{}}),y&&p.svgs[c+"-"+(y._id||y.__id||(y.__id=qe.get("svg")))]}function C(y,c,x){p||d();var k=p.ids[x]=(p.ids[x]||0)+1;c.id=x+"-"+k,p.svgs[x+"-"+(y._id||y.__id)]=c}function b(y,c){var x=y,k=null;if(p){x=y.nodeName.toLowerCase()==="svg"&&y;for(var A in p.svgs)k||(x||(x=je.create("svg"),x.appendChild(y)),k=x.insertBefore(je.create("defs"),x.firstChild)),k.appendChild(p.svgs[A]);p=null}return c.asString?new ee.XMLSerializer().serializeToString(x):x}function S(y,c,x){var k=_[y._class],A=k&&k(y,c);if(A){var w=c.onExport;w&&(A=w(y,A,c)||A);var E=JSON.stringify(y._data);E&&E!=="{}"&&E!=="null"&&A.setAttribute("data-paper-data",E)}return A&&m(y,A,c,x)}function g(y){return y||(y={}),e=new pe(y.precision),y}I.inject({exportSVG:function(y){return y=g(y),b(S(this,y,!0),y)}}),ke.inject({exportSVG:function(y){y=g(y);var c=this._children,x=this.getView(),k=T.pick(y.bounds,"view"),A=y.matrix||k==="view"&&x._matrix,w=A&&Ce.read([A]),E=k==="view"?new oe([0,0],x.getViewSize()):k==="content"?I._getBounds(c,w,{stroke:!0}).rect:oe.read([k],0,{readNull:!0}),O={version:"1.1",xmlns:je.svg,"xmlns:xlink":je.xlink};E&&(O.width=E.width,O.height=E.height,(E.x||E.x===0||E.y||E.y===0)&&(O.viewBox=e.rectangle(E)));var M=je.create("svg",O,e),B=M;w&&!w.isIdentity()&&(B=M.appendChild(je.create("g",t(w),e)));for(var L=0,z=c.length;L<z;L++)B.appendChild(S(c[L],y,!0));return b(M,y)}})},new function(){var e={},t;function r(c,x,k,A,w,E){var O=je.get(c,x)||E,M=O==null?A?null:k?"":0:k?O:parseFloat(O);return/%\s*$/.test(O)?M/100*(w?1:t[/x|^width/.test(x)?"width":"height"]):M}function n(c,x,k,A,w,E,O){return x=r(c,x||"x",!1,A,w,E),k=r(c,k||"y",!1,A,w,O),A&&(x==null||k==null)?null:new V(x,k)}function s(c,x,k,A,w){return x=r(c,x||"width",!1,A,w),k=r(c,k||"height",!1,A,w),A&&(x==null||k==null)?null:new ae(x,k)}function u(c,x,k){return c==="none"?null:x==="number"?parseFloat(c):x==="array"?c?c.split(/[\s,]+/g).map(parseFloat):[]:x==="color"?S(c)||c:x==="lookup"?k[c]:c}function o(c,x,k,A){var w=c.childNodes,E=x==="clippath",O=x==="defs",M=new He,B=M._project,L=B._currentStyle,z=[];if(!E&&!O&&(M=b(M,c,A),B._currentStyle=M._style.clone()),A)for(var F=c.querySelectorAll("defs"),q=0,U=F.length;q<U;q++)g(F[q],k,!1);for(var q=0,U=w.length;q<U;q++){var G=w[q],J;G.nodeType===1&&!/^defs$/i.test(G.nodeName)&&(J=g(G,k,!1))&&!(J instanceof tt)&&z.push(J)}return M.addChildren(z),E&&(M=b(M.reduce(),c,A)),B._currentStyle=L,(E||O)&&(M.remove(),M=null),M}function h(c,x){for(var k=c.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),A=[],w=0,E=k.length;w<E;w+=2)A.push(new V(parseFloat(k[w]),parseFloat(k[w+1])));var O=new Oe(A);return x==="polygon"&&O.closePath(),O}function l(c){return It.create(c.getAttribute("d"))}function f(c,x){var k=(r(c,"href",!0)||"").substring(1),A=x==="radialgradient",w;if(k)w=e[k].getGradient(),w._radial^A&&(w=w.clone(),w._radial=A);else{for(var E=c.childNodes,O=[],M=0,B=E.length;M<B;M++){var L=E[M];L.nodeType===1&&O.push(b(new At,L))}w=new Dt(O,A)}var z,F,q,U=r(c,"gradientUnits",!0)!=="userSpaceOnUse";A?(z=n(c,"cx","cy",!1,U,"50%","50%"),F=z.add(r(c,"r",!1,!1,U,"50%"),0),q=n(c,"fx","fy",!0,U)):(z=n(c,"x1","y1",!1,U,"0%","0%"),F=n(c,"x2","y2",!1,U,"100%","0%"));var G=b(new Ze(w,z,F,q),c);return G._scaleToBounds=U,null}var _={"#document":function(c,x,k,A){for(var w=c.childNodes,E=0,O=w.length;E<O;E++){var M=w[E];if(M.nodeType===1)return g(M,k,A)}},g:o,svg:o,clippath:o,polygon:h,polyline:h,path:l,lineargradient:f,radialgradient:f,image:function(c){var x=new dt(r(c,"href",!0));return x.on("load",function(){var k=s(c);this.setSize(k);var A=n(c).add(k.divide(2));this._matrix.append(new Ce().translate(A))}),x},symbol:function(c,x,k,A){return new tt(o(c,x,k,A),!0)},defs:o,use:function(c){var x=(r(c,"href",!0)||"").substring(1),k=e[x],A=n(c);return k?k instanceof tt?k.place(A):k.clone().translate(A):null},circle:function(c){return new Fe.Circle(n(c,"cx","cy"),r(c,"r"))},ellipse:function(c){return new Fe.Ellipse({center:n(c,"cx","cy"),radius:s(c,"rx","ry")})},rect:function(c){return new Fe.Rectangle(new oe(n(c),s(c)),s(c,"rx","ry"))},line:function(c){return new Oe.Line(n(c,"x1","y1"),n(c,"x2","y2"))},text:function(c){var x=new Jt(n(c).add(n(c,"dx","dy")));return x.setContent(c.textContent.trim()||""),x},switch:o};function m(c,x,k,A){if(c.transform){for(var w=(A.getAttribute(k)||"").split(/\)\s*/g),E=new Ce,O=0,M=w.length;O<M;O++){var B=w[O];if(!B)break;for(var L=B.split(/\(\s*/),z=L[0].trim(),F=L[1].split(/[\s,]+/g),q=0,U=F.length;q<U;q++)F[q]=parseFloat(F[q]);switch(z){case"matrix":E.append(new Ce(F[0],F[1],F[2],F[3],F[4],F[5]));break;case"rotate":E.rotate(F[0],F[1]||0,F[2]||0);break;case"translate":E.translate(F[0],F[1]||0);break;case"scale":E.scale(F);break;case"skewX":E.skew(F[0],0);break;case"skewY":E.skew(0,F[0]);break}}c.transform(E)}}function p(c,x,k){var A=k==="fill-opacity"?"getFillColor":"getStrokeColor",w=c[A]&&c[A]();w&&w.setAlpha(parseFloat(x))}var d=T.set(T.each(ci,function(c){this[c.attribute]=function(x,k){if(x[c.set]&&(x[c.set](u(k,c.type,c.fromSVG)),c.type==="color")){var A=x[c.get]();if(A&&A._scaleToBounds){var w=x.getBounds();A.transform(new Ce().translate(w.getPoint()).scale(w.getSize()))}}}},{}),{id:function(c,x){e[x]=c,c.setName&&c.setName(x)},"clip-path":function(c,x){var k=S(x);if(k)if(k=k.clone(),k.setClipMask(!0),c instanceof He)c.insertChild(0,k);else return new He(k,c)},gradientTransform:m,transform:m,"fill-opacity":p,"stroke-opacity":p,visibility:function(c,x){c.setVisible&&c.setVisible(x==="visible")},display:function(c,x){c.setVisible&&c.setVisible(x!==null)},"stop-color":function(c,x){c.setColor&&c.setColor(x)},"stop-opacity":function(c,x){c._color&&c._color.setAlpha(parseFloat(x))},offset:function(c,x){if(c.setOffset){var k=x.match(/(.*)%$/);c.setOffset(k?k[1]/100:parseFloat(x))}},viewBox:function(c,x,k,A,w){var E=new oe(u(x,"array")),O=s(A,null,null,!0),M,B;if(c instanceof He){var L=O?O.divide(E.getSize()):1,B=new Ce().scale(L).translate(E.getPoint().negate());M=c}else c instanceof tt&&(O&&E.setSize(O),M=c._item);if(M){if(C(A,"overflow",w)!=="visible"){var z=new Fe.Rectangle(E);z.setClipMask(!0),M.addChild(z)}B&&M.transform(B)}}});function C(c,x,k){var A=c.attributes[x],w=A&&A.value;if(!w&&c.style){var E=T.camelize(x);w=c.style[E],!w&&k.node[E]!==k.parent[E]&&(w=k.node[E])}return w?w==="none"?null:w:$}function b(c,x,k){var A=x.parentNode,w={node:it.getStyles(x)||{},parent:!k&&!/^defs$/i.test(A.tagName)&&it.getStyles(A)||{}};return T.each(d,function(E,O){var M=C(x,O,w);c=M!==$&&E(c,M,O,x,w)||c}),c}function S(c){var x=c&&c.match(/\((?:["'#]*)([^"')]+)/),k=x&&x[1],A=k&&e[fe?k.replace(fe.location.href.split("#")[0]+"#",""):k];return A&&A._scaleToBounds&&(A=A.clone(),A._scaleToBounds=!0),A}function g(c,x,k){var A=c.nodeName.toLowerCase(),w=A!=="#document",E=Q.body,O,M,B;k&&w&&(t=Ve.getView().getSize(),t=s(c,null,null,!0)||t,O=je.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),M=c.parentNode,B=c.nextSibling,O.appendChild(c),E.appendChild(O));var L=Ve.settings,z=L.applyMatrix,F=L.insertItems;L.applyMatrix=!1,L.insertItems=!1;var q=_[A],U=q&&q(c,A,x,k)||null;if(L.insertItems=F,L.applyMatrix=z,U){w&&!(U instanceof He)&&(U=b(U,c,k));var G=x.onImport,J=w&&c.getAttribute("data-paper-data");G&&(U=G(c,U,x)||U),x.expandShapes&&U instanceof Fe&&(U.remove(),U=U.toPath()),J&&(U._data=JSON.parse(J))}return O&&(E.removeChild(O),M&&(B?M.insertBefore(c,B):M.appendChild(c))),k&&(e={},U&&T.pick(x.applyMatrix,z)&&U.matrix.apply(!0,!0)),U}function y(c,x,k){if(!c)return null;x=typeof x=="function"?{onLoad:x}:x||{};var A=Ve,w=null;function E(L){try{var z=typeof L=="object"?L:new ee.DOMParser().parseFromString(L.trim(),"image/svg+xml");if(!z.nodeName)throw z=null,new Error("Unsupported SVG source: "+c);Ve=A,w=g(z,x,!0),(!x||x.insert!==!1)&&k._insertItem($,w);var F=x.onLoad;F&&F(w,L)}catch(q){O(q)}}function O(L,z){var F=x.onError;if(F)F(L,z);else throw new Error(L)}if(typeof c=="string"&&!/^[\s\S]*</.test(c)){var M=Q.getElementById(c);M?E(M):Xe.request({url:c,async:!0,onLoad:E,onError:O})}else if(typeof File<"u"&&c instanceof File){var B=new FileReader;return B.onload=function(){E(B.result)},B.onerror=function(){O(B.error)},B.readAsText(c)}else E(c);return w}I.inject({importSVG:function(c,x){return y(c,x,this)}}),ke.inject({importSVG:function(c,x){return this.activate(),y(c,x,this)}})},T.exports.PaperScript=(function(){var e=this,t=e.acorn;if(!t&&typeof ba<"u")try{t=Sa()}catch{}if(!t){var r,n;t=r=n={},function(b,S){if(typeof r=="object"&&typeof n=="object")return S(r);if(typeof $=="function"&&$.amd)return $(["exports"],S);S(b.acorn||(b.acorn={}))}(this,function(b){b.version="0.5.0";var S,g,y,c;b.parse=function(R,D){return g=String(R),y=g.length,k(D),rn(),Kn(S.program)};var x=b.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function k(R){S=R||{};for(var D in x)Object.prototype.hasOwnProperty.call(S,D)||(S[D]=x[D]);c=S.sourceFile||null}var A=b.getLineInfo=function(R,D){for(var Z=1,Y=0;;){Wi.lastIndex=Y;var Te=Wi.exec(R);if(Te&&Te.index<D)++Z,Y=Te.index+Te[0].length;else break}return{line:Z,column:D-Y}};b.tokenize=function(R,D){g=String(R),y=g.length,k(D),rn();var Z={};function Y(Te){return J=O,Fi(Te),Z.start=E,Z.end=O,Z.startLoc=M,Z.endLoc=B,Z.type=L,Z.value=z,Z}return Y.jumpTo=function(Te,Re){if(w=Te,S.locations){q=1,U=Wi.lastIndex=0;for(var Be;(Be=Wi.exec(g))&&Be.index<Te;)++q,U=Be.index+Be[0].length}F=Re,Zi()},Y};var w,E,O,M,B,L,z,F,q,U,G,J,re,he,_e,j;function X(R,D){var Z=A(g,R);D+=" ("+Z.line+":"+Z.column+")";var Y=new SyntaxError(D);throw Y.pos=R,Y.loc=Z,Y.raisedAt=w,Y}var le=[],me={type:"num"},ve={type:"regexp"},Ae={type:"string"},Pe={type:"name"},Ne={type:"eof"},De={keyword:"break"},Ee={keyword:"case",beforeExpr:!0},xt={keyword:"catch"},gt={keyword:"continue"},kt={keyword:"debugger"},_t={keyword:"default"},se={keyword:"do",isLoop:!0},lt={keyword:"else",beforeExpr:!0},ft={keyword:"finally"},yt={keyword:"for",isLoop:!0},Wt={keyword:"function"},si={keyword:"if"},jt={keyword:"return",beforeExpr:!0},Kt={keyword:"switch"},Nt={keyword:"throw",beforeExpr:!0},$t={keyword:"try"},ai={keyword:"var"},wt={keyword:"while",isLoop:!0},Mt={keyword:"with"},lr={keyword:"new",beforeExpr:!0},Ki={keyword:"this"},fr={keyword:"null",atomValue:null},cr={keyword:"true",atomValue:!0},dr={keyword:"false",atomValue:!1},Gi={keyword:"in",binop:7,beforeExpr:!0},ki={break:De,case:Ee,catch:xt,continue:gt,debugger:kt,default:_t,do:se,else:lt,finally:ft,for:yt,function:Wt,if:si,return:jt,switch:Kt,throw:Nt,try:$t,var:ai,while:wt,with:Mt,null:fr,true:cr,false:dr,new:lr,in:Gi,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:Ki,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},Ri={type:"[",beforeExpr:!0},zi={type:"]"},vi={type:"{",beforeExpr:!0},ei={type:"}"},ze={type:"(",beforeExpr:!0},Xt={type:")"},ti={type:",",beforeExpr:!0},Qt={type:";",beforeExpr:!0},mi={type:":",beforeExpr:!0},Xi={type:"."},Qi={type:"?",beforeExpr:!0},Yi={binop:10,beforeExpr:!0},i={isAssign:!0,beforeExpr:!0},a={isAssign:!0,beforeExpr:!0},v={postfix:!0,prefix:!0,isUpdate:!0},P={prefix:!0,beforeExpr:!0},N={binop:1,beforeExpr:!0},H={binop:2,beforeExpr:!0},W={binop:3,beforeExpr:!0},ue={binop:4,beforeExpr:!0},ce={binop:5,beforeExpr:!0},$e={binop:6,beforeExpr:!0},Me={binop:7,beforeExpr:!0},St={binop:8,beforeExpr:!0},bi={binop:9,prefix:!0,beforeExpr:!0},Vi={binop:10,beforeExpr:!0};b.tokTypes={bracketL:Ri,bracketR:zi,braceL:vi,braceR:ei,parenL:ze,parenR:Xt,comma:ti,semi:Qt,colon:mi,dot:Xi,question:Qi,slash:Yi,eq:i,name:Pe,eof:Ne,num:me,regexp:ve,string:Ae};for(var xi in ki)b.tokTypes["_"+xi]=ki[xi];function di(R){R=R.split(" ");var D="",Z=[];e:for(var Y=0;Y<R.length;++Y){for(var Te=0;Te<Z.length;++Te)if(Z[Te][0].length==R[Y].length){Z[Te].push(R[Y]);continue e}Z.push([R[Y]])}function Re(at){if(at.length==1)return D+="return str === "+JSON.stringify(at[0])+";";D+="switch(str){";for(var oi=0;oi<at.length;++oi)D+="case "+JSON.stringify(at[oi])+":";D+="return true}return false;"}if(Z.length>3){Z.sort(function(at,oi){return oi.length-at.length}),D+="switch(str.length){";for(var Y=0;Y<Z.length;++Y){var Be=Z[Y];D+="case "+Be[0].length+":",Re(Be)}D+="}"}else Re(R);return new Function("str",D)}var Pi=di("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Ii=di("class enum extends super const export import"),Yr=di("implements interface let package private protected public static yield"),pr=di("eval arguments"),Nn=di("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),Mn=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Jr="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",Rn="̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿",en=new RegExp("["+Jr+"]"),zn=new RegExp("["+Jr+Rn+"]"),gr=/[\n\r\u2028\u2029]/,Wi=/\r\n|[\n\r\u2028\u2029]/g,_r=b.isIdentifierStart=function(R){return R<65?R===36:R<91?!0:R<97?R===95:R<123?!0:R>=170&&en.test(String.fromCharCode(R))},tn=b.isIdentifierChar=function(R){return R<48?R===36:R<58?!0:R<65?!1:R<91?!0:R<97?R===95:R<123?!0:R>=170&&zn.test(String.fromCharCode(R))};function Bi(){this.line=q,this.column=w-U}function rn(){q=1,w=U=0,F=!0,Zi()}function Tt(R,D){O=w,S.locations&&(B=new Bi),L=R,Zi(),z=D,F=R.beforeExpr}function Vn(){var R=S.onComment&&S.locations&&new Bi,D=w,Z=g.indexOf("*/",w+=2);if(Z===-1&&X(w-2,"Unterminated comment"),w=Z+2,S.locations){Wi.lastIndex=D;for(var Y;(Y=Wi.exec(g))&&Y.index<w;)++q,U=Y.index+Y[0].length}S.onComment&&S.onComment(!0,g.slice(D+2,Z),D,w,R,S.locations&&new Bi)}function Tr(){for(var R=w,D=S.onComment&&S.locations&&new Bi,Z=g.charCodeAt(w+=2);w<y&&Z!==10&&Z!==13&&Z!==8232&&Z!==8233;)++w,Z=g.charCodeAt(w);S.onComment&&S.onComment(!1,g.slice(R+2,w),R,w,D,S.locations&&new Bi)}function Zi(){for(;w<y;){var R=g.charCodeAt(w);if(R===32)++w;else if(R===13){++w;var D=g.charCodeAt(w);D===10&&++w,S.locations&&(++q,U=w)}else if(R===10||R===8232||R===8233)++w,S.locations&&(++q,U=w);else if(R>8&&R<14)++w;else if(R===47){var D=g.charCodeAt(w+1);if(D===42)Vn();else if(D===47)Tr();else break}else if(R===160)++w;else if(R>=5760&&Mn.test(String.fromCharCode(R)))++w;else break}}function Bn(){var R=g.charCodeAt(w+1);return R>=48&&R<=57?sn(!0):(++w,Tt(Xi))}function Fn(){var R=g.charCodeAt(w+1);return F?(++w,nn()):R===61?Lt(a,2):Lt(Yi,1)}function Dn(){var R=g.charCodeAt(w+1);return R===61?Lt(a,2):Lt(Vi,1)}function qn(R){var D=g.charCodeAt(w+1);return D===R?Lt(R===124?N:H,2):D===61?Lt(a,2):Lt(R===124?W:ce,1)}function $n(){var R=g.charCodeAt(w+1);return R===61?Lt(a,2):Lt(ue,1)}function Un(R){var D=g.charCodeAt(w+1);return D===R?D==45&&g.charCodeAt(w+2)==62&&gr.test(g.slice(J,w))?(w+=3,Tr(),Zi(),Fi()):Lt(v,2):D===61?Lt(a,2):Lt(bi,1)}function Hn(R){var D=g.charCodeAt(w+1),Z=1;return D===R?(Z=R===62&&g.charCodeAt(w+2)===62?3:2,g.charCodeAt(w+Z)===61?Lt(a,Z+1):Lt(St,Z)):D==33&&R==60&&g.charCodeAt(w+2)==45&&g.charCodeAt(w+3)==45?(w+=4,Tr(),Zi(),Fi()):(D===61&&(Z=g.charCodeAt(w+2)===61?3:2),Lt(Me,Z))}function Gn(R){var D=g.charCodeAt(w+1);return D===61?Lt($e,g.charCodeAt(w+2)===61?3:2):Lt(R===61?i:P,1)}function Wn(R){switch(R){case 46:return Bn();case 40:return++w,Tt(ze);case 41:return++w,Tt(Xt);case 59:return++w,Tt(Qt);case 44:return++w,Tt(ti);case 91:return++w,Tt(Ri);case 93:return++w,Tt(zi);case 123:return++w,Tt(vi);case 125:return++w,Tt(ei);case 58:return++w,Tt(mi);case 63:return++w,Tt(Qi);case 48:var D=g.charCodeAt(w+1);if(D===120||D===88)return Zn();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return sn(!1);case 34:case 39:return jn(R);case 47:return Fn();case 37:case 42:return Dn();case 124:case 38:return qn(R);case 94:return $n();case 43:case 45:return Un(R);case 60:case 62:return Hn(R);case 61:case 33:return Gn(R);case 126:return Lt(P,1)}return!1}function Fi(R){if(R?w=E+1:E=w,S.locations&&(M=new Bi),R)return nn();if(w>=y)return Tt(Ne);var D=g.charCodeAt(w);if(_r(D)||D===92)return un();var Z=Wn(D);if(Z===!1){var Y=String.fromCharCode(D);if(Y==="\\"||en.test(Y))return un();X(w,"Unexpected character '"+Y+"'")}return Z}function Lt(R,D){var Z=g.slice(w,w+D);w+=D,Tt(R,Z)}function nn(){for(var Te="",R,D,Z=w;;){w>=y&&X(Z,"Unterminated regular expression");var Y=g.charAt(w);if(gr.test(Y)&&X(Z,"Unterminated regular expression"),R)R=!1;else{if(Y==="[")D=!0;else if(Y==="]"&&D)D=!1;else if(Y==="/"&&!D)break;R=Y==="\\"}++w}var Te=g.slice(Z,w);++w;var Re=an();Re&&!/^[gmsiy]*$/.test(Re)&&X(Z,"Invalid regexp flag");try{var Be=new RegExp(Te,Re)}catch(at){at instanceof SyntaxError&&X(Z,at.message),X(at)}return Tt(ve,Be)}function Ji(R,D){for(var Z=w,Y=0,Te=0,Re=D??1/0;Te<Re;++Te){var Be=g.charCodeAt(w),at;if(Be>=97?at=Be-97+10:Be>=65?at=Be-65+10:Be>=48&&Be<=57?at=Be-48:at=1/0,at>=R)break;++w,Y=Y*R+at}return w===Z||D!=null&&w-Z!==D?null:Y}function Zn(){w+=2;var R=Ji(16);return R==null&&X(E+2,"Expected hexadecimal number"),_r(g.charCodeAt(w))&&X(w,"Identifier directly after number"),Tt(me,R)}function sn(R){var D=w,Z=!1,Y=g.charCodeAt(w)===48;!R&&Ji(10)===null&&X(D,"Invalid number"),g.charCodeAt(w)===46&&(++w,Ji(10),Z=!0);var Te=g.charCodeAt(w);(Te===69||Te===101)&&(Te=g.charCodeAt(++w),(Te===43||Te===45)&&++w,Ji(10)===null&&X(D,"Invalid number"),Z=!0),_r(g.charCodeAt(w))&&X(w,"Identifier directly after number");var Re=g.slice(D,w),Be;return Z?Be=parseFloat(Re):!Y||Re.length===1?Be=parseInt(Re,10):/[89]/.test(Re)||j?X(D,"Invalid number"):Be=parseInt(Re,8),Tt(me,Be)}function jn(R){w++;for(var D="";;){w>=y&&X(E,"Unterminated string constant");var Z=g.charCodeAt(w);if(Z===R)return++w,Tt(Ae,D);if(Z===92){Z=g.charCodeAt(++w);var Y=/^[0-7]+/.exec(g.slice(w,w+3));for(Y&&(Y=Y[0]);Y&&parseInt(Y,8)>255;)Y=Y.slice(0,-1);if(Y==="0"&&(Y=null),++w,Y)j&&X(w-2,"Octal literal in strict mode"),D+=String.fromCharCode(parseInt(Y,8)),w+=Y.length-1;else switch(Z){case 110:D+=`
`;break;case 114:D+="\r";break;case 120:D+=String.fromCharCode(vr(2));break;case 117:D+=String.fromCharCode(vr(4));break;case 85:D+=String.fromCharCode(vr(8));break;case 116:D+="	";break;case 98:D+="\b";break;case 118:D+="\v";break;case 102:D+="\f";break;case 48:D+="\0";break;case 13:g.charCodeAt(w)===10&&++w;case 10:S.locations&&(U=w,++q);break;default:D+=String.fromCharCode(Z);break}}else(Z===13||Z===10||Z===8232||Z===8233)&&X(E,"Unterminated string constant"),D+=String.fromCharCode(Z),++w}}function vr(R){var D=Ji(16,R);return D===null&&X(E,"Bad character escape sequence"),D}var ji;function an(){ji=!1;for(var R,D=!0,Z=w;;){var Y=g.charCodeAt(w);if(tn(Y))ji&&(R+=g.charAt(w)),++w;else if(Y===92){ji||(R=g.slice(Z,w)),ji=!0,g.charCodeAt(++w)!=117&&X(w,"Expecting Unicode escape sequence \\uXXXX"),++w;var Te=vr(4),Re=String.fromCharCode(Te);Re||X(w-1,"Invalid Unicode escape"),(D?_r(Te):tn(Te))||X(w-4,"Invalid Unicode escape"),R+=Re}else break;D=!1}return ji?R:g.slice(Z,w)}function un(){var R=an(),D=Pe;return!ji&&Nn(R)&&(D=ki[R]),Tt(D,R)}function rt(){G=E,J=O,re=B,Fi()}function Lr(R){if(j=R,w=E,S.locations)for(;w<U;)U=g.lastIndexOf(`
`,U-2)+1,--q;Zi(),Fi()}function on(){this.type=null,this.start=E,this.end=null}function hn(){this.start=M,this.end=null,c!==null&&(this.source=c)}function Rt(){var R=new on;return S.locations&&(R.loc=new hn),S.directSourceFile&&(R.sourceFile=S.directSourceFile),S.ranges&&(R.range=[E,0]),R}function Ai(R){var D=new on;return D.start=R.start,S.locations&&(D.loc=new hn,D.loc.start=R.loc.start),S.ranges&&(D.range=[R.range[0],0]),D}function We(R,D){return R.type=D,R.end=J,S.locations&&(R.loc.end=re),S.ranges&&(R.range[1]=J),R}function Or(R){return S.ecmaVersion>=5&&R.type==="ExpressionStatement"&&R.expression.type==="Literal"&&R.expression.value==="use strict"}function vt(R){if(L===R)return rt(),!0}function mr(){return!S.strictSemicolons&&(L===Ne||L===ei||gr.test(g.slice(J,E)))}function Di(){!vt(Qt)&&!mr()&&yi()}function Pt(R){L===R?rt():yi()}function yi(){X(E,"Unexpected token")}function br(R){R.type!=="Identifier"&&R.type!=="MemberExpression"&&X(R.start,"Assigning to rvalue"),j&&R.type==="Identifier"&&pr(R.name)&&X(R.start,"Assigning to "+R.name+" in strict mode")}function Kn(R){G=J=w,S.locations&&(re=new Bi),he=j=null,_e=[],Fi();var D=R||Rt(),Z=!0;for(R||(D.body=[]);L!==Ne;){var Y=ui();D.body.push(Y),Z&&Or(Y)&&Lr(!0),Z=!1}return We(D,"Program")}var Nr={kind:"loop"},Xn={kind:"switch"};function ui(){(L===Yi||L===a&&z=="/=")&&Fi(!0);var R=L,D=Rt();switch(R){case De:case gt:rt();var Z=R===De;vt(Qt)||mr()?D.label=null:L!==Pe?yi():(D.label=Ei(),Di());for(var Y=0;Y<_e.length;++Y){var Te=_e[Y];if((D.label==null||Te.name===D.label.name)&&(Te.kind!=null&&(Z||Te.kind==="loop")||D.label&&Z))break}return Y===_e.length&&X(D.start,"Unsyntactic "+R.keyword),We(D,Z?"BreakStatement":"ContinueStatement");case kt:return rt(),Di(),We(D,"DebuggerStatement");case se:return rt(),_e.push(Nr),D.body=ui(),_e.pop(),Pt(wt),D.test=er(),Di(),We(D,"DoWhileStatement");case yt:if(rt(),_e.push(Nr),Pt(ze),L===Qt)return Mr(D,null);if(L===ai){var Re=Rt();return rt(),fn(Re,!0),We(Re,"VariableDeclaration"),Re.declarations.length===1&&vt(Gi)?ln(D,Re):Mr(D,Re)}var Re=qt(!1,!0);return vt(Gi)?(br(Re),ln(D,Re)):Mr(D,Re);case Wt:return rt(),Fr(D,!0);case si:return rt(),D.test=er(),D.consequent=ui(),D.alternate=vt(lt)?ui():null,We(D,"IfStatement");case jt:return!he&&!S.allowReturnOutsideFunction&&X(E,"'return' outside of function"),rt(),vt(Qt)||mr()?D.argument=null:(D.argument=qt(),Di()),We(D,"ReturnStatement");case Kt:rt(),D.discriminant=er(),D.cases=[],Pt(vi),_e.push(Xn);for(var Be,at;L!=ei;)if(L===Ee||L===_t){var oi=L===Ee;Be&&We(Be,"SwitchCase"),D.cases.push(Be=Rt()),Be.consequent=[],rt(),oi?Be.test=qt():(at&&X(G,"Multiple default clauses"),at=!0,Be.test=null),Pt(mi)}else Be||yi(),Be.consequent.push(ui());return Be&&We(Be,"SwitchCase"),rt(),_e.pop(),We(D,"SwitchStatement");case Nt:return rt(),gr.test(g.slice(J,E))&&X(J,"Illegal newline after throw"),D.argument=qt(),Di(),We(D,"ThrowStatement");case $t:if(rt(),D.block=tr(),D.handler=null,L===xt){var qi=Rt();rt(),Pt(ze),qi.param=Ei(),j&&pr(qi.param.name)&&X(qi.param.start,"Binding "+qi.param.name+" in strict mode"),Pt(Xt),qi.guard=null,qi.body=tr(),D.handler=We(qi,"CatchClause")}return D.guardedHandlers=le,D.finalizer=vt(ft)?tr():null,!D.handler&&!D.finalizer&&X(D.start,"Missing catch or finally clause"),We(D,"TryStatement");case ai:return rt(),fn(D),Di(),We(D,"VariableDeclaration");case wt:return rt(),D.test=er(),_e.push(Nr),D.body=ui(),_e.pop(),We(D,"WhileStatement");case Mt:return j&&X(E,"'with' in strict mode"),rt(),D.object=er(),D.body=ui(),We(D,"WithStatement");case vi:return tr();case Qt:return rt(),We(D,"EmptyStatement");default:var qr=z,xr=qt();if(R===Pe&&xr.type==="Identifier"&&vt(mi)){for(var Y=0;Y<_e.length;++Y)_e[Y].name===qr&&X(xr.start,"Label '"+qr+"' is already declared");var is=L.isLoop?"loop":L===Kt?"switch":null;return _e.push({name:qr,kind:is}),D.body=ui(),_e.pop(),D.label=xr,We(D,"LabeledStatement")}else return D.expression=xr,Di(),We(D,"ExpressionStatement")}}function er(){Pt(ze);var R=qt();return Pt(Xt),R}function tr(R){var D=Rt(),Z=!0,Y=!1,Te;for(D.body=[],Pt(vi);!vt(ei);){var Re=ui();D.body.push(Re),Z&&R&&Or(Re)&&(Te=Y,Lr(Y=!0)),Z=!1}return Y&&!Te&&Lr(!1),We(D,"BlockStatement")}function Mr(R,D){return R.init=D,Pt(Qt),R.test=L===Qt?null:qt(),Pt(Qt),R.update=L===Xt?null:qt(),Pt(Xt),R.body=ui(),_e.pop(),We(R,"ForStatement")}function ln(R,D){return R.left=D,R.right=qt(),Pt(Xt),R.body=ui(),_e.pop(),We(R,"ForInStatement")}function fn(R,D){for(R.declarations=[],R.kind="var";;){var Z=Rt();if(Z.id=Ei(),j&&pr(Z.id.name)&&X(Z.id.start,"Binding "+Z.id.name+" in strict mode"),Z.init=vt(i)?qt(!0,D):null,R.declarations.push(We(Z,"VariableDeclarator")),!vt(ti))break}return R}function qt(R,D){var Z=Rr(D);if(!R&&L===ti){var Y=Ai(Z);for(Y.expressions=[Z];vt(ti);)Y.expressions.push(Rr(D));return We(Y,"SequenceExpression")}return Z}function Rr(R){var D=Qn(R);if(L.isAssign){var Z=Ai(D);return Z.operator=z,Z.left=D,rt(),Z.right=Rr(R),br(D),We(Z,"AssignmentExpression")}return D}function Qn(R){var D=Yn(R);if(vt(Qi)){var Z=Ai(D);return Z.test=D,Z.consequent=qt(!0),Pt(mi),Z.alternate=qt(!0,R),We(Z,"ConditionalExpression")}return D}function Yn(R){return zr(Vr(),-1,R)}function zr(R,D,Z){var Y=L.binop;if(Y!=null&&(!Z||L!==Gi)&&Y>D){var Te=Ai(R);Te.left=R,Te.operator=z;var Re=L;rt(),Te.right=zr(Vr(),Y,Z);var Be=We(Te,Re===N||Re===H?"LogicalExpression":"BinaryExpression");return zr(Be,D,Z)}return R}function Vr(){if(L.prefix){var R=Rt(),D=L.isUpdate;return R.operator=z,R.prefix=!0,F=!0,rt(),R.argument=Vr(),D?br(R.argument):j&&R.operator==="delete"&&R.argument.type==="Identifier"&&X(R.start,"Deleting local variable in strict mode"),We(R,D?"UpdateExpression":"UnaryExpression")}for(var Z=Jn();L.postfix&&!mr();){var R=Ai(Z);R.operator=z,R.prefix=!1,R.argument=Z,br(Z),rt(),Z=We(R,"UpdateExpression")}return Z}function Jn(){return ir(Br())}function ir(R,D){if(vt(Xi)){var Z=Ai(R);return Z.object=R,Z.property=Ei(!0),Z.computed=!1,ir(We(Z,"MemberExpression"),D)}else if(vt(Ri)){var Z=Ai(R);return Z.object=R,Z.property=qt(),Z.computed=!0,Pt(zi),ir(We(Z,"MemberExpression"),D)}else if(!D&&vt(ze)){var Z=Ai(R);return Z.callee=R,Z.arguments=Dr(Xt,!1),ir(We(Z,"CallExpression"),D)}else return R}function Br(){switch(L){case Ki:var Y=Rt();return rt(),We(Y,"ThisExpression");case Pe:return Ei();case me:case Ae:case ve:var Y=Rt();return Y.value=z,Y.raw=g.slice(E,O),rt(),We(Y,"Literal");case fr:case cr:case dr:var Y=Rt();return Y.value=L.atomValue,Y.raw=L.keyword,rt(),We(Y,"Literal");case ze:var R=M,D=E;rt();var Z=qt();return Z.start=D,Z.end=O,S.locations&&(Z.loc.start=R,Z.loc.end=B),S.ranges&&(Z.range=[D,O]),Pt(Xt),Z;case Ri:var Y=Rt();return rt(),Y.elements=Dr(zi,!0,!0),We(Y,"ArrayExpression");case vi:return ts();case Wt:var Y=Rt();return rt(),Fr(Y,!1);case lr:return es();default:yi()}}function es(){var R=Rt();return rt(),R.callee=ir(Br(),!0),vt(ze)?R.arguments=Dr(Xt,!1):R.arguments=le,We(R,"NewExpression")}function ts(){var R=Rt(),D=!0,Z=!1;for(R.properties=[],rt();!vt(ei);){if(D)D=!1;else if(Pt(ti),S.allowTrailingCommas&&vt(ei))break;var Y={key:cn()},Te=!1,Re;if(vt(mi)?(Y.value=qt(!0),Re=Y.kind="init"):S.ecmaVersion>=5&&Y.key.type==="Identifier"&&(Y.key.name==="get"||Y.key.name==="set")?(Te=Z=!0,Re=Y.kind=Y.key.name,Y.key=cn(),L!==ze&&yi(),Y.value=Fr(Rt(),!1)):yi(),Y.key.type==="Identifier"&&(j||Z))for(var Be=0;Be<R.properties.length;++Be){var at=R.properties[Be];if(at.key.name===Y.key.name){var oi=Re==at.kind||Te&&at.kind==="init"||Re==="init"&&(at.kind==="get"||at.kind==="set");oi&&!j&&Re==="init"&&at.kind==="init"&&(oi=!1),oi&&X(Y.key.start,"Redefinition of property")}}R.properties.push(Y)}return We(R,"ObjectExpression")}function cn(){return L===me||L===Ae?Br():Ei(!0)}function Fr(R,D){L===Pe?R.id=Ei():D?yi():R.id=null,R.params=[];var Z=!0;for(Pt(ze);!vt(Xt);)Z?Z=!1:Pt(ti),R.params.push(Ei());var Y=he,Te=_e;if(he=!0,_e=[],R.body=tr(!0),he=Y,_e=Te,j||R.body.body.length&&Or(R.body.body[0]))for(var Re=R.id?-1:0;Re<R.params.length;++Re){var Be=Re<0?R.id:R.params[Re];if((Yr(Be.name)||pr(Be.name))&&X(Be.start,"Defining '"+Be.name+"' in strict mode"),Re>=0)for(var at=0;at<Re;++at)Be.name===R.params[at].name&&X(Be.start,"Argument name clash in strict mode")}return We(R,D?"FunctionDeclaration":"FunctionExpression")}function Dr(R,D,Z){for(var Y=[],Te=!0;!vt(R);){if(Te)Te=!1;else if(Pt(ti),D&&S.allowTrailingCommas&&vt(R))break;Z&&L===ti?Y.push(null):Y.push(qt(!0))}return Y}function Ei(R){var D=Rt();return R&&S.forbidReserved=="everywhere"&&(R=!1),L===Pe?(!R&&(S.forbidReserved&&(S.ecmaVersion===3?Pi:Ii)(z)||j&&Yr(z))&&g.slice(E,O).indexOf("\\")==-1&&X(E,"The keyword '"+z+"' is reserved"),D.name=z):R&&L.keyword?D.name=L.keyword:yi(),F=!1,rt(),We(D,"Identifier")}}),t.version||(t=null)}function s(b,S){return(e.acorn||t).parse(b,S)}var u={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},o={"-":"__negate","+":"__self"},h=T.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(b){this["__"+b]="#"+b},{__self:function(){return this}});V.inject(h),ae.inject(h),Ze.inject(h);function l(b,S,g){var y=u[S];if(b&&b[y]){var c=b[y](g);return S==="!="?!c:c}switch(S){case"+":return b+g;case"-":return b-g;case"*":return b*g;case"/":return b/g;case"%":return b%g;case"==":return b==g;case"!=":return b!=g}}function f(b,S){var g=o[b];if(S&&S[g])return S[g]();switch(b){case"+":return+S;case"-":return-S}}function _(b,S){if(!b)return"";S=S||{};var g=[];function y(j){for(var X=0,le=g.length;X<le;X++){var me=g[X];if(me[0]>=j)break;j+=me[1]}return j}function c(j){return b.substring(y(j.range[0]),y(j.range[1]))}function x(j,X){return b.substring(y(j.range[1]),y(X.range[0]))}function k(j,X){for(var le=y(j.range[0]),me=y(j.range[1]),ve=0,Ae=g.length-1;Ae>=0;Ae--)if(le>g[Ae][0]){ve=Ae+1;break}g.splice(ve,0,[le,X.length-me+le]),b=b.substring(0,le)+X+b.substring(me)}function A(j,X){switch(j.type){case"UnaryExpression":if(j.operator in o&&j.argument.type!=="Literal"){var le=c(j.argument);k(j,'$__("'+j.operator+'", '+le+")")}break;case"BinaryExpression":if(j.operator in u&&j.left.type!=="Literal"){var me=c(j.left),ve=c(j.right),Ae=x(j.left,j.right),Pe=j.operator;k(j,"__$__("+me+","+Ae.replace(new RegExp("\\"+Pe),'"'+Pe+'"')+", "+ve+")")}break;case"UpdateExpression":case"AssignmentExpression":var Ne=X&&X.type;if(!(Ne==="ForStatement"||Ne==="BinaryExpression"&&/^[=!<>]/.test(X.operator)||Ne==="MemberExpression"&&X.computed)){if(j.type==="UpdateExpression"){var le=c(j.argument),De="__$__("+le+', "'+j.operator[0]+'", 1)',Ee=le+" = "+De;j.prefix?Ee="("+Ee+")":(Ne==="AssignmentExpression"||Ne==="VariableDeclarator"||Ne==="BinaryExpression")&&(c(X.left||X.id)===le&&(Ee=De),Ee=le+"; "+Ee),k(j,Ee)}else if(/^.=$/.test(j.operator)&&j.left.type!=="Literal"){var me=c(j.left),ve=c(j.right),De=me+" = __$__("+me+', "'+j.operator[0]+'", '+ve+")";k(j,/^\(.*\)$/.test(c(j))?"("+De+")":De)}}break}}function w(j){switch(j.type){case"ExportDefaultDeclaration":k({range:[j.start,j.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var X=j.declaration,le=j.specifiers;if(X){var me=X.declarations;me&&(me.forEach(function(Ae){k(Ae,"module.exports."+c(Ae))}),k({range:[j.start,X.start+X.kind.length]},""))}else if(le){var ve=le.map(function(Ae){var Pe=c(Ae);return"module.exports."+Pe+" = "+Pe+"; "}).join("");ve&&k(j,ve)}break}}function E(j,X,le){if(j){for(var me in j)if(me!=="range"&&me!=="loc"){var ve=j[me];if(Array.isArray(ve))for(var Ae=0,Pe=ve.length;Ae<Pe;Ae++)E(ve[Ae],j,le);else ve&&typeof ve=="object"&&E(ve,j,le)}le.operatorOverloading!==!1&&A(j,X),le.moduleExports!==!1&&w(j)}}function O(j){var X="",le="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(j=(Math.abs(j)<<1)+(j<0?1:0);j||!X;){var me=j&31;j>>=5,j&&(me|=32),X+=le[me]}return X}var M=S.url||"",B=S.sourceMaps,L=S.paperFeatures||{},z=S.source||b,F=S.offset||0,q=Ve.agent,U=q.versionNumber,G=!1,J=/\r\n|\n|\r/mg,re;if(B&&(q.chrome&&U>=30||q.webkit&&U>=537.76||q.firefox&&U>=23||q.node)){if(q.node)F-=2;else if(fe&&M&&!fe.location.href.indexOf(M)){var he=Q.getElementsByTagName("html")[0].innerHTML;F=he.substr(0,he.indexOf(b)+1).match(J).length+1}G=F>0&&!(q.chrome&&U>=36||q.safari&&U>=600||q.firefox&&U>=40||q.node);var _e=["AA"+O(G?0:F)+"A"];_e.length=(b.match(J)||[]).length+1+(G?F:0),re={version:3,file:M,names:[],mappings:_e.join(";AACA"),sourceRoot:"",sources:[M],sourcesContent:[z]}}return(L.operatorOverloading!==!1||L.moduleExports!==!1)&&E(s(b,{ranges:!0,preserveParens:!0,sourceType:"module"}),null,L),re&&(G&&(b=new Array(F+1).join(`
`)+b),/^(inline|both)$/.test(B)&&(b+=`
//# sourceMappingURL=data:application/json;base64,`+ee.btoa(unescape(encodeURIComponent(JSON.stringify(re))))),b+=`
//# sourceURL=`+(M||"paperscript")),{url:M,source:z,code:b,map:re}}function m(b,S,g){Ve=S;var y=S.getView(),c=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(b)&&!/\bnew\s+Tool\b/.test(b)?new Ct:null,x=c?c._events:[],k=["onFrame","onResize"].concat(x),A=[],w=[],E,O=typeof b=="object"?b:_(b,g);b=O.code;function M(U,G){for(var J in U)(G||!/^_/.test(J))&&new RegExp("([\\b\\s\\W]|^)"+J.replace(/\$/g,"\\$")+"\\b").test(b)&&(A.push(J),w.push(U[J]))}M({__$__:l,$__:f,paper:S,tool:c},!0),M(S),b="var module = { exports: {} }; "+b;var F=T.each(k,function(U){new RegExp("\\s+"+U+"\\b").test(b)&&(A.push(U),this.push("module.exports."+U+" = "+U+";"))},[]).join(`
`);F&&(b+=`
`+F),b+=`
return module.exports;`;var B=Ve.agent;if(Q&&(B.chrome||B.firefox&&B.versionNumber<40)){var L=Q.createElement("script"),z=Q.head||Q.getElementsByTagName("head")[0];B.firefox&&(b=`
`+b),L.appendChild(Q.createTextNode("document.__paperscript__ = function("+A+") {"+b+`
}`)),z.appendChild(L),E=Q.__paperscript__,delete Q.__paperscript__,z.removeChild(L)}else E=Function(A,b);var F=E&&E.apply(S,w),q=F||{};return T.each(x,function(U){var G=q[U];G&&(c[U]=G)}),y&&(q.onResize&&y.setOnResize(q.onResize),y.emit("resize",{size:y.size,delta:new V}),q.onFrame&&y.setOnFrame(q.onFrame),y.requestUpdate()),F}function p(b){if(/^text\/(?:x-|)paperscript$/.test(b.type)&&de.getAttribute(b,"ignore")!=="true"){var S=de.getAttribute(b,"canvas"),g=Q.getElementById(S),y=b.src||b.getAttribute("data-src"),c=de.hasAttribute(b,"async"),x="data-paper-scope";if(!g)throw new Error('Unable to find canvas with id "'+S+'"');var k=de.get(g.getAttribute(x))||new de().setup(g);return g.setAttribute(x,k._id),y?Xe.request({url:y,async:c,mimeType:"text/plain",onLoad:function(A){m(A,k,y)}}):m(b.innerHTML,k,b.baseURI),b.setAttribute("data-paper-ignore","true"),k}}function d(){T.each(Q&&Q.getElementsByTagName("script"),p)}function C(b){return b?p(b):d()}return fe&&(Q.readyState==="complete"?setTimeout(d):nt.add(fe,{load:d})),{compile:_,execute:m,load:C,parse:s,calculateBinary:l,calculateUnary:f}}).call(this);var Ve=new(de.inject(T.exports,{Base:T,Numerical:te,Key:ri,DomEvent:nt,DomElement:it,document:Q,window:fe,Symbol:tt,PlacedSymbol:mt}));return Ve.agent.node&&xn(Ve),typeof $=="function"&&$.amd?$("paper",Ve):K&&(K.exports=Ve),Ve}).call(Ca,typeof self=="object"?self:null)}(Cr)),Cr.exports}var Pa=ka();const Le=va(Pa);var Ia=Ye('<canvas class="grundriss-canvas svelte-1nbjm04"></canvas>');function Aa(K,ee){Ni(ee,!1);let $=Yt();hr(()=>{Le.setup(ge($));const Q=new Le.Size(700,450),T=new Le.Size(220,300),ne=Le.view.center,de=50;function Ge(ae,ye,oe={}){return new Le.Path.Rectangle({point:ae.subtract(ye.divide(2)),size:ye,...oe})}function Se(ae,ye,oe="red"){const Je=new Le.Path.Line(ae,ye);Je.strokeColor=new Le.Color(oe),Je.strokeWidth=2;const Qe=ae.subtract(ye).normalize(8),ke=Qe.rotate(30,new Le.Point(0,0)),I=Qe.rotate(-30,new Le.Point(0,0)),He=new Le.Path.Line(ye,ye.add(ke));He.strokeColor=new Le.Color(oe),He.strokeWidth=2;const et=new Le.Path.Line(ye,ye.add(I));et.strokeColor=new Le.Color(oe),et.strokeWidth=2}const pe=Ge(ne,Q,{strokeColor:"black",strokeWidth:4}),te=Ge(ne,T,{fillColor:"#999",strokeColor:"black",strokeWidth:4}),qe=Ge(new Le.Point(te.bounds.left-de/2,ne.y),new Le.Size(de,T.height),{fillColor:"rgba(255,0,0,0.15)"}),V=qe.clone();V.position.x=te.bounds.right+de/2,Se(new Le.Point(te.bounds.left,te.position.y),new Le.Point(te.bounds.right,te.position.y)),Se(new Le.Point(te.position.x,te.bounds.top),new Le.Point(te.position.x,te.bounds.bottom)),Se(new Le.Point(te.position.x,pe.bounds.top),new Le.Point(te.position.x,te.bounds.top)),Se(new Le.Point(te.position.x,te.bounds.bottom),new Le.Point(te.position.x,pe.bounds.bottom)),Se(new Le.Point(te.bounds.left,ne.y),new Le.Point(te.bounds.left-de,ne.y)),Se(new Le.Point(te.bounds.right+de,ne.y),new Le.Point(te.bounds.right,ne.y)),Se(new Le.Point(pe.bounds.left,pe.bounds.bottom+30),new Le.Point(pe.bounds.right,pe.bounds.bottom+30)),Se(new Le.Point(pe.bounds.right+30,pe.bounds.top),new Le.Point(pe.bounds.right+30,pe.bounds.bottom)),Se(new Le.Point(pe.bounds.left+40,pe.bounds.bottom-20),new Le.Point(pe.bounds.left+80,pe.bounds.bottom-20),"green"),Se(new Le.Point(pe.bounds.left+40,pe.bounds.bottom-20),new Le.Point(pe.bounds.left+40,pe.bounds.bottom-60),"green");function xe(ae,ye,oe="black"){new Le.PointText({point:ye,content:ae,fillColor:new Le.Color(oe),fontSize:14,justification:"center"})}xe("a₁",te.position.add(new Le.Point(0,20))),xe("b₁",te.position.add(new Le.Point(30,0))),xe("c₁",te.position.add(new Le.Point(0,-T.height/2-20)),"red"),xe("c₁",te.position.add(new Le.Point(0,T.height/2+30)),"red"),xe("c₂",qe.position.add(new Le.Point(-15,0)),"red"),xe("c₂",V.position.add(new Le.Point(15,0)),"red"),xe("a",pe.bounds.center.add(new Le.Point(0,Q.height/2+45))),xe("b",pe.bounds.center.add(new Le.Point(Q.width/2+45,0))),xe("x",new Le.Point(pe.bounds.left+90,pe.bounds.bottom-20),"green"),xe("y",new Le.Point(pe.bounds.left+40,pe.bounds.bottom-75),"green")}),Cn(()=>{Le.project&&Le.project.clear()}),Hi();var fe=Ia();jr(fe,Q=>Ut($,Q),()=>ge($)),Ue(K,fe),Mi()}var Ea=Ye("<!> <!>",1),Ta=Ye("<!> <!>",1);function La(K){let ee=Yt(1);var $=Ta(),fe=Bt($);Es(fe,{get selectedIndex(){return ge(ee)},set selectedIndex(de){Ut(ee,de)},children:(de,Ge)=>{var Se=Ea(),pe=Bt(Se);gn(pe,{text:"3D-Ansicht"});var te=be(pe,2);gn(te,{text:"Grundriss"}),Ue(de,Se)},$$slots:{default:!0},$$legacy:!0});var Q=be(fe,2);{var T=de=>{_a(de,{})},ne=de=>{Aa(de,{})};Ur(Q,de=>{ge(ee)===0?de(T):de(ne,!1)})}Ue(K,$)}var Oa=Ye('<h7 class="bx--type-expressive-heading-01">Lagerbemessung</h7> <div style="padding-top:var(--cds-spacing-05)"></div> <div style="margin-bottom: var(--cds-spacing-03);"><!></div> <!> <div style="padding-top:var(--cds-spacing-05)"></div> <div style="margin-bottom: var(--cds-spacing-03);"><!></div> <!> <div style="padding-top:var(--cds-spacing-05)"></div> <div style="margin-bottom: var(--cds-spacing-03);"><!></div> <!> <div style="padding-top:var(--cds-spacing-05)"></div> <div style="margin-bottom: var(--cds-spacing-03);"><!></div> <!> <div style="padding-top:var(--cds-spacing-03)"></div> <!>',1),Na=Ye('<h7 class="bx--type-expressive-heading-01">Weitere Nachweise</h7> <div style="padding-top:var(--cds-spacing-05)"></div> <p style="color: var(--cds-text-secondary);">Placeholder für weitere Nachweise</p>',1),Ma=Ye('<h7 class="bx--type-expressive-heading-01">Zusätzliche Ergebnisse</h7> <div style="padding-top:var(--cds-spacing-05)"></div> <p style="color: var(--cds-text-secondary);">Placeholder für zusätzliche Ergebnisse</p>',1),Ra=Ye("<!> <!> <!>",1),za=Ye('<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;"><h5 class="bx--type-expressive-heading-02">Bemessung Schubverformungslager</h5></div> <div style="padding-top:var(--cds-spacing-05)"></div> <!>',1);function Va(K,ee){Ni(ee,!1);const[$,fe]=Zr(),Q=()=>kr(Ln,"$shearDeformationResultStore",$),T=()=>kr(or,"$shearDeformationParameterStore",$),ne=Yt(),de=Yt(),Ge=Yt(),Se=Yt(),pe=Yt(),te=Yt(),qe=Yt();li(()=>Q(),()=>{Ut(ne,Q())}),li(()=>T(),()=>{Ut(de,T())}),li(()=>ge(ne),()=>{var V;Ut(Ge,{Name:"\\sigma_{Ed} \\; / \\; \\sigma_{Rd}(S)",Abstract:"",Result:`= ${ge(ne).nachw_vert.toFixed(2)}`,ConditionFulfilled:((V=ge(ne))==null?void 0:V.nachw_vert)<=1,TagTextGood:"<= 1",TagTextBad:"> 1"})}),li(()=>ge(ne),()=>{Ut(Se,{Name:"\\frac{u_{vorh}}{u_{zul}}",Abstract:"= 0.6 \\cdot (t-2)",Result:`= ${ge(ne).nachw_schub.toFixed(2)}`,ConditionFulfilled:ge(ne).nachw_schub<=1,TagTextGood:"<= 1",TagTextBad:"> 1"})}),li(()=>ge(ne),()=>{Ut(pe,{Name:"\\frac{\\alpha_{b,vorh}}{\\alpha_{b,max}}",Abstract:"= \\frac{450 \\cdot t}{a} \\le 48",Result:`= ${ge(ne).nachw_rotb.toFixed(2)}`,ConditionFulfilled:ge(ne).nachw_rotb<=1,TagTextGood:"<= 1",TagTextBad:"> 1"})}),li(()=>ge(ne),()=>{Ut(te,{Name:"Z_a",Abstract:"= 1.5 \\cdot \\sigma_{Ed} \\cdot a \\cdot t",Result:`= ${ge(ne).querz_x.toFixed(2)}\\;kN`})}),li(()=>ge(ne),()=>{Ut(qe,{Name:"Z_b",Abstract:"= 1.5 \\cdot \\sigma_{Ed} \\cdot b \\cdot t",Result:`= ${ge(ne).querz_y.toFixed(2)}\\;kN`})}),Gr(),Kr(K,{style:"height: 100%;",children:(V,xe)=>{var ae=za(),ye=be(Bt(ae),4);Ir(ye,{noGutterLeft:!0,children:(oe,Je)=>{Ui(oe,{children:(Ce,Qe)=>{var ke=Ra(),I=Bt(ke);gi(I,{sm:16,md:16,lg:6,children:(Fe,dt)=>{var mt=Oa(),tt=be(Bt(mt),4),ct=Li(tt);Vt(ct,{children:(Ze,Dt)=>{ot();var At=pi("Vertikale Tragfähigkeit");Ue(Ze,At)},$$slots:{default:!0}}),Oi(tt);var we=be(tt,2);rr(we,{get formula(){return ge(Ge)},get isFulfilled(){return ge(Ge).ConditionFulfilled},get tagTextGood(){return ge(Ge).TagTextGood},get tagTextBad(){return ge(Ge).TagTextBad}});var Zt=be(we,4),ie=Li(Zt);Vt(ie,{children:(Ze,Dt)=>{ot();var At=pi("Schubverformungsnachweis");Ue(Ze,At)},$$slots:{default:!0}}),Oi(Zt);var bt=be(Zt,2);rr(bt,{get formula(){return ge(Se)},get isFulfilled(){return ge(Se).ConditionFulfilled},get tagTextGood(){return ge(Se).TagTextGood},get tagTextBad(){return ge(Se).TagTextBad}});var It=be(bt,4),Oe=Li(It);Vt(Oe,{children:(Ze,Dt)=>{ot();var At=pi("Rotationsnachweis");Ue(Ze,At)},$$slots:{default:!0}}),Oi(It);var ht=be(It,2);rr(ht,{get formula(){return ge(pe)},get isFulfilled(){return ge(pe).ConditionFulfilled},get tagTextGood(){return ge(pe).TagTextGood},get tagTextBad(){return ge(pe).TagTextBad},additionalSign1:"‰"});var Ht=be(ht,4),Ft=Li(Ht);Vt(Ft,{children:(Ze,Dt)=>{ot();var At=pi("Querzugkräfte");Ue(Ze,At)},$$slots:{default:!0}}),Oi(Ht);var Et=be(Ht,2);rr(Et,{get formula(){return ge(te)}});var Jt=be(Et,4);rr(Jt,{get formula(){return ge(qe)}}),Ue(Fe,mt)},$$slots:{default:!0}});var He=be(I,2);gi(He,{sm:16,md:16,lg:5,children:(Fe,dt)=>{var mt=Na();ot(4),Ue(Fe,mt)},$$slots:{default:!0}});var et=be(He,2);gi(et,{sm:16,md:16,lg:5,children:(Fe,dt)=>{var mt=Ma();ot(4),Ue(Fe,mt)},$$slots:{default:!0}}),Ue(Ce,ke)},$$slots:{default:!0}})},$$slots:{default:!0}}),Ue(V,ae)},$$slots:{default:!0}}),Mi(),fe()}var Ba=Ye("<h3>Online-Bemessung Schubverformungslager</h3>"),Fa=Ye('<div style="flex: 1; min-height: 0;"><!></div>'),Da=Ye("<!> <!>",1),qa=Ye('<!> <div style="padding-top:var(--cds-spacing-05)"></div> <!> <div style="padding-top:var(--cds-spacing-05)"></div> <!>',1),$a=Ye('<!> <div style="padding-top:var(--cds-spacing-05)"></div> <!> <div style="padding-top:var(--cds-spacing-05)"></div>',1),Ua=Ye('<div style="padding-top: 2rem;"></div> <!>',1);function Ha(K,ee){Ni(ee,!1);const[$,fe]=Zr(),Q=()=>kr(or,"$shearDeformationParameterStore",$),T=Yt();let ne="g10";hr(async()=>{await kn(),console.log("ShearDeformTool mounted with parameters:",Q()),Sr(ge(T))}),li(()=>Q(),()=>{Ut(T,Q())}),Gr(),Hi();var de=Ua(),Ge=be(Bt(de),2);Tn(Ge,{theme:ne,children:(Se,pe)=>{hs(Se,{children:(te,qe)=>{var V=$a(),xe=Bt(V);Ir(xe,{children:(ye,oe)=>{var Je=qa(),Ce=Bt(Je);Ui(Ce,{style:"width: 100%;padding:0",children:(I,He)=>{Kr(I,{light:!1,style:"width: 100%;background: transparent;",children:(et,Fe)=>{var dt=Ba();Ue(et,dt)},$$slots:{default:!0}})},$$slots:{default:!0}});var Qe=be(Ce,4);Ui(Qe,{style:"padding:0",children:(I,He)=>{var et=Da(),Fe=Bt(et);gi(Fe,{sm:16,md:16,lg:9,style:"padding:0; padding-right:var(--cds-spacing-05)",children:(mt,tt)=>{Js(mt,{})},$$slots:{default:!0}});var dt=be(Fe,2);gi(dt,{sm:16,md:16,lg:7,style:"padding:0; display: flex; flex-direction: column;",children:(mt,tt)=>{var ct=Fa(),we=Li(ct);La(we),Oi(ct),Ue(mt,ct)},$$slots:{default:!0}}),Ue(I,et)},$$slots:{default:!0}});var ke=be(Qe,4);Ui(ke,{style:"padding:0",children:(I,He)=>{gi(I,{sm:16,md:16,lg:16,style:"padding:0",children:(et,Fe)=>{Va(et,{})},$$slots:{default:!0}})},$$slots:{default:!0}}),Ue(ye,Je)},$$slots:{default:!0}});var ae=be(xe,4);Ir(ae,{children:(ye,oe)=>{Ui(ye,{style:"padding:0",children:(Je,Ce)=>{gi(Je,{sm:16,md:16,lg:16,style:"padding:0"})},$$slots:{default:!0}})},$$slots:{default:!0}}),ot(2),Ue(te,V)},$$slots:{default:!0}})},$$slots:{default:!0}}),Ue(K,de),Mi(),fe()}var Ga=Ye(`<!> <style>:global(html, body) {
    height: 100%;
    margin: 0;
    padding: 0;
  }</style>`,1);function ru(K,ee){Ni(ee,!1),hr(async()=>{document.readyState==="complete"?await new Promise($=>setTimeout($,50)):(await new Promise($=>{window.addEventListener("load",$,{once:!0})}),await new Promise($=>setTimeout($,50)))}),Hi(),Tn(K,{theme:"white",children:($,fe)=>{var Q=Ga(),T=Bt(Q);Ha(T,{}),ot(2),Ue($,Q)},$$slots:{default:!0}}),Mi()}export{ru as component,iu as universal};
